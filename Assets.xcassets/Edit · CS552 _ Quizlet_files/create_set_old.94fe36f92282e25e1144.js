QWait("Quizlet.Common.bootstrap",function(){QWait("Quizlet.Common.common",function(){QWait("Quizlet.Common.react",function(){QWait("Quizlet.Common.i18n",function(){webpackJsonp([3,68],{103:function(e,t,n){n(139),n(109),e.exports=n(104)},104:function(e,t,n){var i=n(79),r=n(72);e.exports=n(30).getIterator=function(e){var t=r(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return i(t.call(e))}},105:function(e,t){var n,i={}.hasOwnProperty,r=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};e.exports=n=function(e,t,n){var s;if(null==n&&(n=[]),e===t)return!0;for(s in e)if(i.call(e,s)&&r.call(n,s)<0&&t.hasOwnProperty(s)&&e[s]!==t[s])return!1;for(s in t)if(i.call(t,s)&&r.call(n,s)<0&&!e.hasOwnProperty(s))return!1;return!0}},1059:function(e,t,n){e.exports=n(1060)},1060:function(e,t,n){var i,r,s;!function(o,a){r=[t,e,n(0)],i=a,s="function"==typeof i?i.apply(t,r):i,!(void 0!==s&&(e.exports=s))}(this,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return o.default.createClass({render:function(){var i={};return void 0!==t&&(i.checked=this.props.value===t),"function"==typeof n&&(i.onChange=n.bind(null,this.props.value)),o.default.createElement("input",s({},this.props,{type:"radio",name:e},i))}})}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=i(n);t.exports=o.default.createClass({displayName:"index",propTypes:{name:n.PropTypes.string,selectedValue:n.PropTypes.oneOfType([n.PropTypes.string,n.PropTypes.number,n.PropTypes.bool]),onChange:n.PropTypes.func,children:n.PropTypes.func.isRequired},render:function(){var e=this.props,t=e.name,n=e.selectedValue,i=e.onChange,s=e.children,a=s(r(t,n,i));return a&&o.default.Children.only(a)}})})},107:function(e,t,n){"use strict";function i(e,t){return setTimeout(t,e)}function r(e,t){return setInterval(t,e)}function s(e){clearInterval(e)}function o(e){clearTimeout(e)}t.__esModule=!0,t.timeoutSet=i,t.intervalSet=r,t.intervalClear=s,t.timeoutClear=o},1100:function(e,t,n){"use strict";(function(i){function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var s=n(9),o=r(s),a=n(11),u=r(a),l=n(24),c=r(l),d=n(272),p=r(d),h=n(185),f=r(h),m=n(227),g=r(m),_=n(728),v=r(_),S=n(614),y=r(S),E=n(114),C=r(E),T=n(732),w=r(T),P={errorQueue:[],activeError:null,setup:function(){this.bindActions(y.default.actions.DISMISS,this._dismiss),this.bindActions(y.default.actions.CREATE,this._create),this.bindActions(p.default.actions.CREATE_FAILURE,this._imageUploadError),this.bindActions(p.default.actions.DROP_FAILURE,this._imageDropError),this.bindActions(p.default.actions.BULK_UPLOAD_FAILURE,this._bulkImageUploadError),this.bindActions(f.default.actions.PUBLISH_FAILURE,this._publishFailure),this.bindActions(f.default.actions.UPDATE_FAILURE,this._setUpdateFailure),this.bindActions(f.default.actions.DISCARD_FAILURE,this._discardFailure),this.bindActions(g.default.actions.UPDATE_FAILURE,this._termUpdateFailure),this.bindActions(v.default.actions.CREATE_FAILURE,this._termImageCreateFailure)},getActiveError:function(){return this.activeError},_create:function(e){var t=e.title,n=e.messages,i=e.fatal;this._pushError(t,n,i)},_dismiss:function(){this.activeError=this.errorQueue.shift()},_discardFailure:function(e){var t=e.error,n=i("en-US","Error discarding this set");return t instanceof w.default?void this._fatalError(n,t):void this._pushError(n,t)},_publishFailure:function(e){var t=e.error,n=e.model,r=i("en-US","Sorry! We can't save this set yet.");if(t instanceof w.default)return void this._fatalError(r,t);var s=[];t instanceof C.default?n.getValidationErrors().filter(function(e){return e.identifier in y.default.ignoredValidationErrors.set}).forEach(function(e){return s.push(e)}):t&&s.push(t.message),s.length>0&&this._pushError(r,s)},_imageUploadError:function(e){var t=e.error,n=e.model,r=i("en-US","Sorry! We couldn't upload this image.");return t instanceof w.default?void this._fatalError(r,t):void(t instanceof C.default?this._pushError(r,n.getValidationErrors()):t&&this._pushError(r,["Please try again."]))},_imageDropError:function(e){var t=e.error,n=i("en-US","Sorry! We couldn't upload this image.");this._pushError(n,[t.message])},_bulkImageUploadError:function(e){var t=e.error,n=i("en-US","Some files couldn't be uploaded."),r=t.files.map(function(e){return e.name});this._pushError(n,[t.message],!1,r)},_termUpdateFailure:function(e){var t=e.error,n=e.models,r=i("en-US","Sorry! We couldn't save your set.");if(t instanceof w.default)return void this._fatalError(r,t);var s=[];t instanceof C.default?(0,u.default)(n).forEach(function(e){var t=n[e];t.getValidationErrors().forEach(function(e){return s.push(e)})}):t&&s.push(t.message),s.length>0&&this._pushError(r,s)},_setUpdateFailure:function(e){var t=e.error,n=e.model,r=i("en-US","Sorry! We couldn't save your set."),s=[];return t instanceof w.default?void this._fatalError(r,t):(t instanceof C.default?n.getValidationErrors().forEach(function(e){return s.push(e)}):t&&s.push(t.message),void(s.length>0&&this._pushError(r,s)))},_termImageCreateFailure:function(e){var t=e.error,n=e.model,r=i("en-US","Sorry! We couldn't add the image."),s=[];return t instanceof w.default?void this._fatalError(r,t):(t instanceof C.default?n.getValidationErrors().forEach(function(e){return s.push(e)}):t&&s.push(i("en-US","Please try again.")),void(s.length>0&&this._pushError(r,s)))},_fatalError:function(e,t){this._pushError(e,[t.message],!0)},_pushError:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r={title:e,messages:t,fatal:n,secondaryMessages:i};this.activeError?this.errorQueue.push(r):this.activeError=r}};P=(0,o.default)(P,c.default),P.init(),t.default=P,e.exports=t.default}).call(t,n(6))},1101:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(9),s=i(r),o=n(24),a=i(o),u=n(1151),l=i(u),c={isImageUpsellModalOpen:!1,setup:function(){return this.bindActions(l.default.actions.OPEN_IMAGE_UPSELL_MODAL,this._openImageUpsellModal),this.bindActions(l.default.actions.DISMISS_IMAGE_UPSELL_MODAL,this._dismissImageUpsellModal)},getIsImageUpsellModalOpen:function(){return this.isImageUpsellModalOpen},_openImageUpsellModal:function(){this.isImageUpsellModalOpen=!0},_dismissImageUpsellModal:function(){this.isImageUpsellModalOpen=!1}};c=(0,s.default)(c,a.default),c.init(),t.default=c,e.exports=t.default},1102:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(9),s=i(r),o=n(24),a=i(o),u=n(808),l=i(u),c=n(1542),d=i(c),p=n(93),h=i(p),f={user:null,setup:function(e){e&&(this.user=new l.default(e)),this.bindActions(d.default.actions.UPDATE,this._update)},getUser:function(){return this.user},_update:function(e){var t=e.props;this.user=(0,h.default)(this.user,{$merge:t})}};f=(0,s.default)(f,a.default),f.init(),t.default=f,e.exports=t.default},1109:function(e,t,n){var i,r,s,o,a,u,l,c={}.hasOwnProperty,d=function(e,t){function n(){this.constructor=e}for(var i in t)c.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};o=n(24),i=n(272),s=n(804),l=n(93),a=n(115),u=n(25),r={images:{},placeholders:{},setup:function(e){return this._setup(e),this.bindActions(i.actions.BULK_CREATE,this._bulkCreate),this.bindActions(i.actions.CREATE_PLACEHOLDER,this._createPlaceholder),this.bindActions(i.actions.CREATE_RICH_PLACEHOLDER,this._createRichPlaceholder),this.bindActions(i.actions.CREATE_SUCCESS,this._createSuccess),this.bindActions(i.actions.CREATE_FAILURE,this._createFailure),this.bindActions(i.actions.CREATE_PROGRESS,this._createProgress),this.bindActions(i.actions.DELETE,this._delete),this.bindActions(i.actions.PRELOAD,this._preload),this.bindActions(i.actions.STORE,this._store)},getAll:function(){return this.images},getPlaceholders:function(){return this.placeholders},_bulkCreate:function(e){var t,n,i,r,o;for(n={},i={},r=0,o=e.length;r<o;r++)t=e[r],n[t.imageLuid]=new s,i[t.imageLuid]=null;return this.images=l(this.images,{$merge:n}),this.placeholders=l(this.placeholders,{$merge:i}),e.map(function(e){return e.imageLuid})},_createPlaceholder:function(e){var t,n;if(t=e.luid,this._contains(t))return n=u(t),n[t]={type:i.placeholders.PLAIN,isProcessing:!1,isUploading:!0,percentProgress:null,dataUrl:null},this.placeholders=l(this.placeholders,{$merge:n}),[t]},_createRichPlaceholder:function(e){var t,n,r;if(t=e.luid,n=e.placeholderUrl,this._contains(t))return r=u(t),r[t]={type:i.placeholders.RICH,isProcessing:!1,isUploading:!0,percentProgress:0,dataUrl:n},this.placeholders=l(this.placeholders,{$merge:r}),[t]},_createSuccess:function(e){var t,n,r,s;if(n=e.luid,r=e.model,this._ensureContains(n),t=u(n,{$merge:r.properties}),this.images=l(this.images,t),null!=this.placeholders[n])return s=u(n,{$merge:{}}),s[n].$merge.isUploading=!1,this.placeholders[n].type===i.placeholders.RICH?s[n].$merge.isProcessing=!1:s[n].$merge.isProcessing=!0,this.placeholders=l(this.placeholders,s)},_createFailure:function(e){var t,n,i;return t=e.error,n=e.luid,i=e.model,this._delete({luid:n}),[n]},_createProgress:function(e){var t,n,i;if(t=e.luid,n=e.progress,this._ensureContains(t),null!=this.placeholders[t])return i=u(t,{$merge:{}}),i[t].$merge.percentProgress=n,i[t].$merge.isProcessing=100===n,this.placeholders=l(this.placeholders,i),[t]},_delete:function(e){var t;return t=e.luid,this._ensureContains(t),this.images=a(this.images,[t]),this.placeholders=a(this.placeholders,[t]),[t]},_preload:function(e){var t,n;return t=e.luid,this._ensureContains(t),n=u(t,null),this.placeholders=l(this.placeholders,{$merge:n}),[t]},_store:function(e){var t,n,i,r;n={},r={};for(i in e)t=e[i],this._contains(i)||(n[i]=new s(t),r[i]=null);return this.images=l(this.images,{$merge:n}),this.placeholders=l(this.placeholders,{$merge:r}),function(){var t;t=[];for(i in e)t.push(i);return t}()},_setup:function(e){return this._store(e)},_ensureContains:function(e){if(!this._contains(e))throw new Error("Image LUID "+e+" not found")},_contains:function(e){return e in this.images&&e in this.placeholders}},d(r,o),r.init(),e.exports=r},1110:function(e,t,n){(function(t,i){var r,s,o,a,u,l,c,d,p,h,f,m,g,_,v,S,y={}.hasOwnProperty,E=function(e,t){function n(){this.constructor=e}for(var i in t)y.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};r=n(20),c=n(24),h=n(348),d=n(154),a=n(185),p=n(227),l=n(364),v=n(93),g=n(25),m=n(115),S=n(363),_=n(47).default,f=n(114),o=2,s=25e3,u={set:{},luid:null,redirecting:!1,wasPreviouslyPublished:!1,publishDisabled:!1,discardDisabled:!1,detectLanguageResults:{},validationErrors:{},profanityErrors:{},titleIsFocused:!1,openLangSelectSide:null,hideTerms:!1,setup:function(e,t){return this.luid=e,this.set=new l(t),this.wasPreviouslyPublished=this.set.isPublished(),this.bindActions(a.actions.UPDATE,this._update),this.bindActions(a.actions.UPDATE_SUCCESS,this._updateSuccess),this.bindActions(a.actions.PUBLISH,this._publish),this.bindActions(a.actions.PUBLISH_SUCCESS,this._publishSuccess),this.bindActions(a.actions.PUBLISH_FAILURE,this._publishFailure),this.bindActions(a.actions.FOCUS_TITLE,this._focusTitle),this.bindActions(p.actions.ACTIVATE_ROW,this._focusOther),this.bindActions(p.actions.ACTIVATE_ROW_SIDE,this._focusOther),this.bindActions(a.actions.DISCARD,this._discard),this.bindActions(a.actions.DISCARD_SUCCESS,this._discardSuccess),this.bindActions(a.actions.DISCARD_FAILURE,this._discardFailure),this.bindActions(a.actions.DETECT_LANGUAGE,this._detectLanguage),this.bindActions(a.actions.DETECT_LANGUAGE_SUCCESS,this._detectLanguageSuccess),this.bindActions(a.actions.DETECT_LANGUAGE_FAILURE,this._detectLanguageFailure),this.bindActions(a.actions.DETECT_PROFANITY_SUCCESS,this._detectProfanitySuccess),this.bindActions(a.actions.SHOW_LANG_SELECT,this._showLangSelect),this.bindActions(a.actions.HIDE_LANG_SELECT,this._hideLangSelect),this.bindActions(a.actions.SHOW_TERMS,this._showTerms),this.bindActions(a.actions.HIDE_TERMS,this._hideTerms),this.waitFor(h),this.bindActions(p.actions.UPDATE_SUCCESS,this._termUpdateSuccess)},get:function(){return this.set},getLuid:function(){return this.luid},getDetectLanguageResults:function(){return this.detectLanguageResults},getValidationErrors:function(){return this.validationErrors},getProfanityErrors:function(){return this.profanityErrors},isRedirecting:function(){return this.redirecting},isPublishDisabled:function(){return this.publishDisabled},isDiscardDisabled:function(){return this.discardDisabled},shouldHideTerms:function(){return this.hideTerms},isTitleFocused:function(){return this.titleIsFocused},getOpenLangSelectSide:function(){return this.openLangSelectSide},_update:function(e){var t;return t=e.props,this.set=v(this.set,{$merge:t})},_updateSuccess:function(e){var t,n,i;if(n=e.luid,i=e.model,t=i.get("id"))return this.set=v(this.set,{$merge:{id:t}})},_publish:function(){return this.publishDisabled=!0},_publishSuccess:function(e){var t,n;return t=e.model,this._logIfStuck(),this.redirecting=!0,n=this.wasPreviouslyPublished?"":"?new",_(t.get("_webUrl")+n)},_publishFailure:function(e){var n,r,s,o,a,u;n=e.error,o=e.model,this.publishDisabled=!1,n instanceof f&&(this.validationErrors=S(o.getValidationErrors()),!("min_terms"in this.validationErrors)&&h.getNumSyncedTerms()<2&&(this.validationErrors.min_terms=t("en-US","You need two terms to create a set."))),a=this.validationErrors,u=[];for(r in a)s=a[r],u.push(i.logPageAction("new_create_set_publish_error",{identifier:r,message:s}));return u},_termUpdateSuccess:function(){if(h.getNumSyncedTerms()>=2&&"min_terms"in this.validationErrors)return this.validationErrors=m(this.validationErrors,["min_terms"])},_discard:function(){return this.discardDisabled=!0},_focusTitle:function(){return this.titleIsFocused=!0},_focusOther:function(){return this.titleIsFocused=!1},_discardSuccess:function(e){var t;return t=e.model,this.redirecting=!0,_("/create-set")},_discardFailure:function(e){var t;return t=e.model,this.discardDisabled=!1},_detectLanguage:function(e){var t,n,i,r;return t=e.side,n=e.text,i=g(t),i[t]={queryString:n,isLoading:!0,error:null},(null!=(r=this.detectLanguageResults[t])?r.data:void 0)instanceof Array?i[t].data=this.detectLanguageResults[t].data:i[t].data=null,this.detectLanguageResults=v(this.detectLanguageResults,{$merge:i})},_detectLanguageSuccess:function(e){var t,n,r,s,o,a,u;if(r=e.side,t=e.detectLanguageResults,n=this.detectLanguageResults[r],null!=n)return s=g(r,{$merge:{}}),s[r].$merge={data:(null!=(o=t.data)?o.detectLanguage:void 0)||[],error:t.error,isLoading:!1},(null!=(a=t.data)?a.detectLanguage.length:void 0)>0&&i.logPageAction("create_set_lang_detect_success",{langCode:null!=(u=t.data)?u.detectLanguage[0].languageCode:void 0}),this.detectLanguageResults=v(this.detectLanguageResults,s)},_detectLanguageFailure:function(e){var t,n,i,r;if(i=e.side,t=e.error,n=this.detectLanguageResults[i],null!=n)return r=g(i,{$merge:{}}),r[i].$merge={data:[],error:t,isLoading:!1},this.detectLanguageResults=v(this.detectLanguageResults,r)},_detectProfanitySuccess:function(e){var t,n,i,r,s;return t=e.field,n=e.results,i=g(t,(null!=(r=n.data)&&null!=(s=r.detectProfanity)?s.level:void 0)>=o),this.profanityErrors=v(this.profanityErrors,{$merge:i})},_showLangSelect:function(e){var t,n,i;return n=e.side,t=e.row,i=e.triggerAutodefine,this.openLangSelectSide={side:n,row:t,triggerAutodefine:i}},_hideLangSelect:function(){return this.openLangSelectSide=null},_showTerms:function(){return this.hideTerms=!1},_hideTerms:function(){return this.hideTerms=!0},_logIfStuck:function(){return timeoutSet(s,function(){var e,t;return t=d.getAllSyncing(),e={},e.syncing=t.length?t:"none",i.logPageAction("new_create_set_stuck_saving",e)})}},E(u,c),u.init(),e.exports=u}).call(t,n(6),n(2))},113:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(15),s=i(r);t.default=(0,s.default)("AppDispatcherConstants",{VIEW_ACTION:null,SERVER_ACTION:null}),e.exports=t.default},1147:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(20),s=i(r),o=n(726),a=i(o),u=n(427),l=i(u),c={classSetSyncer:l.default,bulkDel:function(e){return s.default.viewAction(a.default.actions.BULK_DELETE,{luids:e}),this.classSetSyncer.bulkDel(e).then(c.bulkDeleteSuccess).catch(c.bulkDeleteFailure)},bulkUpdate:function(e){return s.default.viewAction(a.default.actions.BULK_UPDATE,{luidToProps:e}),this.classSetSyncer.bulkSave(e).then(c.bulkUpdateSuccess).catch(c.bulkUpdateFailure)},bulkUpdateSuccess:function(e){var t=e[0];return s.default.serverAction(a.default.actions.BULK_UPDATE_SUCCESS,{models:t})},bulkUpdateFailure:function(e){var t=e[0],n=e[1];return s.default.serverAction(a.default.actions.BULK_UPDATE_FAILURE,{models:n,error:t})},bulkDeleteSuccess:function(e){var t=e[0];return s.default.serverAction(a.default.actions.BULK_DELETE_SUCCESS,{models:t})},bulkDeleteFailure:function(e){var t=e[0],n=e[1];return s.default.serverAction(a.default.actions.BULK_DELETE_FAILURE,{error:t,models:n})}};t.default=c,e.exports=t.default},1148:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(20),s=i(r),o=n(728),a=i(o),u=n(321),l=i(u),c={termImageSyncer:l.default,del:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(n&&t)return this.termImageSyncer.del(n).then(function(n){var i=n[0];return c.deleteSuccess({luid:i,termLuid:t,imageLuid:e})}).catch(function(n){var i=n[0],r=n[1];return c.deleteFailure({error:i,luid:r,termLuid:t,imageLuid:e})})},createSuccess:function(e){var t=e.luid,n=e.termLuid,i=e.imageLuid;s.default.serverAction(a.default.actions.CREATE_SUCCESS,{luid:t,termLuid:n,imageLuid:i})},createFailure:function(e){var t=e.error,n=e.luid,i=e.termLuid,r=e.imageLuid;s.default.serverAction(a.default.actions.CREATE_FAILURE,{error:t,luid:n,termLuid:i,imageLuid:r})},deleteSuccess:function(e){var t=e.luid,n=e.termLuid,i=e.imageLuid;s.default.serverAction(a.default.actions.DELETE_SUCCESS,{luid:t,termLuid:n,imageLuid:i})},deleteFailure:function(e){var t=e.error,n=e.luid,i=e.termLuid,r=e.imageLuid;s.default.serverAction(a.default.actions.DELETE_FAILURE,{error:t,luid:n,termLuid:i,imageLuid:r})}};t.default=c,e.exports=t.default},1149:function(e,t,n){"use strict";(function(i,r,s,o){function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(T[e]){var n=r([i,i,"languages."+e],{}),s=r([i,i,"languages."+t],{});return(0,C.default)(n,s)}return-1}t.__esModule=!0;var l=n(11),c=a(l),d=n(0),p=a(d),h=n(10),f=a(h),m=n(1408),g=a(m),_=n(613),v=a(_),S=n(49),y=a(S),E=n(171),C=a(E),T=y.default.allLanguages,w=y.default.frequentLanguages,P=y.default.invisibleLanguages,R=(0,c.default)(T),b=null,L=null,A=null,I=p.default.createClass({displayName:"LanguageSelect",propTypes:{disableAutofocus:p.default.PropTypes.bool,disabled:p.default.PropTypes.bool.isRequired,lang:p.default.PropTypes.oneOf(R),onHideLangSelect:p.default.PropTypes.func.isRequired,onSelectLang:p.default.PropTypes.func,otherSideLang:p.default.PropTypes.oneOf(R),recentLanguages:p.default.PropTypes.arrayOf(p.default.PropTypes.string).isRequired,setLuid:p.default.PropTypes.string.isRequired,showInvisibleLangs:p.default.PropTypes.bool,side:p.default.PropTypes.string.isRequired,width:p.default.PropTypes.string},mixins:[f.default],getDefaultProps:function(){return{disableAutofocus:!1,showInvisibleLangs:!1,width:"100%"}},componentDidMount:function(){this.openChosen()},componentDidUpdate:function(){this.props.disableAutofocus&&this.openChosen()},openChosen:function(){return this.refs.chosen.open()},onChosenLang:function(e,t){return this.selectLang(t.selected)},onMobileSelectLang:function(e){return this.selectLang(e.target.value)},selectLang:function(e){e&&e!==this.props.lang&&(v.default.updateLang(this.props.setLuid,this.props.side,e,this.props.otherSideLang),s.logPageAction("create_set_lang_detect_select",{langCode:e}),this.props.onSelectLang&&this.props.onSelectLang(this.props.side,e))},getYourLangKeyPrefix:function(){return this.props.side+"-yours"},getFrequentLangKeyPrefix:function(){return this.props.side+"-frequent"},getAllLangKeyPrefix:function(){return this.props.side+"-all"},getPlaceholderKey:function(){return this.props.side+"-placeholder"},shouldShowLang:function(e){return this.props.showInvisibleLangs||P.indexOf(e)<0},renderYourLang:function(e){var t=this;return A||(A=this.props.recentLanguages.slice(0).sort(u).filter(function(e){return t.shouldShowLang(e)}).map(function(t){return p.default.createElement("option",{key:e+t,value:t},r([i,i,"languages."+t],{}))})),A},renderFrequentLang:function(e){var t=this;return L||(L=w.slice(0).sort(u).filter(function(e){return t.props.recentLanguages.indexOf(e)<0&&t.shouldShowLang(e)}).map(function(t){return p.default.createElement("option",{key:e+t,value:t},r([i,i,"languages."+t],{}))})),L},renderAllLang:function(e){var t=this;return b||(b=(0,c.default)(T).sort(u).filter(function(e){return t.props.recentLanguages.indexOf(e)<0&&w.indexOf(e)<0&&t.shouldShowLang(e)}).map(function(t){return p.default.createElement("option",{key:e+t,value:t},r([i,i,"languages."+t],{}))})),b},render:function(){var e=this.getYourLangKeyPrefix(),t=this.getFrequentLangKeyPrefix(),n=this.getAllLangKeyPrefix(),i=this.getPlaceholderKey(),r=this.renderYourLang(e),s=this.renderFrequentLang(t),a=this.renderAllLang(n),u=this.props.lang?this.props.lang:"";return p.default.createElement("div",{className:"LanguageSelect"},p.default.createElement("div",{className:"LanguageSelect-chosen"},p.default.createElement(g.default,{disableAutofocus:this.props.disableAutofocus,disabled:this.props.disabled,onChange:this.onChosenLang,onHidingDropdown:this.props.onHideLangSelect,ref:"chosen",searchPlaceholder:o("en-US","Search languages"),value:u,width:this.props.width},p.default.createElement("option",{key:i}),p.default.createElement("optgroup",{key:e,label:o("en-US","Your Languages")},r),p.default.createElement("optgroup",{key:t,label:o("en-US","Top Quizlet Languages")},s),p.default.createElement("optgroup",{key:n,label:o("en-US","All languages")},a))),p.default.createElement("select",{disabled:this.props.disabled,value:u,className:"LanguageSelect-mobileSelect",onChange:this.onMobileSelectLang},p.default.createElement("option",{key:i,value:""},o("en-US","Choose language")),p.default.createElement("option",{key:e,disabled:!0},o("en-US","Your Languages")),r,p.default.createElement("option",{key:t,disabled:!0},o("en-US","Top Quizlet Languages")),s,p.default.createElement("option",{key:n,disabled:!0},o("en-US","All languages")),a))}});t.default=I,e.exports=t.default}).call(t,n(141),n(96),n(2),n(6))},115:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){for(var n,i=(0,o.default)({},e),r=0;r<t.length;r++)n=t[r],delete i[n];return i}t.__esModule=!0;var s=n(9),o=i(s);t.default=r,e.exports=t.default},1150:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(15),s=i(r);t.default=(0,s.default)("FolderSetConstants",{actions:{BULK_UPDATE:null}}),e.exports=t.default},1151:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(15),s=i(r),o=(0,s.default)("UpgradeConstants",{actions:{OPEN_IMAGE_UPSELL_MODAL:null,DISMISS_IMAGE_UPSELL_MODAL:null}});t.default=o,e.exports=t.default},1152:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(49),s=n(794),o=i(s),a={onTextareaClick:function(e){return e.stopPropagation()},onFocus:function(e){return this.props.onFocus(e,this.side)},onBlur:function(e){return this.props.onBlur(e,this.side)},onChange:function(e){return this.props.onChange(e,this.side)},getSelectionStart:function(){return this.refs.textarea.getSelectionStart()},getSelectionEnd:function(){return this.refs.textarea.getSelectionEnd()},setCaretPosition:function(e){return this.refs.textarea.setCaretPosition(e)},focus:function(e){return this.refs.textarea.focus(e)},blur:function(){return this.refs.textarea.blur()},isRightToLeftLanguage:function(e){return r.rightToLeftLanguages.indexOf(e)>=0},getTextDirection:function(){return this.isRightToLeftLanguage(this.props.lang)?"rtl":"ltr"},getLanguage:function(){return(0,o.default)(this.props.lang)}};t.default=a,e.exports=t.default},117:function(e,t,n){var i,r,s,o;r=n(233),s=0,o="ID_",e.exports=i=function(){function e(){}return e._callbacks={},e._isPending={},e._isHandled={},e._isDispatching=!1,e._pendingPayload=null,e.register=function(e){var t;return t=o+s++,this._callbacks[t]=e,t},e.unregister=function(e){return r(this._callbacks[e],"Dispatcher.unregister(...): "+e+" does not map to a registered callback."),delete this._callbacks[e]},e.waitFor=function(e){var t,n,i,s;for(r(this._isDispatching,"Dispatcher.waitFor(...): Must be invoked while dispatching."),s=[],n=0,i=e.length;n<i;n++)t=e[n],this._isPending[t]?r(this._isHandled[t],"Dispatcher.waitFor(...): Circular dependency detected while waiting for "+t):(r(this._callbacks[t],"Dispatcher.waitFor(...): "+t+" does not map to a registered callback."),s.push(this._invokeCallback(t)));return s},e.dispatch=function(e){var t,n;r(!this._isDispatching,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."),this._startDispatching(e);try{n=[];for(t in this._callbacks)this._isPending[t]||n.push(this._invokeCallback(t));return n}finally{this._stopDispatching()}},e.isDispatching=function(){return this._isDispatching},e._invokeCallback=function(e){return this._isPending[e]=!0,this._callbacks[e](this._pendingPayload),this._isHandled[e]=!0},e._startDispatching=function(e){var t;for(t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;return this._pendingPayload=e,this._isDispatching=!0},e._stopDispatching=function(){return this._pendingPayload=null,this._isDispatching=!1},e}()},118:function(e,t,n){var i,r;(function(){var s;s={pinyinRegex:/(shuang|chuang|zhuang|xiang|qiong|shuai|niang|guang|sheng|kuang|shang|jiong|huang|jiang|shuan|xiong|zhang|zheng|zhong|zhuai|zhuan|qiang|chang|liang|chuan|cheng|chong|chuai|hang|peng|chuo|piao|pian|chua|ping|yang|pang|chui|chun|chen|chan|chou|chao|chai|zhun|mang|meng|weng|shai|shei|miao|zhui|mian|yong|ming|wang|zhuo|zhua|shao|yuan|bing|zhen|fang|feng|zhan|zhou|zhao|zhei|zhai|rang|suan|reng|song|seng|dang|deng|dong|xuan|sang|rong|duan|cuan|cong|ceng|cang|diao|ruan|dian|ding|shou|xing|zuan|jiao|zong|zeng|zang|jian|tang|teng|tong|bian|biao|shan|tuan|huan|xian|huai|tiao|tian|hong|xiao|heng|ying|jing|shen|beng|kuan|kuai|nang|neng|nong|juan|kong|nuan|keng|kang|shua|niao|guan|nian|ting|shuo|guai|ning|quan|qiao|shui|gong|geng|gang|qian|bang|lang|leng|long|qing|ling|luan|shun|lian|liao|zhi|lia|liu|qin|lun|lin|luo|lan|lou|qiu|gai|gei|gao|gou|gan|gen|lao|lei|lai|que|gua|guo|nin|gui|niu|nie|gun|qie|qia|jun|kai|kei|kao|kou|kan|ken|qun|nun|nuo|xia|kua|kuo|nen|kui|nan|nou|kun|jue|nao|nei|hai|hei|hao|hou|han|hen|nai|rou|xiu|jin|hua|huo|tie|hui|tun|tui|hun|tuo|tan|jiu|zai|zei|zao|zou|zan|zen|eng|tou|tao|tei|tai|zuo|zui|xin|zun|jie|jia|run|diu|cai|cao|cou|can|cen|die|dia|xue|rui|cuo|cui|dun|cun|cin|ruo|rua|dui|sai|sao|sou|san|sen|duo|den|dan|dou|suo|sui|dao|sun|dei|zha|zhe|dai|xun|ang|ong|wai|fen|fan|fou|fei|zhu|wei|wan|min|miu|mie|wen|men|lie|chi|cha|che|man|mou|mao|mei|mai|yao|you|yan|chu|pin|pie|yin|pen|pan|pou|pao|shi|sha|she|pei|pai|yue|bin|bie|yun|nüe|lve|shu|ben|ban|bao|bei|bai|lüe|nve|ren|ran|rao|xie|re|ri|si|su|se|ru|sa|cu|ce|ca|ji|ci|zi|zu|ze|za|hu|he|ha|ju|ku|ke|qi|ka|gu|ge|ga|li|lu|le|qu|la|ni|xi|nu|ne|na|ti|tu|te|ta|xu|di|du|de|bo|lv|ba|ai|ei|ao|ou|an|en|er|da|wu|wa|wo|fu|fo|fa|nv|mi|mu|yi|ya|ye|me|mo|ma|pi|pu|po|yu|pa|bi|nü|bu|lü|e|o|a)r?[1-5]/gi,vowels:{"a*":"0","e*":"1","i*":"2","o*":"3","u*":"4","ü*":"5","A*":"6","E*":"7","I*":"8","O*":"9","U*":"10","Ü*":"11"},pinyin:{1:["ā","ē","ī","ō","ū","ǖ","Ā","Ē","Ī","Ō","Ū","Ǖ"],2:["á","é","í","ó","ú","ǘ","Á","É","Í","Ó","Ú","Ǘ"],3:["ǎ","ě","ǐ","ǒ","ǔ","ǚ","Ǎ","Ě","Ǐ","Ǒ","Ǔ","Ǚ"],4:["à","è","ì","ò","ù","ǜ","À","È","Ì","Ò","Ù","Ǜ"],5:["a","e","i","o","u","ü","A","E","I","O","U","Ü"]},convert:function(e){var t,n,i,r,s;if(r=e.match(this.pinyinRegex),!r)return e;for(t=0,n=r.length;t<n;t++)i=r[t],s=this.getReplacement(i),e=e.replace(i,s);return e},getReplacement:function(e){var t,n,i,r,s,o,a,u,l;t=this.getAccentMap(),s=e.slice(-1),l=e.slice(0,-1).replace("v","ü").replace("V","Ü");for(i in t)if(o=t[i],l.indexOf(i)>=0)return a=o.match(/.\*/)[0],u=this.vowels[a],n=this.pinyin[s.toString()][u],r=l.replace(i,o).replace(a,n);return e},getAccentMap:function(){var e,t,n,i,r,s,o,a;if(!this.accentMap)for(o="a*i a*o e*i ia* ia*o ie* io* iu* A*I A*O E*I IA* IA*O IE* IO* IU* o*u ua* ua*i ue* ui* uo* üe* O*U UA* UA*I UE* UI* UO* ÜE* A* E* I* O* U* Ü* a* e* i* o* u* ü*",r=o.replace(/\*/g,""),a=o.split(" "),this.accentMap={},s=r.split(" "),t=n=0,i=s.length;n<i;t=++n)e=s[t],this.accentMap[e]=a[t];return this.accentMap}},function(s,o){return i=o,r="function"==typeof i?i.call(t,n,t,e):i,!(void 0!==r&&(e.exports=r))}(this,function(){return s})}).call(this)},1187:function(e,t,n){var i,r,s,o,a,u,l,c,d,p,h,f,m,g;i=n(20),s=n(727),a=n(225),l=n(263),h=n(265),o=n(320),p=n(264),u=n(179),c=n(332),d=n(1189),m=n(25),g=n(26),f=2e4,e.exports=r={setLuid:null,termLuid:null,termSide:null,termCustomAudioLuid:null,waitingForSaveTimeout:null,setSyncer:l,termSyncer:h,customAudioSyncer:o,termCustomAudioSyncer:p,record:function(e,t,n,r){return this.setLuid=e,this.termLuid=t,this.termSide=n,this.termCustomAudioLuid=r,i.viewAction(s.actions.RECORD,{setLuid:this.setLuid,termLuid:this.termLuid,termSide:this.termSide,termCustomAudioLuid:this.termCustomAudioLuid}),this.customAudioSyncer.record()},stop:function(){return i.viewAction(s.actions.STOP),this.customAudioSyncer.stop()},cancel:function(){return i.viewAction(s.actions.CANCEL),this.customAudioSyncer.cancel()},updatePermissionStatus:function(e){return i.viewAction(s.actions.PERMISSION_UPDATE,{status:e}),this.customAudioSyncer.permissionGranted=e===a.permissions.GRANTED},updateRecorderImplementation:function(e){return i.viewAction(s.actions.IMPLEMENTATION_UPDATE,{implementation:e}),this.customAudioSyncer.recorderImplementation=e},getVolume:function(){return i.viewAction(s.actions.GET_VOLUME,{volume:this.customAudioSyncer.getVolume()})},needsPermission:function(){return i.viewAction(s.actions.NEEDS_PERMISSION),this.customAudioSyncer.needsPermission()},preloadAudio:function(e,t){return null==t&&(t={}),this.customAudioSyncer.preloadAudio(e,t)},playAudio:function(e,t){return null==t&&(t={}),this.customAudioSyncer.playAudio(e,t)},stopAllAudio:function(){return this.customAudioSyncer.stopAllAudio()},saveError:function(){return r.onError(a.errors.SAVE_ERROR,{})},dismissUpsell:function(){return i.viewAction(s.actions.DISMISS_UPSELL)},onError:function(e,t){return i.serverAction(s.actions.ERROR,{code:e,data:t})},onSave:function(e){return r.create(e.api_response,this.setLuid,this.termLuid,this.termSide,this.termCustomAudioLuid)},onCancel:function(){return i.serverAction(s.actions.CANCEL_SUCCESS)},onStop:function(e){return i.serverAction(s.actions.STOP_SUCCESS,{duration:e})},onUploadFinish:function(){return i.serverAction(s.actions.UPLOAD_FINISH)},init:function(){return i.viewAction(s.actions.INIT),this.customAudioSyncer.initRecorder({onCancel:function(e){return function(){return r.onCancel()}}(this),onError:function(e){return function(t,n){return null==n&&(n={}),timeoutClear(e.waitingForSaveTimeout),e.customAudioSyncer.endSyncing(),r.onError(t,n)}}(this),onIsUsable:function(e){return function(e){return r.updateRecorderImplementation(e)}}(this),onNotUsable:function(e){return function(){return r.updateRecorderImplementation(a.implementations.NONE);
}}(this),onPermissionDenied:function(e){return function(){return r.updatePermissionStatus(a.permissions.DENIED)}}(this),onReady:function(e){return function(){return r.updatePermissionStatus(a.permissions.GRANTED)}}(this),onSave:function(e){return function(t){return timeoutClear(e.waitingForSaveTimeout),e.customAudioSyncer.endSyncing(),r.onSave(t)}}(this),onStop:function(e){return function(t){return e.waitingForSaveTimeout=timeoutSet(f,r.saveError),r.onStop(t)}}(this),onUploadFinish:function(e){return function(){return e.customAudioSyncer.beginSyncing(),r.onUploadFinish()}}(this)})},resetZoom:function(){return i.viewAction(s.actions.ZOOM_RESET)},create:function(e,t,n,o,u){var l,c,d,p,h,f,m;return null==u&&(u=null),l=this.customAudioSyncer.add(e),m={},f=this.termSyncer.getModel(n).get(o),f&&(m.text=f),h=this.setSyncer.getModel(t),d=h.get("word"===o?"wordLang":"defLang"),null!=d&&(m.language=d),c=function(e,a){return i.viewAction(s.actions.CREATE,{luid:e,model:a,termLuid:n,setLuid:t,termSide:o}),r.createTermCustomAudio(e,t,n,o,u)},g(m)>0?this.customAudioSyncer.save(l,m).then(function(e){var t,n;return t=e[0],n=e[1],c(t,n)}).catch(function(e){var t,n,i;return t=e[0],n=e[1],i=e[2],r.onError(a.errors.SAVE_ERROR,t)}):(p=this.customAudioSyncer.getModel(l),c(l,p)),l},createTermCustomAudio:function(e,t,n,i,s){return null==s&&(s=null),u.maybeCreateSet(t).then(function(e){return c.maybeCreateTerm(n,e)}).then(function(t){return d.maybeCreate(e,n,i,t,s)}).catch(function(){return r.onError(a.errors.SAVE_ERROR,{})}),e},delete:function(e,t,n,i,r){var s,o,a,u;return u=this.termCustomAudioSyncer.getModel(r),s="word"===i?"wordCustomAudioId":"definitionCustomAudioId",o="word"===i?"definitionCustomAudioId":"wordCustomAudioId",a=null!=u.get(o),a?d.update(t,r,m(s,null)):d.del(e,n,r)}}},1188:function(e,t,n){var i,r,s,o,a,u,l,c,d,p=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};a=n(27),i=n(20),l=n(479),d=n(263),c=n(676),o=n(673),s=n(672),r=n(1147),e.exports=u={setSyncer:d,toggleClass:function(e){return i.viewAction(l.actions.TOGGLE_CLASS,{luid:e})},toggleClassPermissions:function(e){return i.viewAction(l.actions.TOGGLE_CLASS_PERMISSIONS,{luid:e})},changePermission:function(e,t){return i.viewAction(l.actions.CHANGE_PERMISSION,{side:e,newPermission:t})},persistClassSetsForPermissions:function(e){var t,n,i,o,u,l,d;return c.canEditPermissions()?(u=this.setSyncer.getModel(e),u.get("id")?(i=c.getPermissions(),l=c.getSelectedClassLuids(),d=c.getSelectedEditableByClassLuids(),n=s.getAll(),t=Object.keys(n),o=Object.keys(c.getPersistedClassSets()),this._shouldDeleteAllClassSets(i)&&t.length?r.bulkDel(t):this._shouldPersistSelectedClasses(i,l)?this._saveSelectedClasses(e,u,i,l,d).then(function(e){return function(){if(e._shouldDeleteNonSelectedClassSets(i))return e._deleteNonSelectedClassSets(l,n)}}(this)):this._shouldRemoveAllClassSetsEditPermissions(i)&&o.length?this._removeEditPermissionsOnExistingClassSets(o):a.Promise.resolve()):a.Promise.resolve()):a.Promise.resolve()},_shouldDeleteAllClassSets:function(e){var t;return(t=e.viewableBy)!==l.permissions.CLASSES&&t!==l.permissions.EVERYONE},_shouldRemoveAllClassSetsEditPermissions:function(e){var t;return(t=e.editableBy)!==l.permissions.CLASSES&&t!==l.permissions.EVERYONE},_shouldDeleteNonSelectedClassSets:function(e){return e.viewableBy!==l.permissions.EVERYONE},_shouldPersistSelectedClasses:function(e,t){var n;return!this._shouldDeleteAllClassSets(e)&&(t.length>0&&((n=l.permissions.CLASSES)===e.viewableBy||n===e.editableBy))},_deleteNonSelectedClassSets:function(e,t){var n,i,o,a;if(i=s.getClassMap(),a=function(){var r,s;s=[];for(o in t)n=t[o],r=i[o],p.call(e,r)<0&&s.push(o);return s}(),a.length>0)return r.bulkDel(a)},_removeEditPermissionsOnExistingClassSets:function(e){var t,n,i,s;for(n={},i=0,s=e.length;i<s;i++)t=e[i],n[t]={canEdit:!1};return r.bulkUpdate(n)},_saveSelectedClasses:function(e,t,n,i,s){var a,u,c,d,h,f,m,g;for(f=o.getAll(),a=n.editableBy===l.permissions.CLASSES,h={},m=0,g=i.length;m<g;m++)u=i[m],c=f[u],d=this._getLuidForClassAndSet(u,e),h[d]={classId:c.id,setId:t.get("id"),canEdit:a&&p.call(s,u)>=0};return r.bulkUpdate(h)},_getLuidForClassAndSet:function(e,t){var n,i,r,o;n=s.getClassMap(),r=null;for(i in n)if(o=n[i],o===e){r=i;break}return r||ClassSetSyncer.add()}}},1189:function(e,t,n){var i,r,s,o,a,u,l,c,d;s=n(27),i=n(20),o=n(179),u=n(616),r=n(320),l=n(264),c=n(52),d=n(25),e.exports=a={customAudioSyncer:r,termCustomAudioSyncer:l,maybeCreate:function(e,t,n,i,r){var s,o,u,l,c;return null==r&&(r=null),u=this.customAudioSyncer.getModel(e),o=u.get("id"),s=u.get("code"),c="word"===n?{wordCustomAudioId:o,wordCustomAudioCode:s}:"definition"===n?{definitionCustomAudioId:o,definitionCustomAudioCode:s}:void 0,l=r?this.termCustomAudioSyncer.save(r,c):(c.termId=i,this.termCustomAudioSyncer.addAndSave(c)),l.then(function(i){var r,s;return r=i[0],s=i[1],a.createSuccess({luid:r,termLuid:t,customAudioLuid:e,side:n,model:s})}).catch(function(i){var r,s,o;return Array.isArray(i)&&(o=i,i=o[0],r=o[1],s=o[2]),a.createFailure({error:i,luid:r,termLuid:t,customAudioLuid:e,side:n})})},update:function(e,t,n,i){var r;return null==i&&(i=!0),r=d(t,n),a.bulkUpdate(e,r,i)},flipColumns:function(e,t,n){return null==n&&(n=!0),i.viewAction(u.actions.FLIP_COLUMNS),a.bulkUpdate(e,t,n)},bulkUpdate:function(e,t,n){return null==n&&(n=!0),i.viewAction(u.actions.UPDATE,{luidToProps:t}),n?o.maybeCreateSet(e).then(function(e){return function(n){var i,r;for(i in t)r=t[i],c(r,{setId:n});return e.termCustomAudioSyncer.bulkSave(t)}}(this)).then(a.bulkUpdateSuccess).catch(a.bulkUpdateFailure):s.Promise.resolve()},bulkUpdateSuccess:function(e){var t;return t=e[0],i.serverAction(u.actions.UPDATE_SUCCESS,{models:t})},bulkUpdateFailure:function(e){var t,n;return t=e[0],n=e[1],i.serverAction(u.actions.UPDATE_FAILURE,{models:n,error:t})},createSuccess:function(e){var t,n,r,s,o;return n=e.luid,o=e.termLuid,t=e.customAudioLuid,s=e.side,r=e.model,i.serverAction(u.actions.CREATE_SUCCESS,{luid:n,termLuid:o,customAudioLuid:t,side:s,model:r})},createFailure:function(e){var t,n,r,s,o;return n=e.error,r=e.luid,o=e.termLuid,t=e.customAudioLuid,s=e.side,i.serverAction(u.actions.CREATE_FAILURE,{error:n,luid:r,termLuid:o,customAudioLuid:t,side:s})},deleteSuccess:function(e){var t,n,r;return n=e.luid,r=e.termLuid,t=e.customAudioLuid,i.serverAction(u.actions.DELETE_SUCCESS,{luid:n,termLuid:r,customAudioLuid:t})},deleteFailure:function(e){var t,n,r,s;return n=e.error,r=e.luid,s=e.termLuid,t=e.customAudioLuid,i.serverAction(u.actions.DELETE_FAILURE,{error:n,luid:r,termLuid:s,customAudioLuid:t})},del:function(e,t,n){if(null==n&&(n=null),n&&t)return this.termCustomAudioSyncer.del(n).then(function(n){var i,r;return i=n[0],r=n[1],a.deleteSuccess({luid:i,termLuid:t,customAudioLuid:e})}).catch(function(n){var i,r,s;return i=n[0],r=n[1],s=n[2],a.deleteFailure({error:i,luid:r,termLuid:t,customAudioLuid:e})})}}},1190:function(e,t,n){var i,r;i=n(225),e.exports=r={getRecorderState:function(){return this.props.recorderState},getVolume:function(){return this.getRecorderState().volume},isInitialized:function(){return this.getRecorderState().initialized},isStopped:function(){return this.getRecorderState().status===i.states.STOPPED},isRecording:function(){return this.getRecorderState().status===i.states.RECORDING},isSavingRecording:function(){return this.getRecorderState().status===i.states.SAVING},isUploadingRecording:function(){return this.getRecorderState().status===i.states.UPLOADING},isWaitingForPlugin:function(){return null===this.getRecorderState().implementation},isLackingRecordingPlugin:function(){return this.getRecorderState().implementation===i.implementations.NONE},isUsingFlashPlugin:function(){return this.getRecorderState().implementation===i.implementations.FLASH},isUsingHtml5Plugin:function(){return this.getRecorderState().implementation===i.implementations.HTML5},hasRecordingPlugin:function(){return null!=this.getRecorderState().implementation&&!this.isLackingRecordingPlugin()},isPermissionNeeded:function(){return this.getRecorderState().permissions===i.permissions.NEEDED&&this.isWaitingForMic()&&!this.isMicMuted()},isPermissionDenied:function(){return this.getRecorderState().permissions===i.permissions.DENIED&&this.hasRecordingPlugin()},isPermissionGranted:function(){return this.getRecorderState().permissions===i.permissions.GRANTED&&this.hasRecordingPlugin()},isWaitingForMic:function(){return this.getRecorderState().permissions===i.permissions.NEEDED&&this.hasRecordingPlugin()},getErrorCode:function(){return this.getRecorderState().errorCode},hasError:function(){return this.getRecorderState().status===i.states.ERROR&&null!=this.getErrorCode()},hasNonUIBlockingError:function(){return this.hasError()&&!this.hasUIBlockingError()},hasUIBlockingError:function(){var e;return this.hasError()&&((e=this.getErrorCode())===i.errors.NO_MIC_ACCESS||e===i.errors.BAD_ZOOM||e===i.errors.MIC_MUTED)},isMicMuted:function(){return this.hasError()&&this.getErrorCode()===i.errors.MIC_MUTED},isZoomBad:function(){return this.hasError()&&this.getErrorCode()===i.errors.BAD_ZOOM},wasZoomReset:function(){return this.getRecorderState().wasZoomReset},hasBlockingUpsellBeenDismissed:function(){return this.getRecorderState().hasBlockingUpsellBeenDismissed}}},120:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Textfit=void 0;var r=n(143),s=i(r);t.Textfit=s.default,t.default=s.default},1300:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(0),s=i(r),o=n(1688),a=i(o),u=s.default.createClass({displayName:"CreateSetPageContext",propTypes:{abTests:s.default.PropTypes.object.isRequired,childProps:s.default.PropTypes.object.isRequired,enrolledAbTests:s.default.PropTypes.object.isRequired},childContextTypes:{abTests:s.default.PropTypes.object.isRequired,enrolledAbTests:s.default.PropTypes.object.isRequired},getChildContext:function(){return{abTests:this.props.abTests,enrolledAbTests:this.props.enrolledAbTests}},render:function(){return s.default.createElement(a.default,this.props.childProps)}});t.default=u,e.exports=t.default},134:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(1),s=i(r),o=n(4),a=i(o),u=n(3),l=i(u),c=n(0),d=n(12),p=n(232),h=i(p),f=n(81),m=i(f),g=Math.ceil(1e3/60),_=function(e){function t(n){(0,s.default)(this,t);var i=(0,a.default)(this,e.call(this,n));return i.handleFlushClassNameAndNodeQueue=function(){i.classNameAndNodeQueue.forEach(function(e){var t=e.className,n=e.node;return h.default.addClass(n,t)}),i.classNameAndNodeQueue.length=0,i.timeout=null},i.classNameAndNodeQueue=[],i.transitionTimeouts=[],i}return(0,l.default)(t,e),t.prototype.componentWillUnmount=function(){clearTimeout(this.timeout),this.transitionTimeouts.forEach(clearTimeout),this.classNameAndNodeQueue.length=0},t.prototype.render=function(){return c.Children.only(this.props.children)},t.prototype.transition=function(e,t,n){var i=(0,d.findDOMNode)(this);if(!i)return void(t&&t());var r=this.props.name+"-"+e,s=r+"-active",o=null,a=function e(n){n&&n.target!==i||(clearTimeout(o),h.default.removeClass(i,r),h.default.removeClass(i,s),m.default.removeEndEventListener(i,e),t&&t())};h.default.addClass(i,r),this.queueClassAndNode(s,i),n&&(o=setTimeout(a,n),this.transitionTimeouts.push(o)),m.default.addEndEventListener(i,a)},t.prototype.queueClassAndNode=function(e,t){this.classNameAndNodeQueue.push({className:e,node:t}),this.timeout||(this.timeout=setTimeout(this.handleFlushClassNameAndNodeQueue,g))},t.prototype.componentWillAppear=function(e){this.componentWillTransition("appear",e,this.props.appearTimeout)},t.prototype.componentWillEnter=function(e){this.componentWillTransition("enter",e,this.props.enterTimeout)},t.prototype.componentWillLeave=function(e){this.componentWillTransition("leave",e,this.props.leaveTimeout)},t.prototype.componentWillTransition=function(e,t,n){this.props[e]?this.transition(e,t,n):t()},t}(c.Component);_.propTypes={children:c.PropTypes.node,appear:c.PropTypes.bool,appearTimeout:c.PropTypes.number,enter:c.PropTypes.bool,enterTimeout:c.PropTypes.number,leave:c.PropTypes.bool,leaveTimeout:c.PropTypes.number,name:c.PropTypes.string},t.default=_,e.exports=t.default},136:function(e,t,n){"use strict";function i(e){return Array.isArray(e)&&e.length>=1?e[e.length-1]:null}t.__esModule=!0,t.default=i,e.exports=t.default},137:function(e,t,n){"use strict";function i(){return Math.floor((new Date).getTime()/1e3)}function r(e){return 1e3*e}t.__esModule=!0,t.default=i,t.unixTimestampToMilliseconds=r},140:function(e,t,n){var i,r,s,o;r=n(77),o=n(26),s=function(e){return e===r.BULK_UPDATE||e===r.BULK_DELETE},e.exports=i=function(){function e(e,t,n,i){this.type=e,this.expectedNumModels=t,this.finishedModels={},this.didInvoke=!1,this.didFail=!1,this.errorObj=null,this.successCb=n,this.failureCb=i}return e.prototype.fulfill=function(e,t,n){return null==n&&(n=null),this.finishedModels[e]=t,this.didFail=null!=n,this.errorObj=n},e.prototype.isReadyToInvoke=function(){return!this.didInvoke&&this.hasBeenFulfilled()},e.prototype.wasInvoked=function(){return this.didInvoke},e.prototype.hasBeenFulfilled=function(){return this.expectedNumModels===o(this.finishedModels)},e.prototype.invokeCallback=function(){var e,t,n,i,r;if(this.isReadyToInvoke()){if(e=[],this.didFail?(t=this.failureCb,e.push(this.errorObj)):t=this.successCb,s(this.type))e.push(this.finishedModels);else{r=this.finishedModels;for(n in r)i=r[n],e.push(n),e.push(i)}return t.call(null,e),this.didInvoke=!0}},e}()},1408:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(8),s=i(r),o=n(13),a=i(o),u=n(1),l=i(u),c=n(4),d=i(c),p=n(3),h=i(p),f=n(0),m=i(f),g=n(115),_=i(g),v=function(e){function t(){return(0,l.default)(this,t),(0,d.default)(this,e.apply(this,arguments))}return(0,h.default)(t,e),t.prototype.componentDidMount=function(){this.$().chosen({allow_single_deselect:this.props.allowSingleDeselect,disable_search:this.props.disableSearch,disable_search_threshold:this.props.disableSearchThreshold,enable_split_word_search:this.props.enableSplitWordSearch,inherit_select_classes:this.props.inheritSelectClasses,max_selected_options:this.props.maxSelectedOptions,no_results_text:this.props.noResultsText,placeholder_text_multiple:this.props.placeholderTextMultiple,placeholder_text_single:this.props.placeholderTextSingle,search_contains:this.props.searchContains,single_backstroke_delete:this.props.singleBackstrokeDelete,width:this.props.width,display_disabled_options:this.props.displayDisabledOptions,display_selected_options:this.props.displaySelectedOptions,disable_autofocus:this.props.disableAutofocus}).on({change:this.handleChange.bind(this),"chosen:maxselected":this.props.onMaxSelected,"chosen:hiding_dropdown":this.onHidingDropdown.bind(this)}),$(".chosen-search input").attr("placeholder",this.props.searchPlaceholder)},t.prototype.componentDidUpdate=function(){this.$().trigger("chosen:updated")},t.prototype.componentWillUnmount=function(){this.$().off("chosen:maxselected change chosen:showing_dropdown chosen:hiding_dropdown")},t.prototype.handleChange=function(){if(this.forceUpdate(),this.props.onChange){var e;(e=this.props).onChange.apply(e,arguments)}},t.prototype.onHidingDropdown=function(e){var t=this.$().val();t&&this.props.onChange(null,{selected:t}),this.props.onHidingDropdown&&this.props.onHidingDropdown(e)},t.prototype.render=function(){var e=(0,_.default)(this.props,["allowSingleDeselect","disableAutofocus","disableSearch","disableSearchThreshold","displayDisabledOptions","displaySelectedOptions","enableSplitWordSearch","inheritSelectClasses","maxSelectedOptions","noResultsText","onHidingDropdown","onMaxSelected","placeholderTextMultiple","placeholderTextSingle","searchContains","searchPlaceholder","singleBackstrokeDelete"]),t=e.placeholderTextMultiple,n=e.placeholderTextSingle,i=(0,a.default)(e,["placeholderTextMultiple","placeholderTextSingle"]);return m.default.createElement("div",{className:"Chosen"},m.default.createElement("select",(0,s.default)({},i,{ref:"select","data-placeholder":n||t})))},t.prototype.open=function(){var e=this.$();setTimeout(function(){return e.trigger("chosen:open")},1)},t.prototype.$=function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return $(this.refs.select)}),t}(m.default.Component);v.propTypes={allowSingleDeselect:f.PropTypes.bool,children:f.PropTypes.node,disableAutofocus:f.PropTypes.bool,disableSearch:f.PropTypes.bool,disableSearchThreshold:f.PropTypes.number,displayDisabledOptions:f.PropTypes.bool,displaySelectedOptions:f.PropTypes.bool,enableSplitWordSearch:f.PropTypes.bool,inheritSelectClasses:f.PropTypes.bool,maxSelectedOptions:f.PropTypes.number,noResultsText:f.PropTypes.string,onChange:f.PropTypes.func,onHidingDropdown:f.PropTypes.func,onMaxSelected:f.PropTypes.func,placeholderTextMultiple:f.PropTypes.string,placeholderTextSingle:f.PropTypes.string,searchContains:f.PropTypes.bool,searchPlaceholder:f.PropTypes.string,singleBackstrokeDelete:f.PropTypes.bool,width:f.PropTypes.string},t.default=v,e.exports=t.default},141:function(e,t){e.exports={"??":"Other / Unknown",af:"Afrikaans",ak:"Akan",akk:"Akkadian",am:"Amharic",ang:"Anglo-Saxon",ar:"Arabic",ase:"American Sign Language",az:"Azerbaijani",be:"Belarusian",bg:"Bulgarian",bh:"Bihari",bn:"Bengali",bo:"Tibetan",br:"Breton",bs:"Bosnian",ca:"Catalan",ceb:"Cebuano",ch:"Chamorro",chem:"Chemistry",cho:"Choctaw",chr:"Cherokee",co:"Corsican",cop:"Coptic",cs:"Czech",cy:"Welsh",da:"Danish",de:"German",den:"Dene",dv:"Dhivehi",dyo:"Jola-Fonyi",el:"Greek",en:"English",eo:"Esperanto",es:"Spanish",et:"Estonian",eu:"Basque",fa:"Persian",ff:"Fula",fi:"Finnish",fil:"Filipino",fo:"Faroese",fr:"French",fy:"Western Frisian",ga:"Irish",gd:"Gaelic",gl:"Galician",gn:"Guarani",got:"Gothic",gu:"Gujarati",ha:"Hausa",hai:"Haida",haw:"Hawaiian",hi:"Hindi",hil:"Ilonggo",hmv:"Hmong",hr:"Croatian",ht:"Haitian Creole",hu:"Hungarian",hy:"Armenian",id:"Indonesian",ig:"Igbo",ipa:"International Phonetic Alphabet (IPA)",is:"Icelandic",it:"Italian",iu:"Inuktitut",iw:"Hebrew",ja:"Japanese","ja-ka":"Japanese (Kana)","ja-ro":"Japanese (Romaji)",jv:"Javanese",ka:"Georgian",kg:"KiKongo",kin:"Kinyarwanda",kio:"Kiowa",kk:"Kazakh",km:"Khmer",kn:"Kannada",ko:"Korean",ksw:"Sgaw Karen",ku:"Kurdish",ky:"Kyrgyz",la:"Latin",lb:"Luxembourgish",lkt:"Lakota",ln:"Lingala",lo:"Lao",lt:"Lithuanian",lua:"Luba-Kasai",luo:"Dholuo",lv:"Latvian",math:"Math / Symbols",mg:"Malagasy",mh:"Marshallese",mi:"Maori",mjd:"Konkow",mk:"Macedonian",ml:"Malayalam",mn:"Mongolian",mnk:"Mandinka",moh:"Mohawk",mr:"Marathi",ms:"Malay",mt:"Maltese",my:"Burmese",nah:"Nahuatl",ne:"Nepali",nl:"Dutch",no:"Norwegian",nv:"Navajo",oc:"Occitan",oj:"Ojibwe",om:"Oromo",ood:"Tohono O'odham",or:"Oriya",pa:"Punjabi",photo:"Photos",pi:"Pāli",pl:"Polish",ps:"Pashto",pt:"Portuguese",qu:"Quechua",rar:"Maori (Cook Islands)",rm:"Romansh",ro:"Romanian",ru:"Russian",sa:"Sanskrit",sd:"Sindhi",see:"Seneca",shn:"Shan",si:"Sinhalese",sk:"Slovak",sl:"Slovenian",sm:"Samoan",so:"Somali",sq:"Albanian",sr:"Serbian",su:"Sundanese",sv:"Swedish",sw:"Swahili",syc:"Syriac",ta:"Tamil",te:"Telugu",tet:"Tetum",tg:"Tajik",th:"Thai",ti:"Tigrinya",tl:"Tagalog",to:"Tonga",tr:"Turkish",trc:"Triki",tt:"Tatar",tyv:"Tuvan",ug:"Uighur",uk:"Ukrainian",unm:"Lenape",ur:"Urdu",uz:"Uzbek",vi:"Vietnamese",win:"Winnebago",wo:"Wolof",xh:"Xhosa",yi:"Yiddish",yo:"Yoruba","zh-CN":"Chinese (Simplified)","zh-TW":"Chinese (Traditional)","zh-pi":"Chinese (Pinyin)",zu:"Zulu"}},1412:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(1),s=i(r),o=n(4),a=i(o),u=n(3),l=i(u),c=n(0),d=i(c),p=n(34),h=i(p),f=n(5),m=i(f),g=function(e){function t(){return(0,s.default)(this,t),(0,a.default)(this,e.apply(this,arguments))}return(0,l.default)(t,e),t.prototype.render=function(){var e,t=(0,m.default)("Feature",(e={},e["Feature--"+this.props.variant]=this.props.variant,e));return d.default.createElement("div",{className:t},d.default.createElement(h.default,{className:"Feature-icon",icon:this.props.icon}),d.default.createElement("h1",{className:"Feature-heading"},this.props.heading),d.default.createElement("span",{className:"Feature-bodyText"},this.props.bodyText))},t}(c.PureComponent);g.propTypes={bodyText:c.PropTypes.string.isRequired,heading:c.PropTypes.string.isRequired,icon:c.PropTypes.string.isRequired,variant:c.PropTypes.string},t.default=g,e.exports=t.default},142:function(e,t,n){e.exports=n(152)},143:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}function s(e,t){return e.scrollWidth-1<=t}function o(e,t){return e.scrollHeight-1<=t}function a(){}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l=n(0),c=i(l),d=n(12),p=n(146),h=i(p),f=n(145),m=i(f),g=n(149),_=i(g),v=n(147),S=i(v),y=n(148),E=i(y),C=n(144);t.default=(0,l.createClass)({displayName:"Textfit",propTypes:{children:l.PropTypes.oneOfType([l.PropTypes.array,l.PropTypes.string,l.PropTypes.func]),text:l.PropTypes.string,min:l.PropTypes.number,max:l.PropTypes.number,mode:l.PropTypes.oneOf(["single","multi"]),forceSingleModeWidth:l.PropTypes.bool,perfectFit:l.PropTypes.bool,throttle:l.PropTypes.number,onReady:l.PropTypes.func},getDefaultProps:function(){return{min:1,max:100,mode:"multi",forceSingleModeWidth:!0,perfectFit:!1,throttle:50,autoResize:!0,onReady:a}},getInitialState:function(){return{fontSize:null,ready:!1}},componentWillMount:function(){this.handleWindowResize=(0,S.default)(this.handleWindowResize,this.props.throttle)},componentDidMount:function(){var e=this.props.autoResize;e&&window.addEventListener("resize",this.handleWindowResize),this.process()},componentDidUpdate:function(e){var t=this.state.ready;t&&((0,h.default)(this.props,e)||this.process())},componentWillUnmount:function(){var e=this.props.autoResize;e&&window.removeEventListener("resize",this.handleWindowResize),this.pid=(0,E.default)()},handleWindowResize:function(){this.process()},process:function(){var e=this,t=this.props,n=t.min,i=t.max,r=t.mode,a=t.forceSingleModeWidth,u=t.perfectFit,l=t.onReady,c=(0,d.findDOMNode)(this),p=this.refs.wrapper,h=(0,C.innerWidth)(c),f=(0,C.innerHeight)(c);if(!(f<=0||isNaN(f)||h<=0||isNaN(h))){var g=(0,E.default)();this.pid=g;var v=function(){return g!==e.pid},S="multi"===r?function(){return o(p,f)}:function(){return s(p,h)},y="multi"===r?function(){return s(p,h)}:function(){return o(p,f)},T=void 0,w=n,P=i;this.setState({ready:!1}),(0,m.default)([function(t){return(0,_.default)(function(){return w<=P},function(t){return v()?t(!0):(T=parseInt((w+P)/2,10),void e.setState({fontSize:T},function(){return v()?t(!0):(S()?w=T+1:P=T-1,t())}))},t)},function(t){return"single"===r&&a?t():y()?t():(w=n,P=T,(0,_.default)(function(){return w<=P},function(t){return v()?t(!0):(T=parseInt((w+P)/2,10),void e.setState({fontSize:T},function(){return g!==e.pid?t(!0):(y()?w=T+1:P=T-1,t())}))},t))},function(t){return u?S()?t():void(0,_.default)(function(){return!S()&&T>0},function(t){return v()?t(!0):void e.setState({fontSize:--T},t)},t):t()},function(t){return T>0?t():(T=1,void e.setState({fontSize:T},t))}],function(t){t||e.setState({ready:!0},function(){return l(T)})})}},render:function(){var e=this.props,t=e.children,n=e.text,i=e.style,s=(e.min,e.max,e.mode),o=r(e,["children","text","style","min","max","mode","forceSingleModeWidth","perfectFit","throttle","autoResize","onReady"]),a=this.state,l=a.fontSize,d=a.ready,p=u({},i,{fontSize:l}),h={display:d?"block":"inline-block"};return"single"===s&&(h.whiteSpace="nowrap"),c.default.createElement("div",u({style:p},o),c.default.createElement("span",{ref:"wrapper",style:h},n&&"function"==typeof t?d?t(n):n:t))}})},144:function(e,t,n){"use strict";function i(e){var t=window.getComputedStyle(e,null);return e.clientHeight-parseInt(t.getPropertyValue("padding-top"),10)-parseInt(t.getPropertyValue("padding-bottom"),10)}function r(e){var t=window.getComputedStyle(e,null);return e.clientWidth-parseInt(t.getPropertyValue("padding-left"),10)-parseInt(t.getPropertyValue("padding-right"),10)}Object.defineProperty(t,"__esModule",{value:!0}),t.innerHeight=i,t.innerWidth=r},145:function(e,t,n){"use strict";(function(e){function n(t,n){function i(t){function i(){n&&n(t,s)}a?e.nextTick(i):i()}function r(e,n){s.push(n),++o>=t.length||e?i(e):t[o](r)}var s=[],o=0,a=!0;t.length>0?t[0](r):i(null),a=!1}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n}).call(t,n(80))},146:function(e,t,n){"use strict";function i(e,t){if(e===t)return!0;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var r=Object.prototype.hasOwnProperty,s=0;s<n.length;s++)if(!r.call(t,n[s])||e[n[s]]!==t[n[s]])return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},147:function(e,t,n){"use strict";function i(e,t){function n(){o=0,a=+new Date,s=e.apply(i,r),i=null,r=null}var i=void 0,r=void 0,s=void 0,o=void 0,a=0;return function(){i=this,r=arguments;var e=new Date-a;return o||(e>=t?n():o=setTimeout(n,t-e)),s}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},148:function(e,t,n){"use strict";function i(){return r++}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=0},149:function(e,t,n){"use strict";function i(e,t){var n=arguments.length<=2||void 0===arguments[2]?r:arguments[2];e()?t(function i(r){for(var s=arguments.length,o=Array(s>1?s-1:0),a=1;a<s;a++)o[a-1]=arguments[a];r?n(r):e.apply(this,o)?t(i):n(null)}):n(null)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=function(){}},150:function(e,t,n){"use strict";var i=n(255),r=n(184);t.getReactDOM=function(){return i},t.getReactInstanceMap=function(){return r}},151:function(e,t,n){"use strict";var i=n(153),r={getChildMapping:function(e,t){return e?i(e):e},mergeChildMappings:function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var i={},r=[];for(var s in e)t.hasOwnProperty(s)?r.length&&(i[s]=r,r=[]):r.push(s);var o,a={};for(var u in t){if(i.hasOwnProperty(u))for(o=0;o<i[u].length;o++){var l=i[u][o];a[i[u][o]]=n(l)}a[u]=n(u)}for(o=0;o<r.length;o++)a[r[o]]=n(r[o]);return a}};e.exports=r},1514:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(20),s=i(r),o=n(614),a=i(o),u={dismiss:function(){return s.default.viewAction(a.default.actions.DISMISS)},create:function(e,t,n){return s.default.viewAction(a.default.actions.CREATE,{title:e,messages:t,fatal:n})}};t.default=u,e.exports=t.default},1515:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(20),s=i(r),o=n(1150),a=i(o),u=n(674),l=i(u),c=n(428),d=i(c),p={folderSetSyncer:d.default,bulkUpdate:function(e){return s.default.viewAction(a.default.actions.BULK_UPDATE,{luidToProps:e}),this.folderSetSyncer.bulkSave(e)},getUnsyncedFolderSets:function(e){var t={},n=l.default.getAll();for(var i in n){var r=n[i];r.setId||(t[i]={folderId:r.folderId,setId:e})}return t}};t.default=p,e.exports=t.default},1516:function(e,t,n){"use strict";(function(i){function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var s=n(0),o=r(s),a=n(10),u=r(a),l=n(7),c=r(l),d=n(1412),p=r(d),h=n(169),f=r(h),m=n(723),g=r(m),_=o.default.createClass({displayName:"AddImagesUpsellModal",propTypes:{isOpen:o.default.PropTypes.bool.isRequired},mixins:[u.default],onClose:function(){return g.default.dismissImageUpsellModal()},renderButton:function(){var e=window.location.href,t="/upgrade?source=images_new&redir="+encodeURIComponent(e);return o.default.createElement("a",{href:t,target:"_blank",className:"UpsellModal-button large button"},o.default.createElement(c.default,{_precomputed:i("en-US","Upgrade to add images",{})}))},render:function(){var e=this.renderButton();return o.default.createElement("div",{className:"AddImagesUpsellModal UpsellModal"},o.default.createElement(f.default,{name:"AddImagesUpsellModal",includeCloseButton:!0,isOpen:this.props.isOpen,onClose:this.onClose},o.default.createElement("div",{className:"UpsellModal-content"},o.default.createElement("h1",{className:"UpsellModal-headline"},o.default.createElement(c.default,{_precomputed:i("en-US","Create better study sets with images",{})})),o.default.createElement("div",{className:"FeatureRow"},o.default.createElement("div",{className:"FeatureRow-featureWrapper"},o.default.createElement(p.default,{variant:"blue",icon:"image",heading:i("en-US","Add engaging images"),bodyText:i("en-US","Add images to make studying more engaging")})),o.default.createElement("div",{className:"FeatureRow-featureWrapper"},o.default.createElement(p.default,{variant:"blue",icon:"camera",heading:i("en-US","Customize your images"),bodyText:i("en-US","Upload your own images to customize your content")})),o.default.createElement("div",{className:"FeatureRow-featureWrapper"},o.default.createElement(p.default,{variant:"blue",icon:"search",heading:i("en-US","Search our images"),bodyText:i("en-US","Pick from Quizlet's library of 10 million images")}))),o.default.createElement("div",{className:"UpsellModal-buttonWrap"},e))))}});t.default=_,e.exports=t.default}).call(t,n(6))},1517:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(0),s=i(r),o=n(10),a=i(o),u=n(5),l=i(u),c=n(34),d=i(c),p=s.default.createClass({displayName:"ArrowButton",propTypes:{className:s.default.PropTypes.string,direction:s.default.PropTypes.oneOf(["up","down","left","right"]),isEnabled:s.default.PropTypes.bool.isRequired,onClick:s.default.PropTypes.func.isRequired,tabIndex:s.default.PropTypes.number},mixins:[a.default],render:function(){var e=(0,l.default)({ArrowButton:!0,"is-enabled":this.props.isEnabled});this.props.className&&(e+=" "+this.props.className);var t="chevron-"+this.props.direction;return s.default.createElement("a",{className:e,onClick:this.props.onClick,tabIndex:this.props.tabIndex},s.default.createElement(d.default,{icon:t}))}});t.default=p,e.exports=t.default},1518:function(e,t,n){"use strict";(function(i){function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var s=n(0),o=r(s),a=n(10),u=r(a),l=n(5),c=r(l),d=n(7),p=r(d),h=n(179),f=r(h),m=o.default.createClass({displayName:"AutoSavePrompt",propTypes:{isDiscardDisabled:o.default.PropTypes.bool.isRequired,setLuid:o.default.PropTypes.string.isRequired},mixins:[u.default],getInitialState:function(){return{isClosed:!1}},onDiscardSet:function(e){e.preventDefault(),this.props.isDiscardDisabled||confirm(i("en-US","Are you sure you want to discard this set?"))&&f.default.discard(this.props.setLuid)},onClose:function(){return this.setState({isClosed:!0})},onCloseClick:function(e){return e.preventDefault(),this.onClose()},render:function(){var e=(0,c.default)({AutoSavePrompt:!0,"item-title":!0,"is-closed":this.state.isClosed});return o.default.createElement("div",{className:e},o.default.createElement("div",{className:"container"},o.default.createElement(p.default,{_precomputed:i("en-US","This is an auto-saved set.",{})})," ",o.default.createElement("a",{href:"#",onClick:this.onDiscardSet},o.default.createElement(p.default,{_precomputed:i("en-US","Discard it",{})})),o.default.createElement("button",{className:"grey button AutoSavePrompt-discardButton",onClick:this.onCloseClick,disabled:this.props.isDiscardDisabled},o.default.createElement("span",{className:"AutoSavePrompt-largeScreen"},o.default.createElement(p.default,{_precomputed:i("en-US","Continue with this set",{})})),o.default.createElement("span",{className:"AutoSavePrompt-smallScreen"
},o.default.createElement(p.default,{_precomputed:i("en-US","Continue",{})})))))}});t.default=m,e.exports=t.default}).call(t,n(6))},1519:function(e,t,n){"use strict";(function(i){function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var s=n(0),o=r(s),a=n(10),u=r(a),l=n(37),c=r(l),d=n(5),p=r(d),h=n(7),f=r(h),m=n(724),g=r(m),_=n(273),v=r(_),S=n(509),y=r(S),E=n(83),C=r(E),T=200,w=o.default.createClass({displayName:"AutodefineContext",propTypes:{defLang:o.default.PropTypes.string,enabled:o.default.PropTypes.bool.isRequired,isLoading:o.default.PropTypes.bool.isRequired,onClose:o.default.PropTypes.func.isRequired,onSelectAutodefineResult:o.default.PropTypes.func.isRequired,results:o.default.PropTypes.arrayOf(o.default.PropTypes.string).isRequired,setLuid:o.default.PropTypes.string.isRequired,termLuid:o.default.PropTypes.string.isRequired,text:o.default.PropTypes.string},mixins:[u.default],getInitialState:function(){return{activeResultIndex:0}},componentDidMount:function(){this.props.enabled&&this.onOpen()},componentWillReceiveProps:function(e){!this.props.enabled&&e.enabled&&this.onOpen(),this.props.enabled&&!e.enabled&&this.onClose()},componentDidUpdate:function(e,t){if(t.activeResultIndex!==this.state.activeResultIndex){var n=this.refs["definition-"+this.state.activeResultIndex];n.focus(),n.blur()}e.results!==this.props.results&&(this._hasOverflowingResults=this.refs.resultsContainer.scrollHeight>T)},componentWillUnmount:function(){this.onClose()},getActiveResult:function(){return this.props.results[this.state.activeResultIndex]},onOpen:function(){var e=this;this.setState(this.getInitialState()),c.default.setScope(this.props.termLuid),(0,c.default)(v.default.autodefine.prevResult,this.props.termLuid,function(){if(e.setActiveResultIndex(e.state.activeResultIndex-1))return!1}),(0,c.default)(v.default.autodefine.nextResult,this.props.termLuid,function(){if(e.setActiveResultIndex(e.state.activeResultIndex+1))return!1}),(0,c.default)(v.default.autodefine.selectResult,this.props.termLuid,function(){var t=e.getActiveResult();if("undefined"!=typeof t&&null!==t)return e.props.onSelectAutodefineResult&&e.props.onSelectAutodefineResult(t),!1})},onClose:function(){return c.default.unbind(v.default.autodefine.prevResult,this.props.termLuid),c.default.unbind(v.default.autodefine.nextResult,this.props.termLuid),c.default.unbind(v.default.autodefine.selectResult,this.props.termLuid)},onClickDefinition:function(e,t){return t.preventDefault(),this.props.onSelectAutodefineResult(e)},onDefinitionHover:function(e,t){return t.preventDefault(),this.setActiveResultIndex(e)},renderResults:function(){var e=this,t=this.state.activeResultIndex;return this.props.results.map(function(n,i){var r=(0,p.default)("AutodefineContext-result","lang-"+e.props.defLang,{"is-active":i===t}),s="definition-"+i;return o.default.createElement("div",{key:s,className:"AutodefineContext-resultWrapper"},o.default.createElement("a",{className:r,href:"#",onClick:e.onClickDefinition.bind(null,n),onMouseOver:e.onDefinitionHover.bind(null,i)},(0,C.default)(n,300)),o.default.createElement("input",{ref:s,readOnly:!0,className:"AutodefineContext-resultCover"}))})},render:function(){var e=this.renderResults(),t=(0,p.default)({AutodefineContext:!0,"has-results":this.props.results.length>0,"is-loading":this.props.isLoading,"has-overflowingResults":this._hasOverflowingResults});return o.default.createElement("div",{className:t},o.default.createElement(g.default,{title:i("en-US","Definitions from Quizlet users"),onClose:this.props.onClose}),o.default.createElement("div",{className:"AutodefineContext-wrapper"},o.default.createElement("div",{ref:"resultsContainer",className:"AutodefineContext-resultsContainer"},o.default.createElement("div",{className:"AutodefineContext-results"},e),o.default.createElement("span",{className:"AutodefineContext-noResults"},o.default.createElement(f.default,{_precomputed:i("en-US","No results found",{})})),o.default.createElement("span",{className:"AutodefineContext-isLoading"},o.default.createElement(f.default,{_precomputed:i("en-US","Loading…",{})})))))},setActiveResultIndex:function(e){return!!this.props.results.length&&(this.setState({activeResultIndex:(0,y.default)(e,this.props.results.length)}),!0)}});t.default=w,e.exports=t.default}).call(t,n(6))},152:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(44),a=n(110),u=(n(150),n(151)),l=n(219),c=function(e){function t(){var n,s,a;i(this,t);for(var l=arguments.length,c=Array(l),d=0;d<l;d++)c[d]=arguments[d];return n=s=r(this,e.call.apply(e,[this].concat(c))),s.state={children:u.getChildMapping(s.props.children)},s.performAppear=function(e){s.currentlyTransitioningKeys[e]=!0;var t=s.refs[e];t.componentWillAppear?t.componentWillAppear(s._handleDoneAppearing.bind(s,e)):s._handleDoneAppearing(e)},s._handleDoneAppearing=function(e){var t=s.refs[e];t.componentDidAppear&&t.componentDidAppear(),delete s.currentlyTransitioningKeys[e];var n;n=u.getChildMapping(s.props.children),n&&n.hasOwnProperty(e)||s.performLeave(e)},s.performEnter=function(e){s.currentlyTransitioningKeys[e]=!0;var t=s.refs[e];t.componentWillEnter?t.componentWillEnter(s._handleDoneEntering.bind(s,e)):s._handleDoneEntering(e)},s._handleDoneEntering=function(e){var t=s.refs[e];t.componentDidEnter&&t.componentDidEnter(),delete s.currentlyTransitioningKeys[e];var n;n=u.getChildMapping(s.props.children),n&&n.hasOwnProperty(e)||s.performLeave(e)},s.performLeave=function(e){s.currentlyTransitioningKeys[e]=!0;var t=s.refs[e];t.componentWillLeave?t.componentWillLeave(s._handleDoneLeaving.bind(s,e)):s._handleDoneLeaving(e)},s._handleDoneLeaving=function(e){var t=s.refs[e];t.componentDidLeave&&t.componentDidLeave(),delete s.currentlyTransitioningKeys[e];var n;n=u.getChildMapping(s.props.children),n&&n.hasOwnProperty(e)?s.performEnter(e):s.setState(function(t){var n=o({},t.children);return delete n[e],{children:n}})},a=n,r(s,a)}return s(t,e),t.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},t.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t)},t.prototype.componentWillReceiveProps=function(e){var t;t=u.getChildMapping(e.children);var n=this.state.children;this.setState({children:u.mergeChildMappings(n,t)});var i;for(i in t){var r=n&&n.hasOwnProperty(i);!t[i]||r||this.currentlyTransitioningKeys[i]||this.keysToEnter.push(i)}for(i in n){var s=t&&t.hasOwnProperty(i);!n[i]||s||this.currentlyTransitioningKeys[i]||this.keysToLeave.push(i)}},t.prototype.componentDidUpdate=function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)},t.prototype.render=function(){var e=[];for(var t in this.state.children){var n=this.state.children[t];n&&e.push(a.cloneElement(this.props.childFactory(n),{ref:t,key:t}))}var i=o({},this.props);return delete i.transitionLeave,delete i.transitionName,delete i.transitionAppear,delete i.transitionEnter,delete i.childFactory,delete i.transitionLeaveTimeout,delete i.transitionEnterTimeout,delete i.transitionAppearTimeout,delete i.component,a.createElement(this.props.component,i,e)},t}(a.Component);c.displayName="ReactTransitionGroup",c.propTypes={component:a.PropTypes.any,childFactory:a.PropTypes.func},c.defaultProps={component:"span",childFactory:l.thatReturnsArgument},e.exports=c},1520:function(e,t,n){"use strict";(function(i,r){function s(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(0),a=s(o),u=n(33),l=s(u),c=n(10),d=s(c),p=n(5),h=s(p),f=n(59),m=s(f),g=n(244),_=s(g),v=n(64),S=s(v),y=n(1521),E=s(y),C=n(7),T=s(C),w=n(690),P=s(w),R=n(55),b=s(R),L=n(34),A=s(L),I=n(38),D=s(I),x=n(179),U=s(x),M=n(479),O=s(M),N=n(228),k=s(N),F=n(107),B=80,q=64,V=40,W=q+V,H=a.default.createClass({displayName:"CreateSetHeader",propTypes:{hasFocusedInput:a.default.PropTypes.bool.isRequired,hasSyncingError:a.default.PropTypes.bool.isRequired,isPublishDisabled:a.default.PropTypes.bool.isRequired,isPublished:a.default.PropTypes.bool.isRequired,isResumingCreate:a.default.PropTypes.bool.isRequired,isSyncing:a.default.PropTypes.bool.isRequired,isTitleFocused:a.default.PropTypes.bool.isRequired,lastSavedTimestamp:a.default.PropTypes.number,nextRetryInSecs:a.default.PropTypes.number.isRequired,onDragOver:a.default.PropTypes.func.isRequired,onOpenPermissions:a.default.PropTypes.func.isRequired,onOpenSetDescription:a.default.PropTypes.func.isRequired,onPublish:a.default.PropTypes.func.isRequired,permissions:a.default.PropTypes.object.isRequired,publishButtonText:a.default.PropTypes.string.isRequired,set:a.default.PropTypes.object.isRequired,setLuid:a.default.PropTypes.string.isRequired,setProfanityErrors:a.default.PropTypes.object.isRequired,setValidationErrors:a.default.PropTypes.object.isRequired,supportsStickyHeader:a.default.PropTypes.bool.isRequired,viewOnly:a.default.PropTypes.bool.isRequired},mixins:[S.default,d.default],getInitialState:function(){return{isSticky:!1,title:this.props.set.title}},componentWillReceiveProps:function(e){var t=this;this.setState({shouldAnimateHeader:this.isPastHeader&&this.props.hasFocusedInput&&!e.hasFocusedInput}),e.lastSavedTimestamp&&(clearInterval(this.updateLastSyncedTimer),this.updateLastSyncedTimer=(0,F.intervalSet)(6e4,function(){return t.forceUpdate()}))},componentDidUpdate:function(e){if(this.hasTitleError()&&this.props.setValidationErrors!==e.setValidationErrors)return this.scrollToTop()},componentDidMount:function(){this.updateLastSyncedTimer=null,this.props.supportsStickyHeader&&(this.hasScheduledScrollRaf=!1,this.hasScheduledResizeRaf=!1,this.isPastHeader=!1,this.updateStickyBreakpoint(),this.scrollListener=l.default.listen(i.window,"scroll",this.onScroll),this.resizeListener=l.default.listen(i.window,"resize",this.onResize))},componentWillUnmount:function(){clearInterval(this.updateLastSyncedTimer),this.scrollListener&&this.scrollListener.remove(),this.resizeListener&&this.resizeListener.remove()},onScroll:function(){this.hasScheduledScrollRaf||(this.hasScheduledScrollRaf=!0,(0,m.default)(this.updateSticky))},updateSticky:function(){var e=this.getScrollTop();this.setState({isSticky:e>this.stickyBreakpoint}),this.props.hasSyncingError?this.isPastHeader=e>W:this.isPastHeader=e<q,this.hasScheduledScrollRaf=!1},onResize:function(){this.hasScheduledResizeRaf||(this.hasScheduledResizeRaf=!0,(0,m.default)(this.updateStickyBreakpoint))},updateStickyBreakpoint:function(){this.stickyBreakpoint=this.refs.stickyHeader.offsetTop,this.stickyBreakpoint<=0&&(this.stickyBreakpoint=B),this.hasScheduledResizeRaf=!1},onChangeTitle:function(e){return this.setState({title:e.target.value})},onBlurTitle:function(e){var t=e.target.value;if(t||!this.props.set.isPublished())return(t||this.props.set.title)&&t!==this.props.set.title?this.updateAction({title:t}):void 0},onOpenViewablePermissions:function(){return this.props.onOpenPermissions(O.default.sides.VIEWING)},onOpenEditingPermissions:function(){return this.props.onOpenPermissions(O.default.sides.EDITING)},onClickPublish:function(){return i.logPageAction("new_create_set_click_header_publish_button"),this.props.onPublish()},onClickEditDescription:function(e){return e.preventDefault(),this.props.onOpenSetDescription()},focusTitleTextarea:function(){this.refs.titleTextarea.focus()},updateAction:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return U.default.update(this.props.setLuid,e,t)},getPageTitle:function(){if(!this.props.isPublished)return r("en-US","Create a new study set");var e="http://"+window.location.host+"/"+this.props.set.id+"/study";return a.default.createElement("a",{href:e},a.default.createElement(A.default,{icon:"chevron-left"}),a.default.createElement(T.default,{_precomputed:r("en-US","Back to set",{})}))},hasTitleRequiredError:function(){return"requires_title"in this.props.setValidationErrors&&!this.props.set.title},hasTitleProfanityError:function(){return this.props.setProfanityErrors.title},hasTitleError:function(){return this.hasTitleRequiredError()||this.hasTitleProfanityError()},onFocusTitle:function(){U.default.focusTitle()},onAccent:function(e){var t=this.refs.titleTextarea,n=t.getSelectionStart(),i=t.getSelectionEnd();if(i!==-1){var r=this.props.set,s=this.props.isTitleFocused?r.title:null;s=s||"";var o=s.slice(0,n)+e+s.slice(i),a={title:o};this.updateAction(a),this.setState(a,function(){return t.setCaretPosition(n+e.length)})}},renderAccentsBar:function(){var e=[];return this.props.set.wordLang&&e.push(this.props.set.wordLang),this.props.set.defLang&&e.push(this.props.set.defLang),k.default.containsAccentLanguage(e)?a.default.createElement("div",{className:"CreateSetHeader-accentsBar"},a.default.createElement("div",{className:"CreateSetHeader-accentsBarInner"},a.default.createElement(P.default,{languageCodes:e,onAccent:this.onAccent,startUppercase:!1,variant:"dark"}))):null},renderEditPermissionButton:function(){if(this.props.permissions.viewableBy===O.default.permissions.JUST_ME)return null;var e="";return this.props.permissions.editableBy===O.default.permissions.EVERYONE?e=r("en-US","Editable by everyone"):this.props.permissions.editableBy===O.default.permissions.CLASSES?e=r("en-US","Editable by certain classes"):this.props.permissions.editableBy===O.default.permissions.PASSWORD?e=r("en-US","Editable by people with the password"):this.props.permissions.editableBy===O.default.permissions.JUST_ME&&(e=r("en-US","Only editable by me")),a.default.createElement("div",{className:"CreateSetHeader-floatingGroup CreateSetHeader-floatingGroup--right"},a.default.createElement("div",{className:"CreateSetHeader-permissionsLink"},e),a.default.createElement("a",{className:"CreateSetHeader-permissionsLinkChange",onClick:this.onOpenEditingPermissions,tabIndex:"0"},a.default.createElement(T.default,{_precomputed:r("en-US","Change",{})})))},renderViewPermissionButton:function(){var e="";return this.props.permissions.viewableBy===O.default.permissions.EVERYONE?e=r("en-US","Visible to everyone"):this.props.permissions.viewableBy===O.default.permissions.CLASSES?e=r("en-US","Visible to certain classes"):this.props.permissions.viewableBy===O.default.permissions.PASSWORD?e=r("en-US","Visible with a password"):this.props.permissions.viewableBy===O.default.permissions.JUST_ME&&(e=r("en-US","Only visible to me")),a.default.createElement("div",{className:"CreateSetHeader-floatingGroup CreateSetHeader-floatingGroup--left"},a.default.createElement("div",{className:"CreateSetHeader-permissionsLink"},e),a.default.createElement("a",{className:"CreateSetHeader-permissionsLinkChange",onClick:this.onOpenViewablePermissions,tabIndex:"0"},a.default.createElement(T.default,{_precomputed:r("en-US","Change",{})})))},getTimeFromNow:function(){return this.props.lastSavedTimestamp?(0,_.default)(Math.floor(this.props.lastSavedTimestamp/1e3)):null},renderTitleError:function(){if(!this.hasTitleError())return null;var e=(0,h.default)({"CreateSetHeader-titleError":!0,"CreateSetHeader-titleError--required":this.hasTitleRequiredError(),"CreateSetHeader-titleError--profanity":this.hasTitleProfanityError()}),t=void 0;return t=this.hasTitleRequiredError()?r("en-US","Please enter a title to create your set."):this.hasTitleProfanityError()?r("en-US","Your title appears to contain profanity that will be replaced with *****."):r("en-US","Error creating your set"),a.default.createElement("div",{className:e},a.default.createElement("div",{className:"container CreateSetHeader-container"},a.default.createElement("p",{className:"CreateSetHeader-titleErrorText"},t)))},renderStatus:function(){var e=void 0,t=this.getTimeFromNow();if(this.props.isSyncing)e=a.default.createElement("span",{className:"CreateSetHeader-savingDots"},a.default.createElement(T.default,{_precomputed:r("en-US","Saving…",{})}));else{if(!t)return null;e=r("en-US","Saved {timeAgo}",{timeAgo:t})}return a.default.createElement("div",{className:"CreateSetHeader-status"},a.default.createElement("span",{className:"CreateSetHeader-statusDot"},"•"),a.default.createElement("span",{className:"CreateSetHeader-statusText"},e))},render:function(){var e=this.props.isTitleFocused?this.renderAccentsBar():null,t=this.renderViewPermissionButton(),n=this.renderEditPermissionButton(),i=this.renderStatus(),s=this.renderTitleError(),o=(0,h.default)({CreateSetHeader:!0,"has-titleProfanityError":this.hasTitleProfanityError(),"has-titleRequiredError":this.hasTitleRequiredError(),"is-fadingIn":this.state.shouldAnimateHeader,"is-sticky":this.state.isSticky});return a.default.createElement("div",{className:o,onDragOver:this.props.onDragOver},a.default.createElement("div",{className:"CreateSetHeader-stickyPlaceholder"},a.default.createElement("div",{className:"CreateSetHeader-sticky",ref:"stickyHeader"},a.default.createElement(E.default,{hasSyncingError:this.props.hasSyncingError,nextRetryInSecs:this.props.nextRetryInSecs}),a.default.createElement("div",{className:"container"},a.default.createElement("div",{className:"CreateSetHeader-stickyInner item-title"},a.default.createElement("div",{className:"CreateSetHeader-createForm"},a.default.createElement("button",{className:"CreateSetHeader-createButton large green button",disabled:this.props.isPublishDisabled,onClick:this.onClickPublish},this.props.publishButtonText)),a.default.createElement("h1",{className:"CreateSetHeader-pageTitle"},this.getPageTitle(),i))))),a.default.createElement(D.default,{transitionName:"CreateSetHeader-animateTitleError"},s),a.default.createElement("div",{className:"container CreateSetHeader-container"},a.default.createElement("div",{className:"CreateSetHeader-separator"}),a.default.createElement("div",{className:"CreateSetHeader-wrapper"},a.default.createElement("div",{className:"CreateSetHeader-section CreateSetHeader-section--title"},a.default.createElement("label",{className:"CreateSetHeader-label",htmlFor:"titleTextarea"},a.default.createElement(T.default,{_precomputed:r("en-US","Set title",{})})),a.default.createElement("a",{className:"CreateSetHeader-editDescriptionLink",onClick:this.onClickEditDescription},this.props.set.description?a.default.createElement(T.default,{_precomputed:r("en-US","Edit description",{})}):a.default.createElement(T.default,{_precomputed:r("en-US","Add description",{})})),a.default.createElement("div",{className:"CreateSetHeader-textarea",onClick:this.focusTitleTextarea},a.default.createElement(b.default,{autoFocus:!this.props.isPublished&&!this.props.isResumingCreate,className:"CreateSetPage-autoExpandTextarea",disabled:this.props.viewOnly,id:"titleTextarea",maxLength:255,onBlur:this.onBlurTitle,onChange:this.onChangeTitle,onFocus:this.onFocusTitle,ref:"titleTextarea",singleLine:!0,tabIndex:5,value:this.state.title})),e),a.default.createElement("div",{className:"CreateSetHeader-section CreateSetHeader-section--permissions"},t,n))))}});t.default=H,e.exports=t.default}).call(t,n(2),n(6))},1521:function(e,t,n){"use strict";(function(i){function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var s=n(0),o=r(s),a=n(10),u=r(a),l=n(7),c=r(l),d=o.default.createClass({displayName:"CreateSetSyncErrorBar",propTypes:{hasSyncingError:o.default.PropTypes.bool.isRequired,nextRetryInSecs:o.default.PropTypes.number.isRequired},mixins:[u.default],render:function(){if(!this.props.hasSyncingError)return null;var e=this.props.nextRetryInSecs>0?o.default.createElement(c.default,{_precomputed:i("en-US","You have lost internet connection. We will retry in {retrySeconds, number}s...",{retrySeconds:this.props.nextRetryInSecs})}):o.default.createElement(c.default,{_precomputed:i("en-US","You have lost internet connection. Trying again now...",{})});return o.default.createElement("div",{className:"CreateSetSyncErrorBar"},o.default.createElement("div",{className:"container"},e))}});t.default=d,e.exports=t.default}).call(t,n(6))},1522:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(0),s=i(r),o=n(10),a=i(o),u=n(5),l=i(u),c=n(522),d=i(c),p=n(1152),h=i(p),f=n(55),m=i(f),g=n(1539),_=i(g),v=s.default.createClass({displayName:"DefinitionSide",propTypes:{definition:s.default.PropTypes.string,image:s.default.PropTypes.object,lang:s.default.PropTypes.string,onBlur:s.default.PropTypes.func,onChange:s.default.PropTypes.func,onDeleteImage:s.default.PropTypes.func,onFocus:s.default.PropTypes.func,placeholder:s.default.PropTypes.string,placeholderImage:s.default.PropTypes.object,showAutodefine:s.default.PropTypes.bool,tabIndex:s.default.PropTypes.number,termActive:s.default.PropTypes.bool,viewOnly:s.default.PropTypes.bool},mixins:[d.default,h.default,a.default],renderImageWrap:function(){return this.hasImageOrPlacholder()?s.default.createElement("div",{className:"DefinitionSide-imageWrap"},s.default.createElement("div",{className:"DefinitionSide-image"},s.default.createElement(_.default,{image:this.props.image,placeholderImage:this.props.placeholderImage}))):null},renderMobileImageWrap:function(){return this.hasImageOrPlacholder()?s.default.createElement("div",{className:"DefinitionSide-mobileImageWrap"},s.default.createElement("div",{className:"DefinitionSide-image"},s.default.createElement(_.default,{image:this.props.image,placeholderImage:this.props.placeholderImage}))):null},render:function(){var e=(0,l.default)({DefinitionSide:!0,"is-active":this.props.termActive,"has-image":"undefined"!=typeof this.props.image&&null!==this.props.image}),t=this.renderImageWrap(),n=this.renderMobileImageWrap();return s.default.createElement("div",{className:e},s.default.createElement("div",{className:"DefinitionSide-termWrap"},n,s.default.createElement(m.default,{className:"CreateSetPage-autoExpandTextarea DefinitionSide-textarea",dir:this.getTextDirection(),disabled:this.props.viewOnly,lang:this.getLanguage(),onBlur:this.onBlur,onChange:this.onChange,onClick:this.onTextareaClick,onFocus:this.onFocus,placeholder:this.props.placeholder,ref:"textarea",tabIndex:this.props.tabIndex,value:this.props.definition})),t)},side:"definition"});t.default=v,e.exports=t.default},1523:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(0),s=i(r),o=n(10),a=i(o),u=n(31),l=i(u),c=n(725),d=i(c),p=n(615),h=i(p),f=s.default.createClass({displayName:"DuplicateWarning",propTypes:{onIgnoreDuplicates:s.default.PropTypes.func.isRequired,onViewDuplicate:s.default.PropTypes.func.isRequired},mixins:[l.default,a.default],render:function(){var e=this.isTouchDevice()?h.default.position.ABOVE:h.default.position.BELOW;return s.default.createElement("div",{className:"DuplicateWarning"},s.default.createElement(d.default,{position:e},"Duplicate term",s.default.createElement("span",{className:"DuplicateWarning-actions"},s.default.createElement("a",{onClick:this.props.onIgnoreDuplicates,className:"DuplicateWarning-dismiss"},"Ignore"),s.default.createElement("a",{onClick:this.props.onViewDuplicate,className:"DuplicateWarning-viewLink"},"View others"))))}});t.default=f,e.exports=t.default},1524:function(e,t,n){"use strict";(function(i,r){function s(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(68),a=s(o),u=n(0),l=s(u),c=n(10),d=s(c),p=n(7),h=s(p),f=n(169),m=s(f),g=n(1514),_=s(g),v=l.default.createClass({displayName:"ErrorAlert",propTypes:{activeError:l.default.PropTypes.object},mixins:[d.default],getIsOpen:function(){return!!this.props.activeError},getIsFatal:function(){return!!this.props.activeError&&this.props.activeError.fatal},getMessages:function(){return this.props.activeError?this.props.activeError.messages:[]},getSecondaryMessages:function(){return this.props.activeError?this.props.activeError.secondaryMessages:[]},onRefresh:function(){i.window.location.reload()},onDismiss:function(){this.getIsFatal()||_.default.dismiss()},onShowFeedback:function(e){return e.preventDefault(),this.onDismiss(),i.FeedbackForm.showForm()},renderRefreshButton:function(){return l.default.createElement("button",{ref:"dismissButton",tabIndex:"0",className:"ErrorAlert-button large button",onClick:this.onRefresh},l.default.createElement(h.default,{_precomputed:r("en-US","Refresh this page",{})}))},renderDismissButton:function(){return l.default.createElement("button",{ref:"dismissButton",tabIndex:"0",className:"ErrorAlert-button large button",onClick:this.onDismiss},l.default.createElement(h.default,{_precomputed:r("en-US","OK",{})}))},renderSecondaryMessages:function(){var e=this.getSecondaryMessages().map(function(e,t){return l.default.createElement("div",{key:"message"+t},e)});if(e.length)return l.default.createElement("div",{className:"ErrorAlert-secondaryMessages"},e)},renderGeneralError:function(){var e=void 0;this.props.activeError&&(e=this.props.activeError.title),e||(e=l.default.createElement(h.default,{_precomputed:r("en-US","Oops! Something went wrong.",{})}));var t=this.getMessages().map(function(e,t){var n=e;return"object"===("undefined"==typeof e?"undefined":(0,a.default)(e))&&(n=e.message),l.default.createElement("div",{key:"error"+t,className:"ErrorAlert-message"},n)}),n=this.getIsFatal()?this.renderRefreshButton():this.renderDismissButton();return l.default.createElement("div",null,l.default.createElement("div",{className:"qmodal-title"},l.default.createElement("h2",{className:"qmodal-title-text"},e)),l.default.createElement("div",{className:"ErrorAlert-content"},t,this.renderSecondaryMessages(),n,l.default.createElement("br",null),l.default.createElement("div",{className:"ErrorAlert-messageBelowButton"},l.default.createElement("a",{tabIndex:"0",href:"#",onClick:this.onShowFeedback},l.default.createElement(h.default,{_precomputed:r("en-US","Still having problems? Contact us.",{})})))))},render:function(){return l.default.createElement("div",{className:"ErrorAlert"},l.default.createElement(m.default,{name:"ErrorAlert",includeCloseButton:!1,isOpen:this.getIsOpen(),onClose:this.onDismiss},this.renderGeneralError()))}});t.default=v,e.exports=t.default}).call(t,n(2),n(6))},1525:function(e,t,n){"use strict";(function(i){function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var s=n(0),o=r(s),a=n(10),u=r(a),l=n(34),c=r(l),d=n(7),p=r(d),h=o.default.createClass({displayName:"FeaturePopover",propTypes:{className:o.default.PropTypes.string,onClose:o.default.PropTypes.func.isRequired,showNew:o.default.PropTypes.bool.isRequired,text:o.default.PropTypes.string.isRequired},mixins:[u.default],onClose:function(e){return e.preventDefault(),this.props.onClose()},render:function(){var e="FeaturePopover "+this.props.className,t=this.props.showNew?o.default.createElement("span",{className:"FeaturePopover-label"},o.default.createElement(p.default,{_precomputed:i("en-US","New",{})})):null;return o.default.createElement("div",{className:e},t,o.default.createElement("span",{className:"FeaturePopover-text"},this.props.text),o.default.createElement("a",{className:"FeaturePopover-closeButton",href:"#",onClick:this.onClose},o.default.createElement(c.default,{icon:"x",className:"FeaturePopver-closeIcon"})),o.default.createElement("span",{className:"FeaturePopover-bridge"},o.default.createElement(c.default,{icon:"wedge-down"})))}});t.default=h,e.exports=t.default}).call(t,n(6))},1526:function(e,t,n){"use strict";(function(i,r){function s(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(11),a=s(o),u=n(0),l=s(u),c=n(12),d=s(c),p=n(33),h=s(p),f=n(5),m=s(f),g=n(1517),_=s(g),v=n(7),S=s(v),y=n(37),E=s(y),C=n(273),T=s(C),w=n(227),P=s(w),R=n(272),b=s(R),L=n(26),A=s(L),I=n(509),D=s(I),x=n(361),U=s(x),M=n(230),O=b.default.limits,N=O.MAX_NUM_IMAGES_FREE,k=O.MAX_NUM_IMAGES_UPGRADED,F=P.default.keyboard.TAB_INDEX,B=400,q=l.default.createClass({displayName:"ImageCarousel",propTypes:{enabled:l.default.PropTypes.bool.isRequired,formattedPlusPrice:l.default.PropTypes.string.isRequired,formattedTeacherPrice:l.default.PropTypes.string.isRequired,images:l.default.PropTypes.object.isRequired,isPrevElementFocused:l.default.PropTypes.func.isRequired,isTeacher:l.default.PropTypes.bool.isRequired,isUpgraded:l.default.PropTypes.bool.isRequired,searchQuery:l.default.PropTypes.string,selectImage:l.default.PropTypes.func.isRequired,shouldShowUpsell:l.default.PropTypes.bool.isRequired,termLuid:l.default.PropTypes.string.isRequired},_highestPageReached:1,getInitialState:function(){return{activeResultIndex:0,numPerPage:this.getNumToShow(),page:1,isShowingUpsell:!1,numImages:this.getNumImagesToShow(this.props.images)}},componentWillMount:function(){return this.props.enabled&&this.bindKeys(),this.setNumPerPage()},componentDidMount:function(){this.focusActiveImage(),this.windowResizeListener=h.default.listen(i.window,"resize",this.onWindowResize)},componentWillUnmount:function(){return this.unbindKeys(),this.windowResizeListener&&this.windowResizeListener.remove(),i.logPageAction("new_create_set_image_search_results_page_reached",{page:this._highestPageReached,query:this.props.searchQuery})},componentWillReceiveProps:function(e){return!this.props.enabled&&e.enabled&&this.bindKeys(),this.props.enabled&&!e.enabled&&this.unbindKeys(),this.setState({numImages:this.props.images!==e.images?this.getNumImagesToShow(e.images):void 0})},componentWillUpdate:function(e,t){return t.page>this._highestPageReached?this._highestPageReached=t.page:void 0},getLimit:function(){return this.props.isUpgraded?k:N},getNumImagesToShow:function(e){return Math.min((0,A.default)(e),this.getLimit())},getNumToShow:function(){return(0,M.isMobileScreen)()?1:(0,M.isMediumScreen)()?2:4},setNumPerPage:function(){return this.setState({numPerPage:this.getNumToShow()})},onWindowResize:function(){this.setNumPerPage();var e=this.state,t=e.page,n=e.numImages,i=e.numPerPage,r=e.activeResultIndex,s=Math.ceil(n/i);(t>s||this.state.isShowingUpsell)&&this.setState({page:s,activeResultIndex:n-1});var o=this.state.page;if(r<(o-1)*i||r>=o*i)return this.setState({activeResultIndex:(o-1)*i})},bindKeys:function(){return E.default.setScope(this.props.termLuid),(0,E.default)(T.default.imageCarousel.nextImage,this.props.termLuid,this.onNextImage),(0,E.default)(T.default.imageCarousel.prevImage,this.props.termLuid,this.onPrevImage),(0,E.default)(T.default.imageCarousel.nextElement,this.props.termLuid,this.onNextElement),(0,E.default)(T.default.imageCarousel.prevElement,this.props.termLuid,this.onPrevElement),(0,E.default)(T.default.imageCarousel.selectImage,this.props.termLuid,this.onSelectImage)},unbindKeys:function(){return E.default.unbind(T.default.imageCarousel.prevImage,this.props.termLuid),E.default.unbind(T.default.imageCarousel.nextImage,this.props.termLuid),E.default.unbind(T.default.imageCarousel.nextElement,this.props.termLuid),E.default.unbind(T.default.imageCarousel.prevElement,this.props.termLuid),E.default.unbind(T.default.imageCarousel.selectImage,this.props.termLuid)},onNextImage:function(){if(!this.state.isShowingUpsell)return this.nextImage(),!1},onPrevImage:function(){return this.prevImage(),!1},onNextElement:function(){return!(this.hasActiveImage()||(0,U.default)(d.default.findDOMNode(this.refs.prevArrow))||0===this.getFirstIndexOnPage()&&this.props.isPrevElementFocused())||(this.nextImage(),!1)},onPrevElement:function(){if(this.isFirstImageOnPageActive())this.resetActiveResultIndex();else if(this.hasActiveImage()||(0,U.default)(d.default.findDOMNode(this.refs.nextArrow))||(0,U.default)(d.default.findDOMNode(this.refs.upsell)))return this.prevImage(),!1;return!0},
onSelectImage:function(){if(this.hasActiveImage()){var e=this.getActiveResultLuid();return this.props.selectImage(e),!1}return(0,U.default)(d.default.findDOMNode(this.refs.nextArrow))?this.handleNextPage():(0,U.default)(d.default.findDOMNode(this.refs.prevArrow))&&this.handlePrevPage(),!0},setActiveResultIndex:function(e){return this.setState({activeResultIndex:(0,D.default)(e,this.state.numImages)}),!0},focusImage:function(e){var t=this.refs["image"+e];return t.focus()},focusActiveImage:function(){return this.state.activeResultIndex>=0?this.focusImage(this.state.activeResultIndex):void 0},focusUpsell:function(){return this.refs.upsell.focus()},getFirstIndexOnPage:function(){var e=this.state,t=e.page,n=e.numPerPage;return(t-1)*n},getLastIndexOnPage:function(){var e=this.state,t=e.page,n=e.numPerPage,i=e.numImages;return Math.min(i-1,t*n-1)},resetActiveResultIndex:function(){return this.setState({activeResultIndex:-1})},isFirstImageOnPageActive:function(){return this.state.activeResultIndex===this.getFirstIndexOnPage()},isLastImageOnPageActive:function(){return this.state.activeResultIndex===this.getLastIndexOnPage()},hasActiveImage:function(){return this.state.activeResultIndex>=0},prevImage:function(){if(this.state.isShowingUpsell){this.setState({isShowingUpsell:!1});var e=this.state.numImages-1;return this.setActiveResultIndex(e),this.focusImage(e)}if(0!==this.state.activeResultIndex)return this.navigateResults(-1)},nextImage:function(){var e=this;return this.state.activeResultIndex!==this.state.numImages-1?this.navigateResults(1):this.props.shouldShowUpsell&&!this.state.isShowingUpsell?(this.setState({isShowingUpsell:!0}),setTimeout(function(){return e.focusUpsell()},B)):void 0},navigateResults:function(e){var t=void 0;t=this.state.activeResultIndex===-1?1===e?this.getFirstIndexOnPage():this.getLastIndexOnPage():this.state.activeResultIndex+e,this.setActiveResultIndex(t);var n=Math.ceil((t+1)/this.state.numPerPage);return this.state.page!==n?this.transitionToIndexOnNewPage(t,n):this.focusImage(t)},getActiveResultLuid:function(){var e=this;return function(){for(var t,n=[],i=(0,a.default)(e.props.images),r=0;r<i.length;r++)t=i[r],r===e.state.activeResultIndex&&n.push(t);return n}()},hasPreviousPage:function(){return this.state.page>1||this.state.isShowingUpsell},hasNextPage:function(){return this.props.shouldShowUpsell?!this.state.isShowingUpsell:this.state.page*this.state.numPerPage<this.state.numImages},handlePrevPage:function(){if(this.state.isShowingUpsell)return this.setState({isShowingUpsell:!1});var e=this.state.page;if(1!==e){var t=(e-1)*this.state.numPerPage-1;return this.transitionToIndexOnNewPage(t,e-1)}},handleNextPage:function(){var e=this.state,t=e.page,n=e.numImages,i=e.numPerPage;if(t*i+1>n&&this.props.shouldShowUpsell)return this.setState({isShowingUpsell:!0});if(!(n<t*i+1)){var r=t*i;return this.transitionToIndexOnNewPage(r,t+1)}},transitionToIndexOnNewPage:function(e,t){var n=this;return this.setState({activeResultIndex:e,page:t}),setTimeout(function(){return n.focusImage(e)},B)},renderArrow:function(e){var t="left"===e?this.hasPreviousPage():this.hasNextPage(),n=this.props.enabled&&t?F:-1,i="left"===e?this.handlePrevPage:this.handleNextPage,r="left"===e?"prevArrow":"nextArrow",s="ImageCarousel-arrowWrap ImageCarousel-arrowWrap--"+e;return l.default.createElement("div",{className:s},l.default.createElement(_.default,{className:"ImageCarousel-arrowButton",direction:e,isEnabled:t,onClick:i,ref:r,tabIndex:n}))},renderImages:function(){var e=this,t=this.state,n=t.numPerPage,i=t.numImages,r=0,s=100/(n*Math.ceil(i/n))+"%",o={width:s};return function(){var t=[];for(var n in e.props.images){var i=e.props.images[n];if(r<e.getLimit()){var s=r++,a="image"+s;t.push(l.default.createElement("div",{key:n,className:"ImageCarousel-imageWrap",style:o},l.default.createElement("div",{className:"ImageCarousel-image"},l.default.createElement("span",{className:"ImageCarousel-imageSpacer"}),l.default.createElement("a",{onClick:e.props.selectImage.bind(null,n),onBlur:e.resetActiveResultIndex,onFocus:e.setActiveResultIndex.bind(null,s),tabIndex:"-1",ref:a},l.default.createElement("img",{src:i.getSmallSecurePath(),alt:e.props.searchQuery}),l.default.createElement("button",{className:"ImageCarousel-selectImageButton button"},"Select")))))}}return t}()},renderContainedImages:function(){var e=this.state,t=e.page,n=e.numPerPage,i=e.numImages,r=e.isShowingUpsell,s=this.renderImages(),o=100*Math.ceil(i/n)+"%",a=r?t*-100+"%":100*(1-t)+"%",u={width:o,marginLeft:a};return l.default.createElement("div",{key:"gallery",className:"ImageCarousel-images",style:u},s)},renderUpsell:function(){if(!this.props.shouldShowUpsell)return null;var e=(0,m.default)({"ImageCarousel-upgradeUpsell":!0,"is-showing":this.state.isShowingUpsell}),t=this.props.isTeacher?this.props.formattedTeacherPrice:this.props.formattedPlusPrice;return l.default.createElement("a",{key:"upsell",className:e,href:"/upgrade?source=image_gallery&all=",ref:"upsell",tabIndex:F,target:"_blank"},l.default.createElement("div",{key:"upsellText",className:"ImageCarousel-upsellText"},l.default.createElement(S.default,{_precomputed:r("en-US","Upgrade for unlimited images (and more) <br />Only {formattedPrice} a year",{formattedPrice:t})})))},render:function(){var e=this.renderArrow("left"),t=this.renderArrow("right"),n=(0,m.default)("ImageCarousel","ImageCarousel--"+this.state.numPerPage+"-per-page'"),i=this.renderContainedImages(),r=this.renderUpsell();return l.default.createElement("div",{className:n},e,l.default.createElement("div",{className:"ImageCarousel-content"},i,r),t)}});t.default=q,e.exports=t.default}).call(t,n(2),n(6))},1527:function(e,t,n){"use strict";(function(i,r){function s(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(11),a=s(o),u=n(0),l=s(u),c=n(10),d=s(c),p=n(5),h=s(p),f=n(7),m=s(f),g=n(227),_=s(g),v=n(272),S=s(v),y=n(239),E=s(y),C=n(723),T=s(C),w=n(215),P=s(w),R=n(31),b=s(R),L=n(522),A=s(L),I=n(702),D=s(I),x=n(1526),U=s(x),M=n(724),O=s(M),N=n(83),k=s(N),F=n(26),B=s(F),q=n(361),V=s(q),W=S.default.limits.MAX_NUM_IMAGES,H=l.default.createClass({displayName:"ImageUploadContext",propTypes:{enabled:l.default.PropTypes.bool.isRequired,formattedPlusPrice:l.default.PropTypes.string.isRequired,formattedTeacherPrice:l.default.PropTypes.string.isRequired,image:l.default.PropTypes.object,isTeacher:l.default.PropTypes.bool.isRequired,isUnder18:l.default.PropTypes.bool.isRequired,isUpgraded:l.default.PropTypes.bool.isRequired,onClose:l.default.PropTypes.func.isRequired,onDeleteImage:l.default.PropTypes.func.isRequired,onDragEnter:l.default.PropTypes.func.isRequired,onDragLeave:l.default.PropTypes.func.isRequired,onDrop:l.default.PropTypes.func.isRequired,onFormUpload:l.default.PropTypes.func.isRequired,onImageSelect:l.default.PropTypes.func.isRequired,onRerunSearch:l.default.PropTypes.func.isRequired,placeholderImage:l.default.PropTypes.object,searchMeta:l.default.PropTypes.object,searchResults:l.default.PropTypes.object,termLuid:l.default.PropTypes.string.isRequired,word:l.default.PropTypes.string},mixins:[P.default,b.default,A.default,d.default],getInitialState:function(){return{dragCollection:[],dropTarget:!1,queryString:""}},componentWillMount:function(){this.setState({queryString:this.getSearchQuery(this.props)})},componentDidMount:function(){this.props.enabled&&this.onOpen()},componentWillReceiveProps:function(e){this.getSearchQuery(e)!==this.getSearchQuery(this.props)&&this.setState({queryString:this.getSearchQuery(e)})},componentDidUpdate:function(e){!e.enabled&&this.props.enabled&&this.onOpen()},focusActiveElement:function(){var e=this.refs.imageCarousel;return e&&e.hasActiveImage()?e.focusActiveImage():this.focusSearchInput()},onOpen:function(){this.isTouchDevice()&&this.focusActiveElement()},focusSearchInput:function(){return this.refs.searchBox.focus()},isWaitingForQuery:function(){return!this.props.word&&!this.hasExistingQuery()},getSearchQuery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;if(e.searchMeta)return e.searchMeta.queryString},isLoadingSearchResults:function(){if(this.props.searchMeta)return this.props.searchMeta.isLoading},isActiveImage:function(e){return"undefined"!=typeof e&&null!==e},hasSearchResults:function(){return(0,B.default)(this.getSearchResults())>0},hasExistingQuery:function(){return!!this.getSearchQuery()},getSearchResults:function(){var e=this,t={};return(0,a.default)(this.props.searchResults||{}).slice(0,W).forEach(function(n){var i=e.props.searchResults[n];e.isActiveImage(i)&&(t[n]=i)}),t},openUploadDialog:function(){this.refs.upload&&this.refs.upload.click()},onFileInputChange:function(){return"function"==typeof this.props.onFormUpload&&this.props.onFormUpload(this.refs.form),this.props.onClose()},onDragEnter:function(){return this.setState({dropTarget:!0}),this.props.onDragEnter()},onDragLeave:function(){return this.setState({dropTarget:!1}),this.props.onDragLeave()},onDrop:function(e){if(this.setState({dropTarget:!1}),"function"==typeof this.props.onDrop)return this.props.onDrop(e)},onOpenImageUpsell:function(){return T.default.openImageUpsellModal()},onUpdateQueryString:function(e){return this.setState({queryString:e.target.value})},onRerunSearch:function(e){e.preventDefault(),this.state.queryString&&this.props.onRerunSearch&&this.props.onRerunSearch(this.state.queryString)},selectSearchResult:function(e){var t=this.props.searchResults[e];return i.logPageAction("new_create_set_select_image_search_result",{message:"imageSearchQuery="+this.getSearchQuery()+" selectedId="+t.id+" selectedCode="+t.code}),"function"==typeof this.props.onImageSelect&&this.props.onImageSelect(e),this.props.onClose()},getTabIndex:function(){return this.props.enabled?_.default.keyboard.TAB_INDEX:-1},renderDelete:function(){return this.hasImage()?l.default.createElement("div",{className:"ImageUploadContext-delete"},l.default.createElement("a",{className:"ImageUploadContext-deleteLink",onClick:this.props.onDeleteImage,ref:"removeImageButton"},l.default.createElement(m.default,{_precomputed:r("en-US","Remove image",{})}))):null},renderUpsellLink:function(){return l.default.createElement("div",{className:"ImageUploadContext-upload"},l.default.createElement("a",{className:"ImageUploadContext-uploadLink",onClick:this.onOpenImageUpsell,ref:"learnMoreButton",target:"_blank"},l.default.createElement(m.default,{_precomputed:r("en-US","Or upload your own image",{})})))},renderUploadLink:function(){var e=E.default.IMAGE.join(",")+";capture=camera",t=this.props.termLuid+"-upload";return l.default.createElement("div",{className:"ImageUploadContext-upload"},l.default.createElement("label",{htmlFor:t,className:"ImageUploadContext-uploadLink"},l.default.createElement(m.default,{_precomputed:r("en-US","Or upload your own image",{})})),l.default.createElement("form",{ref:"form",className:"ImageUploadContext-uploadForm"},l.default.createElement("input",{type:"hidden",name:"data",value:"[{}]"}),l.default.createElement("input",{ref:"upload",accept:e,className:"ImageUploadContext-uploadInput js-keymaster-allow",type:"file",name:"image[]",onChange:this.onFileInputChange,id:t,multiple:!0})))},renderRerunSearch:function(){return l.default.createElement("form",{onSubmit:this.onRerunSearch,className:"ImageUploadContext-searchForm"},l.default.createElement("span",{className:"ImageUploadContext-searchBox"},l.default.createElement(D.default,{className:"js-keymaster-allow",onChange:this.onUpdateQueryString,ref:"searchBox",tabIndex:this.getTabIndex(),value:this.state.queryString})),l.default.createElement("button",{type:"submit",className:"ImageUploadContext-rerunButton tan dark button",disabled:!this.state.queryString,ref:"rerunButton",tabIndex:this.getTabIndex()},l.default.createElement(m.default,{_precomputed:r("en-US","Search",{})})))},renderSearchResultsLoading:function(){return l.default.createElement("div",{className:"ImageUploadContext-searchResults ImageUploadContext-searchResults--loading"},l.default.createElement("p",{className:"ImageUploadContext-resultsText ImageUploadContext-resultsText--loading"},l.default.createElement(m.default,{_precomputed:r("en-US","Loading…",{})})))},renderNoImagesFound:function(e){var t=(0,k.default)(e,25),n='<span className="ImageUploadContext-query">"'+t+'"</span>';return l.default.createElement("div",{className:"ImageUploadContext-searchResults ImageUploadContext-searchResults--noResults"},l.default.createElement("p",{className:"ImageUploadContext-resultsText ImageUploadContext-resultsText--noneFound"},l.default.createElement(m.default,{_precomputed:r("en-US","No images found for {searchTerm}",{searchTerm:n})})))},isSearchButtonFocused:function(){return(0,V.default)(this.refs.rerunButton)},renderSearchResultsItems:function(){var e=!this.props.isUpgraded&&!this.props.isUnder18;return l.default.createElement(U.default,{enabled:this.props.enabled,formattedPlusPrice:this.props.formattedPlusPrice,formattedTeacherPrice:this.props.formattedTeacherPrice,images:this.getSearchResults(),isPrevElementFocused:this.isSearchButtonFocused,isTeacher:this.props.isTeacher,isUpgraded:this.props.isUpgraded,searchQuery:this.getSearchQuery(),selectImage:this.selectSearchResult,shouldShowUpsell:e,termLuid:this.props.termLuid})},renderSearchResults:function(){var e=this.getSearchQuery();if(this.isLoadingSearchResults())return this.renderSearchResultsLoading();if(this.hasSearchResults()){var t=this.renderSearchResultsItems();return l.default.createElement("div",{className:"ImageUploadContext-searchResults ImageUploadContext-searchResults--hasResults"},t)}return e?this.renderNoImagesFound(e):null},getContextTitle:function(){return r("en-US","Search Quizlet images")},renderHeaderChild:function(){var e=this.renderRerunSearch(),t=this.props.isUpgraded?this.renderUploadLink():this.renderUpsellLink();return l.default.createElement("div",{className:"ImageUploadContext-headerExtraContent"},e,t)},render:function(){var e=(0,h.default)({ImageUploadContext:!0,"is-open":this.props.enabled,"is-dropTarget":this.state.dropTarget,"is-waitingForQuery":this.isWaitingForQuery()}),t=this.renderSearchResults(),n=this.renderHeaderChild(),i=this.renderDelete();return l.default.createElement("div",{className:e,onDragEnter:this._onDragEnter,onDragLeave:this._onDragLeave,onDrop:this._onDrop},i,l.default.createElement(O.default,{title:this.getContextTitle(),onClose:this.props.onClose},n),l.default.createElement("div",{className:"ImageUploadContext-wrapper"},l.default.createElement("div",{className:"ImageUploadContext-searchWrap"},t)))}});t.default=H,e.exports=t.default}).call(t,n(2),n(6))},1528:function(e,t,n){"use strict";(function(i){function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var s=n(8),o=r(s),a=n(0),u=r(a),l=n(10),c=r(l),d=n(169),p=r(d),h=n(7),f=r(h),m=n(273),g=r(m),_=n(525),v=r(_),S=u.default.createClass({displayName:"KeyboardShortcutsModal",propTypes:{isMac:u.default.PropTypes.bool,isOpen:u.default.PropTypes.bool.isRequired,onClose:u.default.PropTypes.func.isRequired},mixins:[c.default],componentWillMount:function(){this.h=new v.default(this.props.isMac)},renderKey:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u.default.createElement("kbd",(0,o.default)({className:"KeyboardShortcutsModal-key KeyboardKey"},t),e)},renderSymbol:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return u.default.createElement("span",(0,o.default)({className:"KeyboardShortcutsModal-symbol"},t),e)},renderShortcut:function(e){for(var t,n=this.h.getKeys(e),i=[],r=0;r<n.length;r++)t=n[r],i.push(this.renderKey(t,{key:"key-"+r})),r!==n.length-1&&i.push(this.renderSymbol("+",{key:"key-"+r+"-plus"}));return u.default.createElement("span",{className:"KeyboardShortcutsModal-keyGroup"},i)},render:function(){var e=this.renderKey(this.h.getKeyDisplayText("alt"));return u.default.createElement("div",{className:"KeyboardShortcutsModal"},u.default.createElement(p.default,{name:"KeyboardShortcutsModal",includeCloseButton:!0,isOpen:this.props.isOpen,onClose:this.props.onClose},u.default.createElement("div",{className:"qmodal-title"},u.default.createElement("h2",{className:"KeyboardShortcutsModal-headline qmodal-title-text"},u.default.createElement(f.default,{_precomputed:i("en-US","Keyboard Shortcuts",{})}))),u.default.createElement("div",{className:"KeyboardShortcutsModal-content"},u.default.createElement("div",{className:"KeyboardShortcutsModal-shortcut"},u.default.createElement("span",{className:"KeyboardShortcutsModal-desc"},u.default.createElement(f.default,{_precomputed:i("en-US","Add row",{})}),u.default.createElement("small",{className:"KeyboardShortcutsModal-descSubtext"},u.default.createElement(f.default,{_precomputed:i("en-US","(inserts below the current row)",{})}))),this.renderShortcut(g.default.term.addRowBelowCurrent)),u.default.createElement("div",{className:"KeyboardShortcutsModal-shortcut"},u.default.createElement("span",{className:"KeyboardShortcutsModal-desc"},u.default.createElement(f.default,{_precomputed:i("en-US","Next side or row",{})})),this.renderShortcut(g.default.term.tab)),u.default.createElement("div",{className:"KeyboardShortcutsModal-shortcut"},u.default.createElement("span",{className:"KeyboardShortcutsModal-desc"},u.default.createElement(f.default,{_precomputed:i("en-US","Move row up/down",{})})),u.default.createElement("span",{className:"KeyboardShortcutsModal-keyGroup"},e,this.renderSymbol("+"),this.renderKey("↑")," / ",this.renderKey("↓"))),u.default.createElement("div",{className:"KeyboardShortcutsModal-shortcut"},u.default.createElement("span",{className:"KeyboardShortcutsModal-desc"},u.default.createElement(f.default,{_precomputed:i("en-US","Select suggested language",{})})),this.renderShortcut(g.default.lang.selectSuggested)),u.default.createElement("div",{className:"KeyboardShortcutsModal-shortcut"},u.default.createElement("span",{className:"KeyboardShortcutsModal-desc"},u.default.createElement(f.default,{_precomputed:i("en-US","Choose language",{})})),this.renderShortcut(g.default.lang.selectOther)),u.default.createElement("div",{className:"KeyboardShortcutsModal-shortcut"},u.default.createElement("span",{className:"KeyboardShortcutsModal-desc"},u.default.createElement(f.default,{_precomputed:i("en-US","Open image gallery",{})}),u.default.createElement("small",{className:"KeyboardShortcutsModal-descSubtext"},u.default.createElement(f.default,{_precomputed:i("en-US","(tab and enter to select image)",{})}))),this.renderShortcut(g.default.term.toggleImages)),u.default.createElement("div",{className:"KeyboardShortcutsModal-shortcut"},u.default.createElement("span",{className:"KeyboardShortcutsModal-desc"},u.default.createElement(f.default,{_precomputed:i("en-US","Upload image",{})})),this.renderShortcut(g.default.term.toggleUpload)),u.default.createElement("div",{className:"KeyboardShortcutsModal-shortcut"},u.default.createElement("span",{className:"KeyboardShortcutsModal-desc"},u.default.createElement(f.default,{_precomputed:i("en-US","Open definition suggestions",{})})),this.renderShortcut(g.default.term.toggleAutodefine)),u.default.createElement("div",{className:"KeyboardShortcutsModal-shortcut"},u.default.createElement("span",{className:"KeyboardShortcutsModal-desc"},u.default.createElement(f.default,{_precomputed:i("en-US","Open voice recording",{})})),this.renderShortcut(g.default.term.toggleRecord)),u.default.createElement("div",{className:"KeyboardShortcutsModal-shortcut"},u.default.createElement("span",{className:"KeyboardShortcutsModal-desc"},u.default.createElement(f.default,{_precomputed:i("en-US","Make text bold",{})})),u.default.createElement("span",{className:"KeyboardShortcutsModal-keyGroup"},"*",u.default.createElement(f.default,{_precomputed:i("en-US","text",{})}),"*")))))}});t.default=S,e.exports=t.default}).call(t,n(6))},1529:function(e,t,n){"use strict";(function(i){function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var s=n(0),o=r(s),a=n(10),u=r(a),l=n(7),c=r(l),d=n(34),p=r(d),h=n(1530),f=r(h),m=o.default.createClass({displayName:"LanguageBar",propTypes:{defLang:o.default.PropTypes.string,hasCreatedSets:o.default.PropTypes.bool.isRequired,hasDefLangError:o.default.PropTypes.bool.isRequired,hasWordLangError:o.default.PropTypes.bool.isRequired,onFlipColumns:o.default.PropTypes.func.isRequired,onOpenKeyboardShortcuts:o.default.PropTypes.func.isRequired,recentLanguages:o.default.PropTypes.arrayOf(o.default.PropTypes.string).isRequired,setLuid:o.default.PropTypes.string.isRequired,viewOnly:o.default.PropTypes.bool.isRequired,wordLang:o.default.PropTypes.string},mixins:[u.default],renderFlipColumnsButton:function(){if(!this.props.wordLang||!this.props.defLang)return null;var e=i("en-US","Flip terms and definitions");return o.default.createElement("span",{className:"LanguageBar-flipColumnsButtonWrap"},o.default.createElement("span",{className:"LanguageBar-flipColumnsButton",onClick:this.props.onFlipColumns,title:e},o.default.createElement(p.default,{icon:"switch"})))},renderSide:function(e){var t="word"===e?this.props.hasWordLangError:this.props.hasDefLangError,n="word"===e?this.props.wordLang:this.props.defLang,i="word"===e?this.props.defLang:this.props.wordLang;return o.default.createElement(f.default,{hasCreatedSets:this.props.hasCreatedSets,hasError:t,lang:n,otherSideLang:i,recentLanguages:this.props.recentLanguages,setLuid:this.props.setLuid,side:e,viewOnly:this.props.viewOnly})},render:function(){var e=this.renderSide("word"),t=this.renderSide("definition"),n=this.renderFlipColumnsButton();return o.default.createElement("div",{className:"LanguageBar"},o.default.createElement("div",{className:"LanguageBar-languages"},e,n,t),o.default.createElement("a",{className:"LanguageBar-keyboardShortcuts",onClick:this.props.onOpenKeyboardShortcuts},o.default.createElement(c.default,{_precomputed:i("en-US","Keyboard Shortcuts",{})})))}});t.default=m,e.exports=t.default}).call(t,n(6))},153:function(e,t,n){"use strict";(function(t){function i(e,t,n,i){if(e&&"object"==typeof e){var r=e,s=void 0===r[n];s&&null!=t&&(r[n]=t)}}function r(e,t){if(null==e)return e;var n={};return s(e,i,n),n}var s=(n(259),n(260));n(157);"undefined"!=typeof t&&t.env,1,e.exports=r}).call(t,n(80))},1530:function(e,t,n){"use strict";(function(i,r,s){function o(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=n(0),u=o(a),l=n(10),c=o(l),d=n(5),p=o(d),h=n(64),f=o(h),m=n(31),g=o(m),_=n(7),v=o(_),S=n(40),y=n(179),E=o(y),C=n(613),T=o(C),w=n(1149),P=o(w),R=n(49),b=u.default.createClass({displayName:"LanguageBarSide",propTypes:{hasCreatedSets:u.default.PropTypes.bool.isRequired,hasError:u.default.PropTypes.bool.isRequired,lang:u.default.PropTypes.string,otherSideLang:u.default.PropTypes.string,recentLanguages:u.default.PropTypes.arrayOf(u.default.PropTypes.string).isRequired,setLuid:u.default.PropTypes.string.isRequired,side:u.default.PropTypes.oneOf([S.WORD_SIDE,S.DEFINITION_SIDE]).isRequired,viewOnly:u.default.PropTypes.bool.isRequired},mixins:[f.default,g.default,c.default],componentDidUpdate:function(e){if(this.props.hasError&&!e.hasError||this.props.hasError&&!e.hasError)return this.scrollToTop()},onOpenLangSelect:function(e){return e.preventDefault(),E.default.showLangSelect(this.props.setLuid,this.props.side)},onHideLangSelect:function(){return E.default.hideLangSelect(this.props.setLuid)},onSelectLang:function(e,t){return t.preventDefault(),T.default.updateLang(this.props.setLuid,this.props.side,e,this.props.otherSideLang)},renderQuickSwitch:function(){var e=this;return this.props.lang||0===this.props.recentLanguages.length||!this.props.hasCreatedSets?null:this.props.recentLanguages.filter(function(e){return R.invisibleLanguages.indexOf(e)<0}).slice(0,2).map(function(t){var n=e.onSelectLang.bind(e,t);return u.default.createElement("a",{className:"LanguageBarSide-quickSwitchLink",href:"#",key:t,onClick:n},r([i,i,"languages."+t],{}))})},renderSelectedLangLabel:function(){if(!this.props.lang)return null;var e=this.renderMobileChangeLink();return u.default.createElement("span",{className:"LanguageBarSide-selectedLangLabel"},r([i,i,"languages."+this.props.lang],{})," ",e)},renderMobileChangeLink:function(){return this.isTouchDevice()&&this.props.lang?u.default.createElement("span",{className:"LanguageBarSide-mobileChangeLink"},u.default.createElement(v.default,{_precomputed:s("en-US","Change",{})})):null},renderSelectLanguageLink:function(){var e=this.props.lang?s("en-US","Change"):s("en-US","Choose language");return u.default.createElement("a",{className:"LanguageBarSide-quickSwitchLink",href:"#",onClick:this.onOpenLangSelect},e)},renderMobileLanguageSelect:function(){var e=R.invisibleLanguages.indexOf(this.props.lang)>=0;return u.default.createElement("div",{className:"LanguageBarSide-languageSelect"},u.default.createElement(P.default,{disabled:this.props.viewOnly,lang:this.props.lang,onHideLangSelect:this.onHideLangSelect,otherSideLang:this.props.otherSideLang,recentLanguages:this.props.recentLanguages,setLuid:this.props.setLuid,showInvisibleLangs:e,side:this.props.side}))},render:function(){var e=(0,p.default)({LanguageBarSide:!0,"LanguageBarSide--word":this.props.side===S.WORD_SIDE,"LanguageBarSide--def":this.props.side===S.DEFINITION_SIDE,"has-lang":!!this.props.lang,"has-error":this.props.hasError}),t=this.renderSelectedLangLabel(),n=this.renderQuickSwitch(),i=this.isTouchDevice()?this.renderMobileLanguageSelect():this.renderSelectLanguageLink();return u.default.createElement("div",{className:e},t,n,i)}});t.default=b,e.exports=t.default}).call(t,n(141),n(96),n(6))},1531:function(e,t,n){"use strict";(function(i,r,s,o){function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var u=n(0),l=a(u),c=n(10),d=a(c),p=n(31),h=a(p),f=n(7),m=a(f),g=n(1149),_=a(g),v=n(725),S=a(v),y=n(615),E=a(y),C=n(179),T=a(C),w=n(613),P=a(w),R=n(37),b=a(R),L=n(273),A=a(L),I=n(49),D=l.default.createClass({displayName:"LanguagePrompt",propTypes:{defLang:l.default.PropTypes.string,isChooseLangSelected:l.default.PropTypes.bool.isRequired,onSelectLang:l.default.PropTypes.func.isRequired,question:l.default.PropTypes.string.isRequired,questionSubtext:l.default.PropTypes.string,recentLanguages:l.default.PropTypes.arrayOf(l.default.PropTypes.string).isRequired,setLuid:l.default.PropTypes.string.isRequired,side:l.default.PropTypes.string.isRequired,suggestedLang:l.default.PropTypes.string,suggestedLangCode:l.default.PropTypes.string,viewOnly:l.default.PropTypes.bool.isRequired,wordLang:l.default.PropTypes.string},mixins:[h.default,d.default],getInitialState:function(){return{shouldShowLangSelect:this.props.isChooseLangSelected}},componentDidMount:function(){var e=this;return(0,b.default)(A.default.lang.selectSuggested,"all",function(){return e.onSelectSuggested(),!1}),(0,b.default)(A.default.lang.selectOther,"all",function(){return e.showLangSelect(),!1})},componentWillUnmount:function(){return b.default.unbind(A.default.lang.selectSuggested,"all"),b.default.unbind(A.default.lang.selectOther,"all")},onSelectSuggested:function(){if(this.hasSuggestion()){var e="word"===this.props.side?this.props.defLang:this.props.wordLang;P.default.updateLang(this.props.setLuid,this.props.side,this.props.suggestedLangCode,e),this.props.onSelectLang(this.props.side,this.props.suggestedLangCode),i.logPageAction("create_set_lang_detect_select_suggested",{langCode:this.props.suggestedLangCode})}},onSelectOther:function(e){return e.preventDefault(),i.logPageAction("create_set_lang_detect_denied",{langCode:this.props.suggestedLangCode}),this.showLangSelect()},onHideLangSelect:function(){return T.default.hideLangSelect(this.props.setLuid)},renderLanguageSelect:function(){var e=I.invisibleLanguages.indexOf(this.props.defLang)>=0;return l.default.createElement(_.default,{disableAutofocus:!this.shouldShowLangSelect(),disabled:this.props.viewOnly,lang:"word"===this.props.side?this.props.wordLang:this.props.defLang,onHideLangSelect:this.onHideLangSelect,onSelectLang:this.props.onSelectLang,recentLanguages:this.props.recentLanguages,setLuid:this.props.setLuid,showInvisibleLangs:e,side:this.props.side})},renderSelectOther:function(){if(this.isTouchDevice()){var e=this.renderLanguageSelect();return l.default.createElement("span",{className:"LanguagePrompt-noSelectOther"},e)}return l.default.createElement("a",{className:"LanguagePrompt-noLink",onClick:this.onSelectOther},l.default.createElement(m.default,{_precomputed:r("en-US","No, choose language",{})}))},renderQuestionSubtext:function(){return this.props.questionSubtext?l.default.createElement("div",{className:"LanguagePrompt-questionSubtext"},this.props.questionSubtext):null},render:function(){var e=this.renderSelectOther(),t=this.isTouchDevice()?E.default.position.ABOVE:E.default.position.BELOW,n=void 0;if(this.hasSuggestion()&&!this.shouldShowLangSelect()){var i=o([s,s,"languages."+this.props.suggestedLangCode],{});n=l.default.createElement(S.default,{position:t},l.default.createElement("div",{className:"LanguagePrompt-question"},l.default.createElement(m.default,{_precomputed:r("en-US","Is that {language}?",{language:i})})),l.default.createElement("div",{className:"LanguagePrompt-buttonGroup"},l.default.createElement("button",{className:"LanguagePrompt-yesButton button",onClick:this.onSelectSuggested},l.default.createElement(m.default,{_precomputed:r("en-US","Yes",{})})),e))}else{var a=this.renderLanguageSelect(),u=this.renderQuestionSubtext();n=l.default.createElement(S.default,{position:t},l.default.createElement("div",{className:"LanguagePrompt-question"},this.props.question),u,l.default.createElement("div",{className:"LanguagePrompt-languageSelect"},a))}return l.default.createElement("div",{className:"LanguagePrompt"},n)},showLangSelect:function(){return this.setState({shouldShowLangSelect:!0})},shouldShowLangSelect:function(){return this.props.isChooseLangSelected||this.state.shouldShowLangSelect},hasSuggestion:function(){return!(!this.props.suggestedLang||!this.props.suggestedLangCode)}});t.default=D,e.exports=t.default}).call(t,n(2),n(6),n(141),n(96))},1532:function(e,t,n){"use strict";(function(i){function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var s=n(0),o=r(s),a=n(10),u=r(a),l=n(5),c=r(l),d=n(169),p=r(d),h=n(7),f=r(h),m=n(690),g=r(m),_=n(55),v=r(_),S=n(179),y=r(S),E=n(228),C=r(E),T=n(361),w=r(T),P=n(37),R=r(P),b=n(273),L=r(b),A="SetDescriptionModal",I=o.default.createClass({displayName:"SetDescriptionModal",propTypes:{defLang:o.default.PropTypes.string,description:o.default.PropTypes.string,hasProfanityError:o.default.PropTypes.bool.isRequired,isOpen:o.default.PropTypes.bool.isRequired,onClose:o.default.PropTypes.func.isRequired,setLuid:o.default.PropTypes.string.isRequired,wordLang:o.default.PropTypes.string},mixins:[u.default],getInitialState:function(){return{description:this.props.description}},componentWillReceiveProps:function(e){return!this.props.isOpen&&e.isOpen?this.onOpen():this.props.isOpen&&!e.isOpen?this.onClose():void 0},componentDidUpdate:function(e){if(!e.isOpen&&this.props.isOpen)return this.didOpen()},getPlaceholder:function(){return this.props.description?i("en-US","(Optional)"):null},onOpen:function(){var e=this;return R.default.pushScope(A),(0,R.default)(L.default.modal.tab,A,function(){if((0,w.default)(e.refs.saveButton))return e.focus(),!1})},onClose:function(){return R.default.popScope(A),R.default.unbind(L.default.modal.tab,A)},onClickSave:function(e){return e.preventDefault(),this.props.onClose()},onTextareaClick:function(e){return e.stopPropagation()},onClick:function(e){return e.preventDefault(),e.stopPropagation(),this.focus()},onChange:function(e){return this.setState({description:e.target.value})},onBlur:function(e){var t=e.target.value;if((t||this.props.description)&&t!==this.props.description)return this.updateAction({description:t})},onAccent:function(e){var t=this.refs.textarea,n=t.getSelectionStart(),i=t.getSelectionEnd();if(i!==-1){var r=this.props.description;
r=r||"";var s=r.slice(0,n)+e+r.slice(i),o={description:s};this.updateAction(o),this.setState(o,function(){return t.setCaretPosition(n+e.length)})}},renderAccentsBar:function(){var e=[];return this.props.wordLang&&e.push(this.props.wordLang),this.props.defLang&&e.push(this.props.defLang),C.default.containsAccentLanguage(e)?o.default.createElement("div",{className:"SetDescriptionModal-accentsBar"},o.default.createElement("div",{className:"SetDescriptionModal-accentsBarInner"},o.default.createElement(g.default,{languageCodes:e,onAccent:this.onAccent}))):null},renderProfanityError:function(){return this.props.hasProfanityError?o.default.createElement("p",{className:"SetDescriptionModal-profanityError"},o.default.createElement(f.default,{_precomputed:i("en-US","This description contains profanity that will be replaced with ****.",{})})):null},render:function(){var e=this.renderAccentsBar(),t=this.renderProfanityError(),n=(0,c.default)({SetDescriptionModal:!0,"has-accents":"undefined"!=typeof e&&null!==e});return o.default.createElement("div",{className:n},o.default.createElement(p.default,{name:A,includeCloseButton:!0,isOpen:this.props.isOpen,onClose:this.props.onClose},o.default.createElement("div",{className:"SetDescriptionModal-content"},o.default.createElement("div",{className:"SetDescriptionModal-headline"},o.default.createElement(f.default,{_precomputed:i("en-US","Set Description",{})})),o.default.createElement("div",{className:"SetDescriptionModal-textareaWrap"},o.default.createElement("div",{className:"SetDescriptionModal-textarea",onClick:this.onClick},o.default.createElement(v.default,{className:"CreateSetPage-autoExpandTextarea",onBlur:this.onBlur,onChange:this.onChange,onClick:this.onTextareaClick,placeholder:this.getPlaceholder(),ref:"textarea",tabIndex:6,value:this.state.description})),e),o.default.createElement("button",{onClick:this.onClickSave,ref:"saveButton",className:"large button SetDescriptionModal-saveButton",tabIndex:6},o.default.createElement(f.default,{_precomputed:i("en-US","Save",{})})),t)))},didOpen:function(){return this.focus()},updateAction:function(e){return y.default.update(this.props.setLuid,e)},focus:function(){return this.refs.textarea.focus(v.default.FOCUS_END)}});t.default=I,e.exports=t.default}).call(t,n(6))},1533:function(e,t,n){"use strict";(function(i,r){function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return t.indexOf(e)>=0}t.__esModule=!0;var a=n(11),u=s(a),l=n(0),c=s(l),d=n(10),p=s(d),h=n(5),f=s(h),m=n(469),g=s(m),_=n(7),v=s(_),S=n(169),y=s(S),E=n(38),C=s(E),T=n(179),w=s(T),P=n(1188),R=s(P),b=n(185),L=s(b),A=n(479),I=s(A),D=n(37),x=s(D),U=n(273),M=s(U),O="SetPermissions",N=c.default.createClass({displayName:"SetPermissions",propTypes:{classSetClassMap:c.default.PropTypes.object.isRequired,classSetSetMap:c.default.PropTypes.object.isRequired,classSets:c.default.PropTypes.object.isRequired,classes:c.default.PropTypes.object.isRequired,isOpen:c.default.PropTypes.bool.isRequired,onClose:c.default.PropTypes.func.isRequired,permissions:c.default.PropTypes.object.isRequired,selectedClassLuids:c.default.PropTypes.array.isRequired,selectedEditableByClassLuids:c.default.PropTypes.array.isRequired,set:c.default.PropTypes.object.isRequired,setLuid:c.default.PropTypes.string.isRequired},mixins:[p.default],getInitialState:function(){return{errors:[],password:this.props.set.password,showEditPasswordLink:this.setPreviouslyHadPassword(this.props)&&!this.props.set.password}},componentWillReceiveProps:function(e){if(!this.props.isOpen&&e.isOpen?this.onOpen():this.props.isOpen&&!e.isOpen&&this.onClose(),this.validate(e,!0),e.set!==this.props.set){var t=e.set,n=t.passwordUse,i=t.passwordEdit,r=t.accessType;this.setState({passwordUse:n,passwordEdit:i,accessType:r})}},onOpen:function(){var e=this;x.default.pushScope(O),(0,x.default)(M.default.modal.tab,O,function(){return e.focusViewing(),!1}),this.setState(this.getInitialState())},onClose:function(){x.default.popScope(O),x.default.unbind(M.default.modal.tab,O),this.setState(this.getInitialState())},onChangePermission:function(e,t){i.logPageAction("new_create_set_change_permissions");var n=t.target.value;R.default.changePermission(e,n)},onChangePassword:function(e){this.setState({password:e.target.value})},updateSetPermissions:function(){var e=this.props.permissions.viewableBy===I.default.permissions.EVERYONE?L.default.accessTypes.PUBLIC:L.default.accessTypes.PRIVATE,t=this.props.permissions.viewableBy===I.default.permissions.PASSWORD,n=this.props.permissions.editableBy===I.default.permissions.PASSWORD,i=this.state.password,r={accessType:e,passwordUse:t,passwordEdit:n};i&&(r.password=i),w.default.update(this.props.setLuid,r)},getCanEdit:function(){return this.props.permissions.editableBy===I.default.permissions.CLASSES},getSelectedClassLuids:function(){var e=this;return(0,u.default)(this.props.classSetClassMap).map(function(t){return e.props.classSetClassMap[t]})},toggleClass:function(e){var t=e.target.value;R.default.toggleClass(t)},toggleClassPermissions:function(e){var t=e.target.value;R.default.toggleClassPermissions(t)},getPropsKeyForSide:function(e){switch(e){case I.default.sides.VIEWING:return"viewableBy";case I.default.sides.EDITING:return"editableBy";default:return""}},onDoneClick:function(e){e.preventDefault(),this.onDoneEditing()},onDoneEditing:function(){this.validate(this.props)&&(this.updateSetPermissions(),R.default.persistClassSetsForPermissions(this.props.setLuid),this.props.onClose())},focusViewing:function(){var e=this.props.permissions.viewableBy,t=i.document.querySelector(".SetPermissions-section--viewing input[value='"+e+"']");t&&t.focus()},focusEditing:function(){var e=this.props.permissions.editableBy,t=i.document.querySelector(".SetPermissions-section--editing input[value='"+e+"']");t&&t.focus()},blur:function(){var e=i.document.querySelector(".SetPermissions input:focus");e&&e.blur()},validate:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[];return t&&!o(I.default.errors.PASSWORD_EMPTY_ERROR,this.state.errors)||this.passwordRequiredButEmpty(e)&&n.push(I.default.errors.PASSWORD_EMPTY_ERROR),t&&!o(I.default.errors.CLASSES_EMPTY_ERROR,this.state.errors)||this.classRequiredButEmpty(e)&&n.push(I.default.errors.CLASSES_EMPTY_ERROR),this.setState({errors:n}),0===n.length},permissionsRequirePassword:function(e){return e.permissions.viewableBy===I.default.permissions.PASSWORD||e.permissions.editableBy===I.default.permissions.PASSWORD},setPreviouslyHadPassword:function(e){return e.set.passwordUse||e.set.passwordEdit},passwordRequiredButEmpty:function(e){return!this.state.password&&this.permissionsRequirePassword(e)&&!this.setPreviouslyHadPassword(e)},classRequiredButEmpty:function(e){return o(I.default.permissions.CLASSES,[e.permissions.editableBy,e.permissions.viewableBy])&&0===e.selectedClassLuids.length},isPrivacyLocked:function(){return!!this.props.set.privacyLockStatus&&this.props.set.privacyLockStatus!==L.default.privacyLockStatus.UNLOCKED},isPrivacyLockedForDmca:function(){return this.props.set.privacyLockStatus===L.default.privacyLockStatus.DMCA},isPrivacyLockedForProprietary:function(){return this.props.set.privacyLockStatus===L.default.privacyLockStatus.PROPRIETARY},isPrivacyLockedForTestbankStrict:function(){return this.props.set.privacyLockStatus===L.default.privacyLockStatus.TESTBANK},isPrivacyLockedForTestbankRelaxed:function(){return this.props.set.privacyLockStatus===L.default.privacyLockStatus.TESTBANK_RELAXED},isPrivacyLockedForTestbank:function(){return this.isPrivacyLockedForTestbankStrict||this.isPrivacyLockedForTestbankRelaxed},getViewableOptionFns:function(){return[this.renderEveryoneOption.bind(this,I.default.sides.VIEWING,this.isPrivacyLocked()),this.renderCertainClassesOption.bind(this,I.default.sides.VIEWING,this.isPrivacyLockedForProprietary()||this.isPrivacyLockedForTestbankStrict()),this.renderPasswordOption.bind(this,I.default.sides.VIEWING,this.isPrivacyLockedForProprietary()||this.isPrivacyLockedForTestbankStrict()),this.renderJustMeOption.bind(this,I.default.sides.VIEWING)]},getEditableOptionFns:function(){switch(this.props.permissions.viewableBy){case I.default.permissions.EVERYONE:return[this.renderCertainClassesOption.bind(this,I.default.sides.EDITING,!1),this.renderPasswordOption.bind(this,I.default.sides.EDITING,!1),this.renderJustMeOption.bind(this,I.default.sides.EDITING)];case I.default.permissions.CLASSES:return[this.renderCertainClassesOption.bind(this,I.default.sides.EDITING,!1,"People in those classes"),this.renderPasswordOption.bind(this,I.default.sides.EDITING,!1),this.renderJustMeOption.bind(this,I.default.sides.EDITING)];case I.default.permissions.PASSWORD:return[this.renderPasswordOption.bind(this,I.default.sides.EDITING,!1,"People with the password"),this.renderJustMeOption.bind(this,I.default.sides.EDITING)];case I.default.permissions.JUST_ME:return[this.renderJustMeOption.bind(this,I.default.sides.EDITING)];default:return[]}},renderViewableOptions:function(){return this.getViewableOptionFns().map(function(e){return e()})},renderEditableOptions:function(){return this.getEditableOptionFns().map(function(e){return e()})},renderEveryoneOption:function(e,t){var n=r("en-US","Everyone"),i=r("en-US","All Quizlet users can use this set");return c.default.createElement(g.default,{groupValue:this.props.permissions[this.getPropsKeyForSide(e)],isDisabled:t,key:e+"-everyone-option",label:n,name:e,onChange:this.onChangePermission.bind(this,e),ref:"everyoneOption",sublabel:i,value:I.default.permissions.EVERYONE})},renderJustMeOption:function(e){var t=r("en-US","Just me"),n=e===I.default.sides.VIEWING?r("en-US","Only you can view this set"):r("en-US","Only you can edit this set");return c.default.createElement(g.default,{groupValue:this.props.permissions[this.getPropsKeyForSide(e)],key:e+"-just-me-option",label:t,name:e,onChange:this.onChangePermission.bind(this,e),sublabel:n,value:I.default.permissions.JUST_ME})},renderCertainClassesOption:function(e,t){var n=r("en-US","Certain classes"),i=void 0,s=void 0,a=void 0;e===I.default.sides.VIEWING?(s=r("en-US","Only members of these classes can use this set"),i=this.props.selectedClassLuids,a=this.toggleClass):(s=r("en-US","Only members of these classes can edit this set"),i=this.props.selectedEditableByClassLuids,a=this.toggleClassPermissions);var u=[],l=!1;for(var d in this.props.classes){var p=this.props.classes[d];l=!0;var h=o(d,i);u.push(c.default.createElement("label",{className:"SetPermissions-classCheckBox",key:d},c.default.createElement("input",{type:"checkbox",name:"classes[]",className:"SetPermissions-checkbox",checked:h,value:d,onChange:a}),p.title,c.default.createElement("br",null)))}return l?c.default.createElement(g.default,{groupValue:this.props.permissions[this.getPropsKeyForSide(e)],isDisabled:t,key:e+"-certain-classes-option",label:n,name:e,onChange:this.onChangePermission.bind(this,e),sublabel:s,value:I.default.permissions.CLASSES},u):null},onClickEditPassword:function(e){e.preventDefault(),this.setState({showEditPasswordLink:!1})},renderPasswordField:function(){return this.state.showEditPasswordLink?c.default.createElement("a",{href:"#",className:"SetPermissions-editPassword",onClick:this.onClickEditPassword},c.default.createElement(v.default,{_precomputed:r("en-US","Edit password",{})})):c.default.createElement("label",{className:"field"},c.default.createElement("strong",null,c.default.createElement(v.default,{_precomputed:r("en-US","Password:",{})})),c.default.createElement("input",{type:"password",className:"SetPermissions-passwordInput text",value:this.state.password,onChange:this.onChangePassword}))},renderPasswordOption:function(e,t){var n=r("en-US","People with a password"),i=e===I.default.sides.VIEWING?r("en-US","Only people with this password can use this set"):r("en-US","Only people with this password can edit this set"),s=this.renderPasswordField();return c.default.createElement(g.default,{groupValue:this.props.permissions[this.getPropsKeyForSide(e)],isDisabled:t,key:e+"-password-option",label:n,name:e,onChange:this.onChangePermission.bind(this,e),sublabel:i,value:I.default.permissions.PASSWORD},s)},renderErrors:function(){var e=this.state.errors.map(function(e,t){return c.default.createElement("div",{className:"SetPermissions-error",key:"error"+t},e.message)});return e.length?c.default.createElement("div",{className:"SetPermissions-errors"},e):null},renderPrivacyLockInfo:function(){var e=void 0,t=void 0;return this.isPrivacyLockedForDmca()?(e=c.default.createElement(v.default,{_precomputed:r("en-US","This set was reported as having copyrighted content, and is no longer public.",{})}),t=c.default.createElement("a",{href:"https://quizlet.com/help/2444159/why-was-my-content-removed-for-copyright"},c.default.createElement(v.default,{_precomputed:r("en-US","Learn more",{})}))):this.isPrivacyLockedForProprietary()?e=c.default.createElement(v.default,{_precomputed:r("en-US","This set has been reported as having proprietary content and cannot be made public again.",{})}):this.isPrivacyLockedForTestbank()?(e=c.default.createElement(v.default,{_precomputed:r("en-US","This set was reported as having test questions and answers, and is no longer shareable.",{})}),t=c.default.createElement("a",{href:"https://quizlet.com/help/2444161/academic-integrity-on-quizlet"},c.default.createElement(v.default,{_precomputed:r("en-US","Learn more",{})}))):e=c.default.createElement(v.default,{_precomputed:r("en-US","This set has been reported as having prohibited content and cannot be made public again.",{})}),c.default.createElement("div",{className:"SetPermissions-privacyLock"},e," ",t)},render:function(){var e=(0,f.default)("SetPermissions",{"has-errors":this.state.errors.length>0}),t=this.renderErrors(),n=this.renderViewableOptions(),i=this.renderEditableOptions();return c.default.createElement("div",{className:e},c.default.createElement(y.default,{name:O,isOpen:this.props.isOpen,onClose:this.onDoneEditing,isWide:!0},c.default.createElement("div",{className:"qmodal-title SetPermissions-headlineWrapper"},c.default.createElement("legend",{className:"SetPermissions-headline qmodal-title-text"},c.default.createElement(v.default,{_precomputed:r("en-US","Who can view?",{})})),c.default.createElement("legend",{className:"SetPermissions-headline qmodal-title-text SetPermissions-inlineHeadline"},c.default.createElement(v.default,{_precomputed:r("en-US","Who can edit?",{})}))),c.default.createElement(C.default,{transitionName:"SetPermissions-animateErrors"},t),c.default.createElement("form",{className:"SetPermissions-content"},c.default.createElement("fieldset",{className:"SetPermissions-section SetPermissions-section--viewing"},this.isPrivacyLocked()?this.renderPrivacyLockInfo():null,c.default.createElement("div",{className:"SetPermissions-options"},n)),c.default.createElement("div",{className:"qmodal-title SetPermissions-headlineWrapper SetPermissions-stackedHeadline"},c.default.createElement("legend",{className:"SetPermissions-headline qmodal-title-text"},c.default.createElement(v.default,{_precomputed:r("en-US","Who can edit?",{})}))),c.default.createElement("fieldset",{className:"SetPermissions-section SetPermissions-section--editing"},c.default.createElement("div",{className:"SetPermissions-options"},i)),c.default.createElement("div",{className:"SetPermissions-actions"},c.default.createElement("button",{className:"SetPermissions-done button large",onClick:this.onDoneClick},c.default.createElement(v.default,{_precomputed:r("en-US","Save",{})}))))))}});t.default=N,e.exports=t.default}).call(t,n(2),n(6))},1534:function(e,t,n){"use strict";(function(i){function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var s=n(0),o=r(s),a=n(10),u=r(a),l=n(7),c=r(l),d=n(169),p=r(d),h=n(51),f=r(h),m=n(38),g=r(m),_=n(614),v=r(_),S=o.default.createClass({displayName:"SetPermissionsErrorModal",propTypes:{isOpen:o.default.PropTypes.bool.isRequired,onClose:o.default.PropTypes.func.isRequired,type:o.default.PropTypes.string.isRequired},mixins:[u.default],getInitialState:function(){return{isResendingConfirmation:!1,wasEmailResent:!1}},onEmailResendSuccess:function(){return this.setState({wasEmailResent:!0})},onSendEmailConfirmation:function(){this.setState({isResendingConfirmation:!0}),f.default.post("/settings/resend-confirmation").credentials().end(this.onEmailResendSuccess)},renderNotCreatorMessage:function(){return o.default.createElement("div",{className:"SetPermissionsErrorModal-content"},o.default.createElement("div",{className:"SetPermissionsErrorModal-message"},o.default.createElement(c.default,{_precomputed:i("en-US","Only the creator of a set can change who can see and who can edit the set.",{})})),o.default.createElement("button",{ref:"dismissButton",tabIndex:"0",className:"ErrorAlert-button large button",onClick:this.props.onClose},o.default.createElement(c.default,{_precomputed:i("en-US","OK",{})})))},renderEmailResendButton:function(){if(this.state.wasEmailResent)return null;var e=this.state.isResendingConfirmation;return o.default.createElement("button",{className:"SetPermissionsModal-resendButton button",onClick:this.onSendEmailConfirmation,disabled:e},o.default.createElement(c.default,{_precomputed:i("en-US","Re-send email confirmation",{})}))},renderEmailResendSuccess:function(){return this.state.wasEmailResent?o.default.createElement("div",{className:"SetPermissionsErrorModal-emailSentSuccess"},"Email confirmation re-sent!"):null},renderUnder13Message:function(){var e=this.renderEmailResendButton(),t=this.renderEmailResendSuccess();return o.default.createElement("div",{className:"SetPermissionsErrorModal-content"},o.default.createElement("div",{className:"SetPermissionsErrorModal-message"},o.default.createElement(c.default,{_precomputed:i("en-US","Your parent's email hasn't been confirmed yet. Once it is confirmed, you will be able to make your set public.",{})})),e,o.default.createElement(g.default,{transitionName:"SetPermissionsErrorModal-animateEmailSuccess",transitionLeave:!1},t))},render:function(){var e=void 0;return this.props.type===v.default.permissions.NOT_CREATOR?e=this.renderNotCreatorMessage():this.props.type===v.default.permissions.UNDER_13&&(e=this.renderUnder13Message()),o.default.createElement("div",{className:"SetPermissionsErrorModal"},o.default.createElement(p.default,{name:"SetPermissionsError",includeCloseButton:!0,isOpen:this.props.isOpen,onClose:this.props.onClose},o.default.createElement("div",{className:"qmodal-title"},o.default.createElement("h2",{className:"qmodal-title-text"},o.default.createElement(c.default,{_precomputed:i("en-US","This setting cannot be changed",{})}))),e))}});t.default=S,e.exports=t.default}).call(t,n(6))},1535:function(e,t,n){"use strict";(function(i,r,s,o){function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var u=n(0),l=a(u),c=n(5),d=a(c),p=n(216),h=a(p),f=n(362),m=a(f),g=n(31),_=a(g),v=n(522),S=a(v),y=n(180),E=a(y),C=n(729),T=a(C),w=n(215),P=a(w),R=n(38),b=a(R),L=n(690),A=a(L),I=n(34),D=a(I),x=n(40),U=n(1541),M=a(U),O=n(1522),N=a(O),k=n(1519),F=a(k),B=n(1527),q=a(B),V=n(1692),W=a(V),H=n(55),j=a(H),G=n(227),z=a(G),K=n(239),Q=a(K),$=n(272),Z=a($),Y=n(179),X=a(Y),J=n(332),ee=a(J),te=n(824),ne=a(te),ie=n(1148),re=a(ie),se=n(723),oe=a(se),ae=n(795),ue=a(ae),le=n(526),ce=a(le),de=n(25),pe=a(de),he=n(85),fe=a(he),me=n(228),ge=a(me),_e=z.default.keyboard.TAB_INDEX,ve=l.default.createClass({displayName:"TermContent",propTypes:{activeContext:l.default.PropTypes.string,activeSide:l.default.PropTypes.string.isRequired,autodefineResults:l.default.PropTypes.object,defLang:l.default.PropTypes.string,definitionCustomAudio:l.default.PropTypes.object,definitionCustomAudioLuid:l.default.PropTypes.string,hasDefLangDetectResults:l.default.PropTypes.bool,formattedPlusPrice:l.default.PropTypes.string.isRequired,formattedTeacherPrice:l.default.PropTypes.string.isRequired,hasMinTermsError:l.default.PropTypes.bool.isRequired,hasProfanity:l.default.PropTypes.bool.isRequired,hasWordLangDetectResults:l.default.PropTypes.bool.isRequired,image:l.default.PropTypes.object,imageLuid:l.default.PropTypes.string,imageSearchMeta:l.default.PropTypes.object,imageSearchResults:l.default.PropTypes.object,index:l.default.PropTypes.number.isRequired,isActive:l.default.PropTypes.bool.isRequired,isMac:l.default.PropTypes.bool.isRequired,isPhantom:l.default.PropTypes.bool.isRequired,isReordering:l.default.PropTypes.bool.isRequired,isTeacher:l.default.PropTypes.bool.isRequired,isUnder18:l.default.PropTypes.bool.isRequired,isUpgraded:l.default.PropTypes.bool.isRequired,onActive:l.default.PropTypes.func.isRequired,onAddRow:l.default.PropTypes.func.isRequired,onBulkImageUpload:l.default.PropTypes.func.isRequired,onCloseContext:l.default.PropTypes.func.isRequired,onCloseVoiceRecordingPermissionsModal:l.default.PropTypes.func.isRequired,onDeleteRow:l.default.PropTypes.func.isRequired,onFocusDefinitionSide:l.default.PropTypes.func.isRequired,onMoveDown:l.default.PropTypes.func.isRequired,onMoveUp:l.default.PropTypes.func.isRequired,onOpenVoiceRecordingPermissionsModal:l.default.PropTypes.func.isRequired,onScrollToOffset:l.default.PropTypes.func.isRequired,onToggleContext:l.default.PropTypes.func.isRequired,placeholderImage:l.default.PropTypes.object,recorderState:l.default.PropTypes.object.isRequired,setLuid:l.default.PropTypes.string.isRequired,term:l.default.PropTypes.object,termCustomAudio:l.default.PropTypes.object,termCustomAudioLuid:l.default.PropTypes.string,termImageLuid:l.default.PropTypes.string,termLuid:l.default.PropTypes.string.isRequired,totalCount:l.default.PropTypes.number.isRequired,viewOnly:l.default.PropTypes.bool.isRequired,voiceRecordingUpsellImage:l.default.PropTypes.string.isRequired,wordCustomAudio:l.default.PropTypes.object,wordCustomAudioLuid:l.default.PropTypes.string,wordLang:l.default.PropTypes.string},mixins:[_.default,T.default,S.default,P.default,E.default],statics:{shouldUpdateOnProps:function(e,t){return e.term.word!==t.term.word||e.term.definition!==t.term.definition||e.activeSide!==t.activeSide||e.definitionCustomAudio!==t.definitionCustomAudio||e.definitionCustomAudioLuid!==t.definitionCustomAudioLuid||e.defLang!==t.defLang||e.hasMinTermsError!==t.hasMinTermsError||e.hasProfanity!==t.hasProfanity||e.image!==t.image||e.imageLuid!==t.imageLuid||e.isActive||e.isActive!==t.isActive||e.isPhantom!==t.isPhantom||e.isReordering!==t.isReordering||e.isUpgraded!==t.isUpgraded||e.placeholderImage!==t.placeholderImage||e.recorderState!==t.recorderState||e.termCustomAudio!==t.termCustomAudio||e.termCustomAudioLuid!==t.termCustomAudioLuid||e.termImageLuid!==t.termImageLuid||e.wordCustomAudio!==t.wordCustomAudio||e.wordCustomAudioLuid!==t.wordCustomAudioLuid||e.wordLang!==t.wordLang}},getInitialState:function(){var e=this.props.term,t=e.word,n=e.definition;return{word:t,definition:n,isDropTarget:!1,actionsExpanded:!1}},componentDidMount:function(){this.isFocused=!1},componentWillReceiveProps:function(e){if(this.props.term!==e.term){var t=e.term,n=t.word,i=t.definition;this.isFocused||this.setState({word:n,definition:i})}this.props.isActive&&!e.isActive&&this.setState({actionsExpanded:!1})},shouldComponentUpdate:function(e,t){return!!this.shallowUnequalState(t)||ve.shouldUpdateOnProps(this.props,e)},getActiveComponent:function(){return this.refs[this.props.activeSide+"Side"]},getOtherSide:function(e){return e===x.WORD_SIDE?x.DEFINITION_SIDE:x.WORD_SIDE},isAutodefineContextOpen:function(){return this.props.activeContext===z.default.contexts.AUTODEFINE},closeAutodefineContext:function(){return this.props.onCloseContext(z.default.contexts.AUTODEFINE)},canShowAutodefine:function(){return!!this.state.word},closeActionsAndRefocus:function(){var e=this;if(this.state.actionsExpanded)return this.setState({actionsExpanded:!1},function(){return e.focusDefinition(j.default.FOCUS_END)})},onSelectAutodefineResult:function(e){i.logPageAction("new_create_set_select_autodefine_result");var t=e;this.state.definition&&(t=this.state.definition+"\n"+e),this.updateAction({word:this.state.word,definition:t}),this.closeAutodefineContext(),this.closeActionsAndRefocus()},getLang:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.activeSide;return this.props[e===x.WORD_SIDE?"wordLang":"defLang"]},getInactiveSideLang:function(){return this.props[this.props.activeSide===x.WORD_SIDE?"defLang":"wordLang"]},hasDetectLangResults:function(e){return e===x.WORD_SIDE?this.props.hasWordLangDetectResults:this.props.hasDefLangDetectResults},getWordPlaceholder:function(){return this.props.wordLang&&this.props.wordLang!==this.props.defLang?s([r,r,"languages."+this.props.wordLang],{}):o("en-US","Term")},getDefinitionPlaceholder:function(){return this.props.defLang&&this.props.wordLang!==this.props.defLang?s([r,r,"languages."+this.props.defLang],{}):o("en-US","Definition")},updateBothSidesAndDetectLang:function(e,t){var n=this.getOtherSide(e),i={};if(i[e]=t,i[n]=this.props.term[n],this.updateAction(i),!this.getLang(e)&&t)return this.detectLangAction(e,t)},updateAction:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t&&(e.rank=this.props.term.rank),ee.default.update({setLuid:this.props.setLuid,luid:this.props.termLuid,props:e,wordLang:this.props.wordLang,defLang:this.props.defLang,persist:t})},_detectLang:null,detectLangAction:function(){var e=this;this._detectLang||(this._detectLang=(0,h.default)(function(t,n){e.hasDetectLangResults(t)||X.default.detectLanguage(e.props.setLuid,t,n)},700));for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return this._detectLang.apply(null,n)},onClickMoveUp:function(){this.props.onMoveUp({shouldCenter:!1})},onClickMoveDown:function(){this.props.onMoveDown({shouldCenter:!1})},openUploadDialog:function(){var e=this.refs.imageUpload;e&&e.openUploadDialog()},focus:function(e){this.getActiveComponent().focus(e)},focusWord:function(e){this.refs.wordSide.focus(e)},focusDefinition:function(e){this.refs.definitionSide.focus(e)},blur:function(){this.getActiveComponent().blur()},blurWord:function(){this.refs.wordSide.blur()},blurDefinition:function(){this.refs.definitionSide.blur()},onWordClick:function(){this.props.viewOnly||this.focusWord(j.default.FOCUS_END)},onDefinitionClick:function(){this.props.viewOnly||this.focusDefinition(j.default.FOCUS_END)},onAddRowClick:function(e){e.preventDefault(),this.onWordClick(e)},onChange:function(e,t){if(!this.props.viewOnly&&this.getActiveComponent()){var n=e.target.value,i=null;t===x.DEFINITION_SIDE&&n&&this.isAutodefineContextOpen()&&this.closeAutodefineContext(),!this.getLang(t)&&n.length>=4&&this.detectLangAction(t,n);var r=(0,m.default)(n,this.getLang(t),this.getInactiveSideLang());if(r!==n){var s=this.getActiveComponent(),o=s.getSelectionEnd();i=s.setCaretPosition.bind(s,o),n=r}this.setState((0,pe.default)(t,n),i)}},onFocus:function(e,t){var n=this;if(!this.props.viewOnly){this.isFocused=!0;var i=!this.props.isActive||t!==this.props.activeSide;i&&(this.isAndroidDevice()?setTimeout(function(){return ee.default.activateRowSide(n.props.termLuid,t)},0):ee.default.activateRowSide(this.props.termLuid,t)),t===x.DEFINITION_SIDE&&this.props.onFocusDefinitionSide(),t===x.WORD_SIDE&&this.closeAutodefineContext(),this.closeRecordingContext()}},onBlur:function(e,t){var n=this;if(!this.props.viewOnly){this.isFocused=!1;var i=e.target.value,r=this.props.term[t],s=(i||r)&&i!==r;s&&(this.isAndroidDevice()?setTimeout(function(){return n.updateBothSidesAndDetectLang(t,i)},0):this.updateBothSidesAndDetectLang(t,i))}},onAccent:function(e){var t=this.getActiveComponent(),n=t.getSelectionStart(),i=t.getSelectionEnd();if(i!==-1){var r=this.props,s=r.term,o=r.activeSide,a=s[o]||"",u=a.slice(0,n)+e+a.slice(i),l=(0,pe.default)(o,u);this.updateAction(l),this.setState(l,t.setCaretPosition.bind(t,n+e.length))}},onTextDrop:function(e){this.dropContainsText(e)&&e.stopPropagation()},onDragOver:function(e){this.dropContainsText(e)&&e.stopPropagation()},dropContainsText:function(e){var t="undefined"!=typeof e.dataTransfer.types&&null!==e.dataTransfer.types;if(!t)return!0;for(var n,i=0;i<e.dataTransfer.types.length;i++)if(n=e.dataTransfer.types[i],Q.default.TEXT.indexOf(n)>=0)return!0;return!1},onToggleActions:function(){this.props.isActive||this.props.onActive(this.props.termLuid),this.setState({actionsExpanded:!this.state.actionsExpanded})},onInsertRow:function(){this.state.actionsExpanded&&this.setState({actionsExpanded:!1}),this.props.onAddRow()},isImageContextOpen:function(){return this.props.activeContext===z.default.contexts.IMAGE},isValidFile:function(e){return"undefined"!=typeof e&&"undefined"!=typeof e.type&&e.type.toLowerCase()in Q.default.IMAGE},warnOldIeOnDrop:function(e){try{return e.dataTransfer.effectAllowed,!0}catch(e){return!!(i.File&&i.FileList&&i.FileReader)||(ne.default.dropFailure({message:o("en-US","Your browser doesn't support drag and drop for images. Please use the upload button after clicking on the image icon instead.")}),!1)}},onDragEnter:function(e){if(!this.props.isReordering){try{if("move"===e.dataTransfer.effectAllowed||this.dropContainsText(e))return}catch(e){}this.state.isDropTarget||this.setState({isDropTarget:!0})}},onDragLeave:function(){this.state.isDropTarget&&this.setState({isDropTarget:!1})},onDrop:function(e){this.state.isDropTarget&&this.setState({isDropTarget:!1}),this.handleDrop(e)},handleDrop:function(e){var t=this;if(this.setState({isDraggedOver:!1}),!(this.dropContainsText(e)||this.props.isReordering||this.props.viewOnly)){if(!this.props.isUpgraded)return void oe.default.openImageUpsellModal();if("undefined"!=typeof e.dataTransfer){var n=this.warnOldIeOnDrop(e);if(n){e.preventDefault();var i="undefined"!=typeof e.dataTransfer.setDragImage&&null!==e.dataTransfer.setDragImage;if(i){var r=e.dataTransfer.getData("text/html");if(r&&r.match(/src\s*=\s*"(.+?)"/))return void ne.default.dropFailure({message:o("en-US","If you're trying to drag an image from another website, please save the image to your computer first and then drag it onto this page.")})}(0,ce.default)(e.dataTransfer.files,Q.default.IMAGE,{onComplete:function(e,n,i){return e?(i.length&&ne.default.bulkUploadFailure({message:o("en-US","The following files couldn't be uploaded because they don't appear to be images (we accept jpg, jpeg, tif, bmp, png, gif, and tiff formats):"),files:i}),t.props.onBulkImageUpload(n,t.props.termLuid,1===e),t.closeImageContext()):ne.default.dropFailure({message:o("en-US","It doesn't look like you've dropped any files!")})}})}}}},onFormUpload:function(e){var t=this,n=function(){return e.reset(),t.closeImageContext(),t.closeActionsAndRefocus()},i=[];e[1]&&e[1].files&&(i=e[1].files),i.length&&(0,ce.default)(i,Q.default.IMAGE,{onComplete:function(i,r,s){return i?(s.length&&ne.default.bulkUploadFailure({message:o("en-US","The following files couldn't be uploaded because they don't appear to be images (we accept jpg, jpeg, tif, bmp, png, gif, and tiff formats):"),files:s}),t.props.onBulkImageUpload(r,t.props.termLuid,1===i),void n()):(ne.default.bulkCreate([{file:e,setLuid:t.props.setLuid,termLuid:t.props.termLuid,termImageLuid:t.props.termImageLuid}]),void n())}})},closeImageContext:function(){this.props.onCloseContext(z.default.contexts.IMAGE)},onDeleteImage:function(){i.confirm(o("en-US","Are you sure you want to remove this image from your set?"))&&(re.default.del(this.props.imageLuid,this.props.termLuid,this.props.termImageLuid),this.props.onCloseContext(z.default.contexts.IMAGE),this.focusDefinition(j.default.FOCUS_END))},onReplaceImage:function(e){ne.default.replace(e,this.props.setLuid,this.props.termLuid,this.props.termImageLuid),this.closeActionsAndRefocus()},searchImages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.term.word,t=this.props.wordLang&&this.props.defLang?[this.props.wordLang,this.props.defLang]:null,n=this.props.isUpgraded?Z.default.limits.MAX_NUM_IMAGES_UPGRADED:Z.default.limits.MAX_NUM_IMAGES_FREE;
ne.default.search(this.props.termLuid,e,t,n)},getVoiceRecording:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.activeSide;return e===x.WORD_SIDE?[this.props.wordCustomAudioLuid,this.props.wordCustomAudio]:[this.props.definitionCustomAudioLuid,this.props.definitionCustomAudio]},isRecordingContextOpen:function(){return this.props.activeContext===z.default.contexts.RECORDING},closeRecordingContext:function(){this.props.onCloseContext(z.default.contexts.RECORDING)},hasRecording:function(){return this.props.wordCustomAudio||this.props.definitionCustomAudio},getTtsUrl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.activeSide,t=(0,ue.default)(this.getLang(e));if(!t)return null;var n=e===x.WORD_SIDE?this.props.term._wordTtsUrl:this.props.term._definitionTtsUrl;return"undefined"!=typeof n&&null!==n?n.replace(/\/\w{2}\.mp3/,"/"+t+".mp3"):void 0},renderAccentsBar:function(){if(!this.props.isActive||this.props.viewOnly)return null;var e=this.getLang();return ge.default.containsAccentLanguage(e)?l.default.createElement("div",{className:"TermContent-accentsBar"},l.default.createElement("div",{className:"TermContent-accentsBarInner"},l.default.createElement(A.default,{languageCodes:[this.getLang()],onAccent:this.onAccent,startUppercase:!1}))):null},onCloseContext:function(e){return this.props.onCloseContext(e),this.closeActionsAndRefocus()},onImageContextDragEnter:function(){return this.setState({isDraggedOver:!0})},onImageContextDragLeave:function(){return this.setState({isDraggedOver:!1})},renderImageUpload:function(){if(this.props.viewOnly)return null;if(!this.isImageContextOpen()||!this.props.isActive)return null;var e=(0,d.default)("TermContent-imageUploadContext",{"is-draggedOver":this.state.isDraggedOver});return l.default.createElement("div",{className:e},l.default.createElement(q.default,{enabled:this.isImageContextOpen(),formattedPlusPrice:this.props.formattedPlusPrice,formattedTeacherPrice:this.props.formattedTeacherPrice,image:this.props.image,isTeacher:this.props.isTeacher,isUnder18:this.props.isUnder18,isUpgraded:this.props.isUpgraded,onClose:this.closeImageContext,onDeleteImage:this.onDeleteImage,onDragEnter:this.onImageContextDragEnter,onDragLeave:this.onImageContextDragLeave,onDrop:this.handleDrop,onFormUpload:this.onFormUpload,onImageSelect:this.onReplaceImage,onRerunSearch:this.searchImages,placeholderImage:this.props.placeholderImage,ref:"imageUpload",searchMeta:this.props.imageSearchMeta,searchResults:this.props.imageSearchResults,termLuid:this.props.termLuid,word:this.state.word}))},renderVoiceRecording:function(){if(this.props.viewOnly)return null;if(!this.isRecordingContextOpen()||!this.props.isActive)return null;var e=this.getVoiceRecording(x.WORD_SIDE),t=e[0],n=e[1],i=this.getVoiceRecording(x.DEFINITION_SIDE),r=i[0],s=i[1];return l.default.createElement("div",{className:"TermContent-voiceRecordingContext"},l.default.createElement(W.default,{activeSide:this.props.activeSide,definitionCustomAudio:s,definitionCustomAudioLuid:r,definitionTtsAudioUrl:this.getTtsUrl(x.DEFINITION_SIDE),enabled:this.isRecordingContextOpen(),isMac:this.props.isMac,isUpgraded:this.props.isUpgraded,onClose:this.onCloseContext.bind(null,z.default.contexts.RECORDING),onCloseVoiceRecordingPermissionsModal:this.props.onCloseVoiceRecordingPermissionsModal,onOpenVoiceRecordingPermissionsModal:this.props.onOpenVoiceRecordingPermissionsModal,onScrollToOffset:this.props.onScrollToOffset,recorderState:this.props.recorderState,ref:"voiceRecording",setLuid:this.props.setLuid,term:this.props.term,termCustomAudio:this.props.termCustomAudio,termCustomAudioLuid:this.props.termCustomAudioLuid,termLuid:this.props.termLuid,voiceRecordingUpsellImage:this.props.voiceRecordingUpsellImage,wordCustomAudio:n,wordCustomAudioLuid:t,wordTtsAudioUrl:this.getTtsUrl(x.WORD_SIDE)}))},renderAutodefine:function(){if(this.props.viewOnly)return null;if(!(this.isAutodefineContextOpen()&&this.props.isActive&&this.canShowAutodefine()))return null;var e=this.props.autodefineResults||{},t=e.data,n=e.isLoading,i=(0,fe.default)((t||[]).map(function(e){var t=e.definition;return t}));return l.default.createElement("div",{className:"TermContent-autodefineContext"},l.default.createElement(F.default,{autodefineResults:this.props.autodefineResults,defLang:this.props.defLang,enabled:this.isAutodefineContextOpen(),isLoading:!!n,onClose:this.onCloseContext.bind(null,z.default.contexts.AUTODEFINE),onSelectAutodefineResult:this.onSelectAutodefineResult,results:i,setLuid:this.props.setLuid,termLuid:this.props.termLuid,text:this.props.term.word}))},renderAddRowButton:function(){return this.props.isPhantom?l.default.createElement("a",{id:"addRow",className:"TermContent-addRowButton dark tan button",onClick:this.onAddRowClick},l.default.createElement(D.default,{icon:"plus-thin",className:"TermContent-addRowIcon"})):null},renderContextToggles:function(){var e=(0,d.default)("TermContent-contextToggles",{"is-expanded":this.state.actionsExpanded}),t=(0,d.default)("TermContent-contextToggle",{"TermContent-toggleContext--recording":!0,"has-recording":this.hasRecording()}),n=this.hasImage()?o("en-US","Change image"):o("en-US","Add image"),i=this.hasRecording()?o("en-US","Change voice recording"):o("en-US","Add voice recording"),r=o("en-US","Auto-define");return l.default.createElement("div",{className:e},l.default.createElement("div",{className:"TermContent-contextTogglesInner"},l.default.createElement("span",{className:"TermContent-contextToggle TermContent-toggleContext--deleteRow TermContent-toggleContext--mobileOnly"},l.default.createElement("button",{disabled:!this.canDelete(),className:"TermContent-toggleContextButton",onClick:this.props.onDeleteRow,tabIndex:"-1"},l.default.createElement(D.default,{icon:"garbage",className:"TermContent-contextIcon"}))),l.default.createElement("span",{className:"TermContent-contextToggle TermContent-toggleContext--moveRowUp TermContent-toggleContext--mobileOnly"},l.default.createElement("button",{disabled:this.isFirst(),className:"TermContent-toggleContextButton",onClick:this.onClickMoveUp},l.default.createElement(D.default,{icon:"up",className:"TermContent-contextIcon"}))),l.default.createElement("span",{className:"TermContent-contextToggle TermContent-toggleContext--moveRowDown TermContent-toggleContext--mobileOnly"},l.default.createElement("button",{disabled:this.isLast(),className:"TermContent-toggleContextButton",onClick:this.onClickMoveDown},l.default.createElement(D.default,{icon:"dropdown",className:"TermContent-contextIcon"}))),l.default.createElement("span",{className:"TermContent-contextToggle TermContent-toggleContext--insertRow TermContent-toggleContext--mobileOnly"},l.default.createElement("button",{disabled:!this.canInsert(),className:"TermContent-toggleContextButton",onClick:this.onInsertRow},l.default.createElement(D.default,{icon:"plus-thin",className:"TermContent-contextIcon"}))),l.default.createElement("span",{className:"TermContent-contextToggle TermContent-contextToggle--primary TermContent-toggleContext--image"},l.default.createElement("button",{className:"TermContent-toggleContextButton",onClick:this.props.onToggleContext.bind(null,z.default.contexts.IMAGE),disabled:this.isImageUploading(),tabIndex:"-1",title:n},l.default.createElement(D.default,{icon:"image",className:"TermContent-contextIcon"}))),l.default.createElement("span",{className:t},l.default.createElement("button",{className:"TermContent-toggleContextButton",onClick:this.props.onToggleContext.bind(null,z.default.contexts.RECORDING),tabIndex:"-1",title:i},l.default.createElement(D.default,{icon:"mic",className:"TermContent-contextIcon"}))),l.default.createElement("span",{className:"TermContent-contextToggle TermContent-contextToggle--primary TermContent-toggleContext--autodefine"},l.default.createElement("button",{className:"TermContent-toggleContextButton",onClick:this.props.onToggleContext.bind(null,z.default.contexts.AUTODEFINE),disabled:!this.canShowAutodefine(),tabIndex:"-1",title:r},l.default.createElement(D.default,{icon:"dictionary",className:"TermContent-contextIcon"})))),l.default.createElement("span",{className:"TermContent-toggleContextButton--mobileActionsWrap"},l.default.createElement("button",{className:"TermContent-toggleContextButton TermContent-toggleContextButton--mobileActions",onClick:this.onToggleActions},l.default.createElement(D.default,{icon:"settings",className:"TermContent-contextIcon"}))))},renderContext:function(){var e=this.renderAccentsBar(),t=this.renderImageUpload(),n=this.renderAutodefine(),i=this.renderVoiceRecording();return this.isTouchDevice()?l.default.createElement("div",{className:"TermContent-context"},e,t,n,i):l.default.createElement("div",{className:"TermContent-context"},e,l.default.createElement(b.default,{transitionName:"TermContent-animateContext"},t),l.default.createElement(b.default,{transitionName:"TermContent-animateContext"},n),l.default.createElement(b.default,{transitionName:"TermContent-animateContext"},i))},render:function(){var e,t=this.renderAddRowButton(),n=this.renderContextToggles(),i=this.renderContext(),r=this.props.viewOnly?" is-viewOnly":"",s=(0,d.default)("TermContent",(e={"is-dropTarget":this.state.isDropTarget&&!this.props.isReordering,"has-error":this.props.hasProfanity||this.props.hasMinTermsError},e["is-active-"+this.props.activeSide]=this.props.isActive,e));return l.default.createElement("div",{className:s},l.default.createElement("div",{className:"TermContent-sides"},l.default.createElement("div",{className:"TermContent-sideWrap",onDragEnter:this._onDragEnter,onDragLeave:this._onDragLeave,onDrop:this._onDrop},l.default.createElement("div",{className:"TermContent-side TermContent-side--word"+r,onClick:this.onWordClick,onDrop:this.onTextDrop,onDragOver:this.onDragOver},l.default.createElement(M.default,{lang:this.props.wordLang,onBlur:this.onBlur,onChange:this.onChange,onFocus:this.onFocus,placeholder:this.getWordPlaceholder(),ref:"wordSide",tabIndex:_e,termActive:this.props.isActive,viewOnly:this.props.viewOnly,word:this.state.word})),l.default.createElement("div",{className:"TermContent-side TermContent-side--definition"+r,onClick:this.onDefinitionClick,onDrop:this.onTextDrop,onDragOver:this.onDragOver},l.default.createElement(N.default,{definition:this.state.definition,image:this.props.image,lang:this.props.defLang,onBlur:this.onBlur,onChange:this.onChange,onDeleteImage:this.onDeleteImage,onFocus:this.onFocus,placeholder:this.getDefinitionPlaceholder(),placeholderImage:this.props.placeholderImage,ref:"definitionSide",showAutodefine:this.canShowAutodefine(),tabIndex:_e,termActive:this.props.isActive,viewOnly:this.props.viewOnly})),t),l.default.createElement("div",{className:"TermContent-contextTogglesWrap"},n)),i)}});t.default=ve,e.exports=t.default}).call(t,n(2),n(141),n(96),n(6))},1536:function(e,t,n){"use strict";(function(i){function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var s=n(0),o=r(s),a=n(729),u=r(a),l=n(34),c=r(l),d=o.default.createClass({displayName:"TermOperations",propTypes:{index:o.default.PropTypes.number.isRequired,onAddRow:o.default.PropTypes.func.isRequired,onDeleteRow:o.default.PropTypes.func.isRequired,totalCount:o.default.PropTypes.number.isRequired},mixins:[u.default],statics:{shouldUpdateOnProps:function(e,t){return e.index!==t.index||e.totalCount!==t.totalCount}},shouldComponentUpdate:function(e){return d.shouldUpdateOnProps(this.props,e)},renderDeleteButton:function(){if(!this.canDelete())return null;var e=i("en-US","Delete this row");return o.default.createElement("button",{className:"TermOperations-button TermOperations-deleteRow",onClick:this.props.onDeleteRow,title:e,tabIndex:"-1"},o.default.createElement(c.default,{icon:"x",className:"TermOperations-icon"}))},renderInsertButton:function(){if(this.isLast()||!this.canInsert())return null;var e=i("en-US","Add row");return o.default.createElement("button",{className:"TermOperations-button TermOperations-addRow",onClick:this.props.onAddRow,title:e,tabIndex:"-1"},o.default.createElement(c.default,{icon:"plus-thin",className:"TermOperations-icon"}))},render:function(){var e=this.renderDeleteButton(),t=this.renderInsertButton();return o.default.createElement("div",{className:"TermOperations"},t,e)}});t.default=d,e.exports=t.default}).call(t,n(6))},1537:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(0),s=i(r),o=n(10),a=i(o),u=n(215),l=i(u),c=n(227),d=i(c),p=n(78),h=i(p),f=s.default.createClass({displayName:"TermRowDragPlaceholder",propTypes:{height:s.default.PropTypes.number.isRequired,onDragEnter:s.default.PropTypes.func.isRequired,onDragLeave:s.default.PropTypes.func.isRequired,termLuid:s.default.PropTypes.string.isRequired},mixins:[l.default,a.default],getInitialState:function(){return{height:this.props.height}},componentDidMount:function(){var e=this;this.tween=new h.default({height:this.props.height}).ease("linear").to({height:d.default.styles.TERM_ROW_MIN_HEIGHT}).duration(150).update(function(t){return e.setState(t)}).start()},componentWillUnmount:function(){this.tween&&this.tween.stop()},onDragEnter:function(e){return this.props.onDragEnter(this.props.termLuid,e)},onDragLeave:function(e){return this.props.onDragLeave(this.props.termLuid,e)},render:function(){var e={height:this.state.height+"px"};return s.default.createElement("div",{className:"TermRowDragPlaceholder",onDragEnter:this._onDragEnter,onDragLeave:this._onDragLeave,style:e})}});t.default=f,e.exports=t.default},1538:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(0),s=i(r),o=n(10),a=i(o),u=s.default.createClass({displayName:"TermRowsPreview",propTypes:{defLang:s.default.PropTypes.string,noRowsMessage:s.default.PropTypes.string,rows:s.default.PropTypes.array.isRequired,wordLang:s.default.PropTypes.string},mixins:[a.default],getDefaultProps:function(){return{rows:[],wordLang:"en",defLang:"en"}},render:function(){var e=this,t=null;if(this.props.rows.length)t=this.props.rows.map(function(t,n){var i=t.word,r=t.definition;return s.default.createElement("div",{className:"TermRowsPreview-row",key:"term-row-preview-"+n},s.default.createElement("p",{className:"lang-"+e.props.wordLang},i),s.default.createElement("p",{className:"lang-"+e.props.defLang},r))});else if(this.props.noRowsMessage)return s.default.createElement("p",null,this.props.noRowsMessage);return s.default.createElement("div",{className:"TermRowsPreview"},t)}});t.default=u,e.exports=t.default},1539:function(e,t,n){"use strict";(function(i){function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var s=n(8),o=r(s),a=n(0),u=r(a),l=n(10),c=r(l),d=n(5),p=r(d),h=n(31),f=r(h),m=n(522),g=r(m),_=n(7),v=r(_),S=n(292),y=r(S),E=n(224),C=r(E),T=75,w=u.default.createClass({displayName:"UploadedImage",propTypes:{image:u.default.PropTypes.object,placeholderImage:u.default.PropTypes.object},mixins:[f.default,g.default,c.default],getImageUrl:function(){return this.hasImage()?this.isRetinaDevice()?this.props.image.getSecurePath():this.props.image.getSquareSecurePath():null},getZoomedImageUrl:function(){return this.hasImage()?this.props.image.getSecurePath():null},getImageDimensions:function(){return{height:Math.min(T,this.props.image.height),width:Math.min(T,this.props.image.width)}},onClickToZoom:function(e){e.preventDefault(),e.stopPropagation(),this.refs.zoomableImage&&this.refs.zoomableImage.show()},renderPlaceHolder:function(){var e=this;if(!this.hasImagePlaceholder())return null;var t=function(){if(!e.hasRichImagePlaceholder())return null;var t=e.props.placeholderImage.dataUrl;return{backgroundImage:"url("+t+")",msFilter:"\"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+t+"',sizingMethod='scale')\""}}();return u.default.createElement("div",{className:"UploadedImage-imageWrap UploadedImage-backgroundImage",style:t},u.default.createElement("div",{className:"UploadedImage-spinner"},u.default.createElement(y.default,{lines:9,length:0,radius:13})))},renderImage:function(){var e=this;if(!this.hasImage())return null;var t=this.getImageDimensions(),n=function(){if(e.isRetinaDevice()){var n=t;return n.backgroundImage="url("+e.getImageUrl()+")",u.default.createElement(C.default,{ref:"zoomableImage",zoomPadding:20,zoomUrl:e.getZoomedImageUrl()},u.default.createElement("div",{className:"UploadedImage-image"},u.default.createElement("span",{className:"UploadedImage-backgroundImage",style:n})))}return u.default.createElement(C.default,(0,o.default)({},t,{className:"UploadedImage-image",ref:"zoomableImage",src:e.getImageUrl(),zoomPadding:20,zoomUrl:e.getZoomedImageUrl()}))}();return u.default.createElement("div",{className:"UploadedImage-imageWrap"},u.default.createElement("span",{className:"UploadedImage-imageSpacer"}),n,u.default.createElement("a",{onClick:this.onClickToZoom,className:"UploadedImage-overlay"},u.default.createElement("span",{className:"UploadedImage-overlayLabel"},u.default.createElement(v.default,{_precomputed:i("en-US","Click to zoom",{})}))))},render:function(){if(!this.hasImageOrPlacholder())return null;var e=this.renderPlaceHolder(),t=this.renderImage(),n=(0,p.default)({UploadedImage:!0,"is-plainPlaceholder":this.hasPlainImagePlaceholder(),"is-richPlaceholder":this.hasRichImagePlaceholder(),"is-processing":this.isUploadProcessing(),"is-uploading":this.isImageUploading()});return u.default.createElement("div",{className:n},t,e)}});t.default=w,e.exports=t.default}).call(t,n(6))},154:function(e,t,n){(function(t){var i,r,s,o,a={}.hasOwnProperty,u=function(e,t){function n(){this.constructor=e}for(var i in t)a.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};s=n(24),i=6,r=6e4,o={syncerFirstFailure:{},syncerHasError:{},syncerLastSynced:{},syncerNextRetry:{},syncerNumRetries:{},syncers:{},syncerStatus:{},setup:function(e){var t,n,i,r;this.syncers=e,i=this.syncers,r=[];for(t in i)n=i[t],r.push(function(e){return function(t){return n.on("sync:begin",function(){return e._begin(t)}),n.on("sync:end",function(){return e._end(t)}),n.on("sync:error",function(){return e._error(t)}),n.on("sync:recover",function(){return e._recover(t)}),n.on("sync:wait",function(n){return e._wait(t,n)})}}(this)(t));return r},isSyncing:function(e){var t,n;if(e)return!!this.syncerStatus[e];n=this.syncerStatus;for(e in n)if(t=n[e])return!0;return!1},getAllSyncing:function(){var e,t;return function(){var n,i;n=this.syncerStatus,i=[];for(t in n)e=n[t],e&&i.push(t);return i}.call(this)},hasError:function(){var e,t,n;n=this.syncerHasError;for(t in n)if(e=n[t])return!0;return!1},getLastSyncedTimestamp:function(){var e,t,n,i;n=0,i=this.syncerLastSynced;for(t in i)e=i[t],e>n&&(n=e);return 0===n?null:n},getNextRetryInSecs:function(){var e,t,n;n=this.syncerNextRetry;for(e in n)if(t=n[e],this.syncerHasError[e]&&null!=t)return t;return-1},_begin:function(e){return this.syncerStatus[e]=!0,this.syncerNumRetries[e]=0,this.change()},_end:function(e){return this.syncerHasError[e]||(this.syncerLastSynced[e]=(new Date).getTime()),this.syncerStatus[e]=!1,this.change()},_error:function(e){var n,s,o;return n=(new Date).getTime(),this.syncerNumRetries[e]+=1,s=this.syncerNumRetries[e],1===s&&(t.logPageAction("new_create_set_sync_initial_error",this._getErrorLogData(e)),this.syncerFirstFailure[e]=n),o=this.syncerFirstFailure[e]?n-this.syncerFirstFailure[e]>r:s>i,o&&(this.syncerHasError[e]=!0,s%5===1&&t.logPageAction("new_create_set_connection_error_modal",this._getErrorLogData(e))),this.change()},_recover:function(e){return t.logPageAction("new_create_set_sync_recover",this._getErrorLogData(e)),this.syncerHasError[e]=!1,this.syncerNumRetries[e]=0,this.syncerFirstFailure[e]=null,this.change()},_wait:function(e,t){return this.syncerNextRetry[e]=t,this.change()},_getErrorLogData:function(e){var t;return t={identifier:this.syncers[e].MODEL.MODEL_NAME+" syncer error",retry_count:this.syncerNumRetries[e]},this.syncerFirstFailure[e]&&(t.failure_duration=(new Date).getTime()-this.syncerFirstFailure[e]),t}},u(o,s),o.init(),e.exports=o}).call(t,n(2))},1540:function(e,t,n){"use strict";(function(i){function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var s=n(0),o=r(s),a=n(10),u=r(a),l=n(5),c=r(l),d=n(37),p=r(d),h=n(1190),f=r(h),m=n(34),g=r(m),_=n(7),v=r(_),S=n(273),y=r(S),E=o.default.createClass({displayName:"VoiceRecordingPermissionsModal",propTypes:{isOpen:o.default.PropTypes.bool.isRequired,onClose:o.default.PropTypes.func.isRequired,recorderState:o.default.PropTypes.object.isRequired},mixins:[f.default,u.default],componentDidMount:function(){this.props.isOpen&&this.onOpen()},componentWillUpdate:function(e){!this.props.isOpen&&e.isOpen&&this.onOpen(),this.props.isOpen&&!e.isOpen&&this.onClose()},onOpen:function(){var e=this;p.default.pushScope(this.displayName),(0,p.default)(y.default.modal.exit,this.displayName,function(){return e.props.onClose(),!1})},onClose:function(){p.default.popScope(this.displayName)},onClickOverlay:function(e){e.preventDefault(),this.props.onClose()},renderHtmlArrow:function(){return this.props.isOpen&&this.isUsingHtml5Plugin()?o.default.createElement("div",{className:"VoiceRecordingPermissionsModal-arrow"},o.default.createElement("span",{className:"VoiceRecordingPermissionsModal-arrowFirstLeg"}),o.default.createElement("span",{className:"VoiceRecordingPermissionsModal-arrowSecondLeg"}),o.default.createElement("span",{className:"VoiceRecordingPermissionsModal-arrowPointer"},o.default.createElement(g.default,{icon:"wedge-up"}))):null},renderFlashArrow:function(){return this.props.isOpen&&this.isUsingFlashPlugin()?o.default.createElement("span",{className:"VoiceRecordingPermissionsModal-flashArrow"},o.default.createElement(g.default,{icon:"wedge-right"})):null},renderOverlay:function(){return this.props.isOpen?o.default.createElement("div",{className:"VoiceRecordingPermissionsModal-overlay",onClick:this.onClickOverlay}):null},render:function(){var e=this.renderHtmlArrow(),t=this.renderFlashArrow(),n=this.renderOverlay(),r=(0,c.default)({VoiceRecordingPermissionsModal:!0,"is-open":this.props.isOpen}),s=(0,c.default)({"VoiceRecordingPermissionsModal-flashContainer":!0,"is-populated":this.isUsingFlashPlugin()});return o.default.createElement("div",{className:r},o.default.createElement("div",{className:"VoiceRecordingPermissionsModal-content"},o.default.createElement("p",null,o.default.createElement(v.default,{_precomputed:i("en-US","Please allow access to your computer’s microphone to use Voice Recording",{})})),o.default.createElement("div",{className:s},o.default.createElement("div",{id:"flashRecordingObject"}),t)),e,n)}});t.default=E,e.exports=t.default}).call(t,n(6))},1541:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(0),s=i(r),o=n(10),a=i(o),u=n(5),l=i(u),c=n(1152),d=i(c),p=n(55),h=i(p),f=s.default.createClass({displayName:"WordSide",propTypes:{lang:s.default.PropTypes.string,onBlur:s.default.PropTypes.func.isRequired,onChange:s.default.PropTypes.func.isRequired,onFocus:s.default.PropTypes.func.isRequired,placeholder:s.default.PropTypes.string,tabIndex:s.default.PropTypes.number.isRequired,termActive:s.default.PropTypes.bool.isRequired,viewOnly:s.default.PropTypes.bool.isRequired,word:s.default.PropTypes.string},mixins:[d.default,a.default],render:function(){var e=(0,l.default)({WordSide:!0,"is-active":this.props.termActive});return s.default.createElement("div",{className:e},s.default.createElement("div",{className:"WordSide-textarea"},s.default.createElement(h.default,{className:"CreateSetPage-autoExpandTextarea",dir:this.getTextDirection(),disabled:this.props.viewOnly,lang:this.getLanguage(),onBlur:this.onBlur,onChange:this.onChange,onClick:this.onTextareaClick,onFocus:this.onFocus,placeholder:this.props.placeholder,ref:"textarea",tabIndex:this.props.tabIndex,value:this.props.word})))},side:"word"});t.default=f,e.exports=t.default},1542:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(15),s=i(r);t.default=(0,s.default)("UserConstants",{actions:{UPDATE:null}}),e.exports=t.default},163:function(e,t,n){"use strict";e.exports=function(e){e.offsetHeight}},166:function(e,t,n){(function(t){var n,i,r;i={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},r=function(e){var t,n,r,s,o,a;r=e.style,o=[],"AnimationEvent"in window||delete i.animationend.animation,"TransitionEvent"in window||delete i.transitionend.transition;for(a in i){t=i[a];for(s in t)if(n=t[s],s in r){o.push(n);break}}return o}(t.document.createElement("div")),e.exports=n={on:function(e,n){var i,s,o,a;if(0===r.length)return t.window.setTimeout(n,0);for(a=[],s=0,o=r.length;s<o;s++)i=r[s],a.push(e.addEventListener(i,n,!1));return a},off:function(e,t){var n,i,s,o;if(0!==r.length){for(o=[],i=0,s=r.length;i<s;i++)n=r[i],o.push(e.removeEventListener(n,t,!1));return o}},once:function(e,t){var i;return i=function(){return n.off(e,i),t()},n.on(e,i)}}}).call(t,n(2))},1688:function(e,t,n){"use strict";(function(t,i){var r,s,o,a,u,l,c,d,p,h,f,m,g,_,v,S,y,E,C,T,w,P,R,b,L,A,I,D,x,U,M,O,N,k,F,B,q,V,W,H,j,G,z,K,Q,$,Z,Y,X,J={}.hasOwnProperty;Y=n(52),X=n(26),s=n(228),b=n(0),v=n(33),Z=n(5),L=n(64),z=n(31),$=n(504),P=n(333),R=n(285),o=n(1516),p=n(1520),j=n(1691),T=n(1529),E=n(1689),M=n(1533),a=n(1518),C=n(1528),D=n(1532),O=n(1534),m=n(1524),w=n(34),F=n(471),u=n(38),q=n(7),B=n(154),K=n(1101),N=n(1110),c=n(672),y=n(674),d=n(673),U=n(676),G=n(348),H=n(588),f=n(659),_=n(1100),Q=n(1102),A=n(179),V=n(332),k=n(613),W=n(1189),l=n(1147),S=n(1515),g=n(614),I=n(185),x=n(479),r=1,e.exports=h=b.createClass({displayName:"CreateSetPage",propTypes:{canEditPermissions:b.PropTypes.bool.isRequired,facebookLoginUrl:b.PropTypes.string,formattedPlusPrice:b.PropTypes.string.isRequired,formattedTeacherPrice:b.PropTypes.string.isRequired,googleLoginUrl:b.PropTypes.string,hasCreatedSets:b.PropTypes.bool.isRequired,hideAutosavePrompt:b.PropTypes.bool.isRequired,isConfirmed:b.PropTypes.bool.isRequired,isIOS:b.PropTypes.bool.isRequired,isMac:b.PropTypes.bool.isRequired,isResumingCreate:b.PropTypes.bool.isRequired,isSignedIn:b.PropTypes.bool.isRequired,isUnderAge:b.PropTypes.bool.isRequired,isUnder18:b.PropTypes.bool.isRequired,recentLanguages:b.PropTypes.arrayOf(b.PropTypes.string).isRequired,signupOrigin:b.PropTypes.string,supportsStickyHeader:b.PropTypes.bool.isRequired,voiceRecordingUpsellImage:b.PropTypes.string.isRequired},mixins:[L,z,$],fetchSyncerStore:function(){return{isImageUploading:B.isSyncing("ImageSyncer"),isSyncing:B.isSyncing(),lastSavedTimestamp:B.getLastSyncedTimestamp(),hasSyncingError:B.hasError(),nextRetryInSecs:B.getNextRetryInSecs()}},fetchSetStore:function(){return{set:N.get(),setLuid:N.getLuid(),detectLanguageResults:N.getDetectLanguageResults(),setValidationErrors:N.getValidationErrors(),setProfanityErrors:N.getProfanityErrors(),isDiscardDisabled:N.isDiscardDisabled(),isPublishDisabled:N.isPublishDisabled(),isRedirecting:N.isRedirecting(),shouldHideTerms:N.shouldHideTerms(),isTitleFocused:N.isTitleFocused(),openLangSelectSide:N.getOpenLangSelectSide()}},fetchClassSetStore:function(){return{classSets:c.getAll(),classSetSetMap:c.getSetMap(),classSetClassMap:c.getClassMap()}},fetchSetPermissionStore:function(){return{permissions:U.getPermissions(),selectedClassLuids:U.getSelectedClassLuids(),selectedEditableByClassLuids:U.getSelectedEditableByClassLuids()}},fetchErrorAlertStore:function(){return{activeError:_.getActiveError()}},fetchClassStore:function(){return{classes:d.getAll()}},fetchUserStore:function(){return{user:Q.getUser()}},fetchUpgradeStore:function(){return{isImageUpsellModalOpen:K.getIsImageUpsellModalOpen()}},getInitialState:function(){var e;return e={shouldShowImport:!1,isSetPermissionsOpen:!1,isKeyboardShortcutsOpen:!1,isSetDescriptionOpen:!1,hasFocusedInput:!1},Y(e,this.fetchSetStore(),this.fetchClassSetStore(),this.fetchClassStore(),this.fetchSyncerStore(),this.fetchSetPermissionStore(),this.fetchErrorAlertStore(),this.fetchUpgradeStore(),this.fetchUserStore())},componentWillMount:function(){return B.addChangeListener(this._onSyncerChange),N.addChangeListener(this._onSetChange),U.addChangeListener(this._onSetPermissionsChange),_.addChangeListener(this._onErrorAlert),K.addChangeListener(this._onUpgradeChange),Q.addChangeListener(this._onUserChange)},componentDidMount:function(){return this.beforeUnloadListener=v.listen(t.window,"beforeunload",this.onBeforeUnload),this.props.isIOS&&(this.focusInputListener=v.capture(t.document,"focus",this._onFocus),this.blurInputListener=v.capture(t.document,"blur",this._onBlur)),this.autoScrollDirection=null},componentWillUnmount:function(){var e,t,n;return B.removeChangeListener(this._onSyncerChange),N.removeChangeListener(this._onSetChange),U.removeChangeListener(this._onSetPermissionsChange),null!=(e=this.beforeUnloadListener)&&e.remove(),null!=(t=this.focusInputListener)&&t.remove(),null!=(n=this.blurInputListener)?n.remove():void 0},componentDidUpdate:function(e,t){return timeoutSet(0,function(e){return function(){if(!t.set.id&&e.state.set.id)return e.addSetToClass(e.state.set.id),e.addSetToFolder(e.state.set.id)}}(this))},onBeforeUnload:function(e){var n,r,s;if(!this.state.isDiscardDisabled&&!this.state.activeError&&!this.state.isPublishDisabled){if(s=G.getUnsavedTermUpdates(),n=X(s)>0,n&&V.bulkUpdate({setLuid:this.state.setLuid,luidToProps:s,wordLang:this.state.set.wordLang,defLang:this.state.set.defLang,persist:!0,syncDelayOverride:!0}),B.isSyncing())r=i("en-US","You have unsaved changes!"),t.logPageAction("new_create_set_exit_while_syncing",{syncing:B.getAllSyncing()});else if(n)r=i("en-US","You have unsaved terms!"),t.logPageAction("new_create_set_exit_with_unsaved_terms");else{if(!this.state.shouldShowImport)return;r=i("en-US","You are about to leave this page.")}return(e||window.event).returnValue=r,r}},_onSyncerChange:function(){return this.setState(this.fetchSyncerStore())},_onSetChange:function(){return this.setState(this.fetchSetStore())},_onSetPermissionsChange:function(){return this.setState(this.fetchSetPermissionStore())},_onUpgradeChange:function(){return this.setState(this.fetchUpgradeStore())},_onUserChange:function(){return this.setState(this.fetchUserStore())},_onErrorAlert:function(){return this.setState(this.fetchErrorAlertStore())},_onFocus:function(e){if("INPUT"===e.target.tagName||"TEXTAREA"===e.target.tagName)return this.setState({hasFocusedInput:!0})},_onBlur:function(e){return this.setState({hasFocusedInput:!1})},isPublishDisabled:function(){return this.state.isPublishDisabled||this.state.isImageUploading},isSyncingOrRedirecting:function(){return this.state.isSyncing||this.state.isRedirecting},hasMinTermsError:function(){return"min_terms"in this.state.setValidationErrors},hasWordLangError:function(){return"requires_word_lang"in this.state.setValidationErrors&&!this.state.set.wordLang},hasDefLangError:function(){return"requires_def_lang"in this.state.setValidationErrors&&!this.state.set.defLang},onFlipColumn:function(){var e,t,n,i,r,s,o,a,u,l,c,d,p,h,m,g,_,v;u=G.getAll(),l={};for(r in u)J.call(u,r)&&(s=u[r],s.word!==s.definition&&(l[r]={definition:s.word||"",word:s.definition||""}));V.flipColumns(this.state.setLuid,l),o=H.getAll(),a=H.getCustomAudioMap(),e=f.getAll(),l={};for(r in o)J.call(o,r)&&(h=o[r],i=h.definitionCustomAudioId,d=h.wordCustomAudioId,(d||i)&&(m=a[r],c=m.word,n=m.definition,l[r]={wordCustomAudioId:i||null,definitionCustomAudioId:d||null,wordCustomAudioCode:null!=(g=e[n])?g.code:void 0,definitionCustomAudioCode:null!=(_=e[c])?_.code:void 0}));if(W.flipColumns(this.state.setLuid,l),v=this.state.set,p=v.wordLang,t=v.defLang,
(p||t)&&"photo"!==t)return A.update(this.state.setLuid,{wordLang:t,defLang:p})},onOpenPermissions:function(e){return t.logPageAction("new_create_set_open_permissions"),this.setState({isSetPermissionsOpen:!0},function(t){return function(){var n,i;if(t.props.canEditPermissions)switch(e){case x.sides.VIEWING:return null!=(n=t.refs.setPermissions)?n.focusViewing():void 0;case x.sides.EDITING:return null!=(i=t.refs.setPermissions)?i.focusEditing():void 0}}}(this))},onClosePermissions:function(){return this.setState({isSetPermissionsOpen:!1},function(e){return function(){var t;if(e.props.canEditPermissions)return null!=(t=e.refs.setPermissions)?t.blur():void 0}}(this))},onOpenKeyboardShortcuts:function(e){if(e.preventDefault(),t.logPageAction("new_create_set_open_keyboard_shortcuts_modal"),!this.state.isKeyboardShortcutsOpen)return this.setState({isKeyboardShortcutsOpen:!0})},onCloseKeyboardShortcuts:function(){if(this.state.isKeyboardShortcutsOpen)return this.setState({isKeyboardShortcutsOpen:!1})},onOpenSetDescription:function(){if(t.logPageAction("new_create_set_open_set_description_modal"),!this.state.isSetDescriptionOpen)return this.setState({isSetDescriptionOpen:!0})},onCloseSetDescription:function(){if(this.state.isSetDescriptionOpen)return this.setState({isSetDescriptionOpen:!1})},onPublish:function(){var e,t;return e={},G.isImagesOnly()&&(e.defLang="photo"),t=G.getUnsavedTermUpdates(),k.bulkUpdateAndPublish(this.state.setLuid,e,t)},onImport:function(e,n){var i,r,s,o,a,u,l,c,d,p,h,f,m,g,_,v,S,y,E;if(t.logPageAction("new_create_set_import_terms"),S=G.getImportInfo(),h=S.startIndex,p=S.luidsToReplace,d={},s=0,p.length>0)for(y=n.slice(0,Math.min(n.length,p.length)),r=m=0,_=y.length;m<_;r=++m)o=y[r],c=p[r],f=e[o],f.rank=h+s,d[c]=f,s+=1;if(i=[],s<n.length)for(E=n.slice(s,n.length),a=g=0,v=E.length;g<v;a=++g)c=E[a],f=e[c],f.rank=h+s,i.push(f),s+=1;V.import({setLuid:this.state.setLuid,luidToPropsToReplace:d,arrayOfPropsToAdd:i,wordLang:this.state.set.wordLang,defLang:this.state.set.defLang}),l=null,u=null;for(f in e){if(l&&u)break;!l&&f.word&&(l=f.word),!u&&f.definition&&(u=f.definition)}return l&&!this.state.set.wordLang&&A.detectLanguage(this.state.setLuid,"word",l),u&&!this.state.set.defLang&&A.detectLanguage(this.state.setLuid,"definition",u),this.scrollToBottom(),this.onCloseImport()},toggleImport:function(e){return null==e&&(e=!this.state.shouldShowImport),e&&t.logPageAction("new_create_set_open_import_modal"),e||A.showTerms(),this.setState({shouldShowImport:e})},onCloseImport:function(){return this.toggleImport(!1)},onOpenImport:function(e){return e.preventDefault(),this.toggleImport(!0)},cancelEvent:function(e){return e.preventDefault()},onOpenFeedback:function(e){return e.preventDefault(),t.FeedbackForm.showForm()},autoScrollUp:function(){return this.continuousScroll(r*-1),this.autoScrollDirection=I.directions.UP},autoScrollDown:function(){return this.continuousScroll(r),this.autoScrollDirection=I.directions.DOWN},stopAutoScroll:function(){if(this.autoScrollDirection)return this.stopScroll(),this.autoScrollDirection=null},scrollIfNearEdges:function(e){var t,n,i,r;return t=this.getViewportHeight(),r=e.clientY,i=t/6,n=t-t/6,r<i&&this.autoScrollDirection!==I.directions.UP?this.autoScrollUp():r>n&&this.autoScrollDirection!==I.directions.DOWN?this.autoScrollDown():this.stopAutoScroll()},onDrop:function(e){return e.preventDefault(),this.stopAutoScroll()},onDragOverHeader:function(e){if(this.autoScrollDirection!==I.directions.UP)return this.autoScrollUp()},getPublishButtonText:function(){switch(!0){case this.isPublishDisabled()||this.isSyncingOrRedirecting()&&this.isTouchDevice():return i("en-US","Saving…");case this.state.set.isPublished():return i("en-US","Done");default:return i("en-US","Create")}},onPublishButtonClick:function(e){return e.preventDefault(),t.logPageAction("new_create_set_click_bottom_publish_button"),this.onPublish()},addSetToClass:function(e){var t;return t=c.getUnsyncedClassSets(e),l.bulkUpdate(t)},addSetToFolder:function(e){var t;return t=y.getUnsyncedFolderSets(e),S.bulkUpdate(t)},renderPublishButton:function(){return b.createElement("button",{className:"CreateSetPage-publishButton large green button",onClick:this.onPublishButtonClick,disabled:this.isPublishDisabled()},this.getPublishButtonText())},renderTypingHelpLink:function(e){var t,n,r;return r=this.state.set,n=r.wordLang,t=r.defLang,("word"!==e||n&&s.containsHardLanguage([n]))&&("definition"!==e||t&&s.containsHardLanguage([t]))?"definition"===e&&s.containsHardLanguage([n])?null:b.createElement("a",{className:"CreateSetPage-typingHelp",href:"/help/2444169/how-do-i-change-my-computers-input-language",target:"_blank"},b.createElement(q,{_precomputed:i("en-US","Need typing help?",{})})):null},renderLangError:function(){var e,t;return this.hasWordLangError()||this.hasDefLangError()?(t=this.hasWordLangError()?i("en-US","Please choose a term language."):null,e=this.hasDefLangError()?i("en-US","Please choose a definition language."):null,b.createElement("div",{className:"CreateSetPage-errorPrompt CreateSetPage-errorPrompt--chooseLanguages"},b.createElement("div",{className:"container"},b.createElement("div",{className:"CreateSetPage-errorPromptContainer CreateSetPage-wordDefColumns"},b.createElement("p",{className:"CreateSetPage-wordColumn"},t),b.createElement("p",{className:"CreateSetPage-defColumn"},e))))):null},renderMinTermsError:function(){return this.hasMinTermsError()?b.createElement("div",{className:"CreateSetPage-errorPrompt CreateSetPage-errorPrompt--minTerms"},b.createElement("div",{className:"container"},b.createElement("div",{className:"CreateSetPage-errorPromptContainer"},b.createElement("p",{className:"CreateSetPage-errorPromptFullText"},b.createElement(q,{_precomputed:i("en-US","You need two terms to create a set.",{})}))))):null},renderSignupPromptModal:function(){return this.props.isSignedIn?null:b.createElement(F,{facebookLoginUrl:this.props.facebookLoginUrl,googleLoginUrl:this.props.googleLoginUrl,headline:i("en-US","Sign up for free to create study sets"),includeBackLink:!0,includeCloseButton:!1,isOpen:!0,redir:"/create-set",signupOrigin:this.props.signupOrigin})},renderAutoSavePrompt:function(){if(!this.props.hideAutosavePrompt)return this.props.isResumingCreate?b.createElement(a,{setLuid:this.state.setLuid,isDiscardDisabled:this.state.isDiscardDisabled}):null},renderSetPermissionsError:function(){var e;return this.props.canEditPermissions?null:(e=this.props.isUnderAge&&!this.props.isConfirmed?g.permissions.UNDER_13:g.permissions.NOT_CREATOR,b.createElement(O,{isOpen:this.state.isSetPermissionsOpen,onClose:this.onClosePermissions,type:e}))},renderSetPermissions:function(){return this.props.canEditPermissions?b.createElement(M,{classes:this.state.classes,classSetClassMap:this.state.classSetClassMap,classSets:this.state.classSets,classSetSetMap:this.state.classSetSetMap,isOpen:this.state.isSetPermissionsOpen,onClose:this.onClosePermissions,permissions:this.state.permissions,ref:"setPermissions",selectedClassLuids:this.state.selectedClassLuids,selectedEditableByClassLuids:this.state.selectedEditableByClassLuids,set:this.state.set,setLuid:this.state.setLuid}):null},render:function(){var e,t,n,r,s,a,l,c,d,h,f,g,_,v,S,y,w,P,R,L,A,I,x;return A=this.state,w=A.setLuid,y=A.set,s=A.classes,r=A.classSets,t=A.classSetClassMap,n=A.classSetSetMap,l=A.detectLanguageResults,g=A.permissions,v=A.selectedClassLuids,S=A.selectedEditableByClassLuids,e=this.renderAutoSavePrompt(),P=this.props.canEditPermissions?this.renderSetPermissions():this.renderSetPermissionsError(),a=this.renderTypingHelpLink("definition"),L=this.renderTypingHelpLink("word"),h=this.renderLangError(),f=this.renderMinTermsError(),_=this.renderPublishButton(),d=(null!=(I=this.state.user)?I.isUpgraded():void 0)||!1,c=(null!=(x=this.state.user)?x.isSelfIdentifiedTeacher():void 0)||!1,R=!this.props.isSignedIn,s=Z({CreateSetPage:!0,"has-focusedInput":this.state.hasFocusedInput,"has-syncingError":this.state.hasSyncingError}),b.createElement("div",{className:s,onDragOver:this.cancelEvent,onDrop:this.onDrop},b.createElement(p,{hasFocusedInput:this.state.hasFocusedInput,hasSyncingError:this.state.hasSyncingError,isPublishDisabled:this.isPublishDisabled(),isPublished:this.state.set.isPublished(),isResumingCreate:this.props.isResumingCreate,isSyncing:this.isSyncingOrRedirecting(),isTitleFocused:this.state.isTitleFocused,lastSavedTimestamp:this.state.lastSavedTimestamp,nextRetryInSecs:this.state.nextRetryInSecs,onDragOver:this.onDragOverHeader,onOpenPermissions:this.onOpenPermissions,onOpenSetDescription:this.onOpenSetDescription,onPublish:this.onPublish,permissions:g,publishButtonText:this.getPublishButtonText(),set:y,setLuid:w,setProfanityErrors:this.state.setProfanityErrors,setValidationErrors:this.state.setValidationErrors,supportsStickyHeader:this.props.supportsStickyHeader,viewOnly:R}),e,b.createElement("div",{className:"CreateSetPage-subheader"},b.createElement("div",{className:"container"},b.createElement("a",{className:"CreateSetPage-importLink button",href:"#",onClick:this.onOpenImport},b.createElement(q,{_precomputed:i("en-US","Import",{})})),b.createElement("div",{className:"CreateSetPage-wordDefColumns"},b.createElement("div",{className:"CreateSetPage-wordColumn"},b.createElement("h2",{className:"CreateSetPage-h2"},b.createElement(q,{_precomputed:i("en-US","Terms",{})})),L),b.createElement("div",{className:"CreateSetPage-defColumn"},b.createElement("h2",{className:"CreateSetPage-h2"},b.createElement(q,{_precomputed:i("en-US","Definitions",{})})),a)),b.createElement("div",{className:"CreateSetPage-subheaderSeparator"}))),b.createElement(u,{transitionName:"CreateSetPage-animateErrorPrompt"},h),b.createElement("div",{className:"CreateSetPage-languageBar"},b.createElement("div",{className:"container"},b.createElement(T,{defLang:y.defLang,hasCreatedSets:this.props.hasCreatedSets,hasDefLangError:this.hasDefLangError(),hasWordLangError:this.hasWordLangError(),onFlipColumns:this.onFlipColumn,onOpenKeyboardShortcuts:this.onOpenKeyboardShortcuts,recentLanguages:this.props.recentLanguages,setLuid:w,viewOnly:R,wordLang:y.wordLang}))),b.createElement(u,{transitionName:"CreateSetPage-animateErrorPrompt"},f),b.createElement("div",{className:"container CreateSetPage-container"},b.createElement("div",{className:"CreateSetPage-list"},b.createElement(j,{defLang:y.defLang,detectLanguageResults:l,formattedPlusPrice:this.props.formattedPlusPrice,formattedTeacherPrice:this.props.formattedTeacherPrice,hasCreatedSets:this.props.hasCreatedSets,hasMinTermsError:this.hasMinTermsError(),hasSyncingError:this.state.hasSyncingError,isHidden:this.state.shouldHideTerms,isIOS:this.props.isIOS,isMac:this.props.isMac,isTeacher:c,isUnder18:this.props.isUnder18,isUpgraded:d,onDragEnd:this.stopAutoScroll,onDragEnterOrOver:this.scrollIfNearEdges,openLangSelectSide:this.state.openLangSelectSide,recentLanguages:this.props.recentLanguages,setLuid:w,viewOnly:R,voiceRecordingUpsellImage:this.props.voiceRecordingUpsellImage,wordLang:y.wordLang}),_,b.createElement("div",{className:"CreateSetPage-blockerOverlay"}))),b.createElement(E,{defLang:y.defLang,onCancel:this.onCloseImport,onImport:this.onImport,shouldShow:this.state.shouldShowImport,wordLang:y.wordLang}),b.createElement(m,{activeError:this.state.activeError}),b.createElement(C,{isMac:this.props.isMac,isOpen:this.state.isKeyboardShortcutsOpen,onClose:this.onCloseKeyboardShortcuts}),b.createElement(D,{defLang:this.state.set.defLang,description:this.state.set.description,hasProfanityError:!!this.state.setProfanityErrors.description,isOpen:this.state.isSetDescriptionOpen,onClose:this.onCloseSetDescription,setLuid:this.state.setLuid,wordLang:this.state.set.wordLang}),b.createElement(o,{isOpen:this.state.isImageUpsellModalOpen}),P,this.renderSignupPromptModal())}})}).call(t,n(2),n(6))},1689:function(e,t,n){"use strict";(function(t){var i,r,s,o,a,u,l,c,d,p,h,f,m,g,_,v,S,y,E,C,T,w,P,R,b={}.hasOwnProperty;T=n(216),w=n(15),P=n(26),R=n(362),c=n(0),d=n(12),u=n(10),E=n(5),l=n(1059),v=n(1538),_=n(7),g=n(292),y=n(473),i=n(38),p=n(81),f=n(179),S=n(348),m=n(185),C=n(37),a=n(273),s=w("Delimiter",{TAB:null,COMMA:null,NEWLINE:null,SEMICOLON:null,CUSTOM:null}),r=500,h="IMPORT",e.exports=o=c.createClass({displayName:"ImportTerms",propTypes:{defLang:c.PropTypes.string,onCancel:c.PropTypes.func.isRequired,onImport:c.PropTypes.func.isRequired,shouldShow:c.PropTypes.bool.isRequired,wordLang:c.PropTypes.string},mixins:[u],getDefaultProps:function(){return{shouldShow:!0}},componentWillReceiveProps:function(e){return e.shouldShow&&this.setState({isLoading:!1,isImporting:!1}),!this.props.shouldShow&&e.shouldShow?this.onOpen():this.props.shouldShow&&!e.shouldShow?this.onClose():void 0},componentDidUpdate:function(e,t){if(!e.shouldShow&&this.props.shouldShow)return this.didOpen()},getInitialState:function(){return{convertedTerms:{},convertedTermsOrder:[],customTermDelimiter:"",customWordDelimiter:"",isHidden:!this.props.shouldShow,isImporting:!1,isLoading:!1,maxPreviewRows:m.limits.MAX_TERMS,termDelimiter:s.NEWLINE,textareaContent:"",tooManyTerms:!1,wordDelimiter:s.TAB}},onOpen:function(){return C.pushScope(h),C(a.modal.exit,h,function(e){return function(){if(!e.state.isImporting)return e._onCancel(),!1}}(this)),this.setState({maxPreviewRows:S.getNumFreeTerms(),isHidden:!1}),p.addEndEventListener(d.findDOMNode(this),this.onTransitionInEnd)},onTransitionInEnd:function(){return p.removeEndEventListener(d.findDOMNode(this),this.onTransitionInEnd),f.hideTerms()},onClose:function(){return C.popScope(h),C.unbind(a.modal.exit,h),p.addEndEventListener(d.findDOMNode(this),this.onTransitionOutEnd)},onTransitionOutEnd:function(){return p.removeEndEventListener(d.findDOMNode(this),this.onTransitionOutEnd),this.setState({isHidden:!this.props.shouldShow})},didOpen:function(){return this.focus()},focus:function(){var e;return null!=(e=this.refs.textarea)?e.focus():void 0},_cleanData:function(e){return e.replace(/[ ]{4}/g,"\t").replace(/\r\n/g,"\n"),trim(e)},_parseData:function(e,t,n){var i,r,s,o,a,u,l;if(r=this._cleanData(e),""===r)return{};for(o=r.split(t),a=[],u=0,l=o.length;u<l;u++)s=o[u],i=s.split(n),2===i.length?a.push(i[0],i[1]):1===i.length?(a.push(i[0]),t!==n&&a.push("")):i.length>2&&a.push(i.shift(),i.join(n));return a},convertDataToTerms:function(e,t){var n,i,r,s,o,a,u,l,c,d,p;if(null==t&&(t=null),!e)return[{},[],!1];for(o=this._parseData(e,this.getTermDelimiter(),this.getWordDelimiter()),l=!1,a={},u=[],i=d=0,p=o.length;d<p;i=d+=2){if(s=o[i],t>=0&&u.length>=t){l=!0;break}r=this.getLuid(i/2),c=R(o[i],this.props.wordLang,this.props.defLang),n=R(o[i+1],this.props.defLang,this.props.wordLang),(c||n)&&(a[r]={word:c,definition:n},u.push(r))}return[a,u,l]},getLuid:function(e){return"preview-row-"+e},reset:function(e){return this.setState({convertedTerms:{},convertedTermsOrder:[],textareaContent:"",tooManyTerms:!1,isLoading:!1,isImporting:!1},function(t){return function(){return"function"==typeof e?e():void 0}}(this))},onChange:function(e){var t;return t=e.target.value,this._onChange(t)},_onChange:function(e,t){var n;return n=null!=t?this.refs.textarea.setCaretPosition.bind(this.refs.textarea,t):null,this.setState({textareaContent:e},n),this.previewData(e)},_previewData:function(e){var t,n,i,r;return r=this.convertDataToTerms(e,this.state.maxPreviewRows),t=r[0],n=r[1],i=r[2],this.setState({tooManyTerms:i,convertedTerms:t,convertedTermsOrder:n},function(e){return function(){return e.setState({isLoading:!1})}}(this))},_previewDataDebounced:null,previewData:function(e){return null==e&&(e=this.state.textareaContent),this._previewDataDebounced||(this._previewDataDebounced=T(this._previewData,r)),this.setState({isLoading:!0}),this.state.convertedTermsOrder.length?this._previewDataDebounced(e):timeoutSet(0,function(t){return function(){return t._previewData(e)}}(this))},onKeyDown:function(e){var t,n,i,r;switch(e.key){case"Tab":if(i=this.refs.textarea.getSelectionStart(),t=this.refs.textarea.getSelectionEnd(),t!==-1)return e.preventDefault(),r=this.state.textareaContent,n=r.slice(0,i)+"\t"+r.slice(t),this._onChange(n,i+1);break;case"Enter":if(e.metaKey)return this.onImportClick(e)}},changeTermDelimiter:function(e){var t;return t=e,this.setState({termDelimiter:t},function(e){return function(){if(t!==s.CUSTOM||""!==e.state.customTermDelimiter)return e.previewData()}}(this))},changeWordDelimiter:function(e){var t;return t=e,this.setState({wordDelimiter:t},function(e){return function(){if(t!==s.CUSTOM||""!==e.state.customWordDelimiter)return e.previewData()}}(this))},changeCustomTermDelimiter:function(e){var t,n,i;return t=e.target.value,n=this.state.customTermDelimiter,i=this.state.termDelimiter,this.setState({termDelimiter:s.CUSTOM,customTermDelimiter:t},function(e){return function(){if(i!==s.CUSTOM||t!==n)return e.previewData()}}(this))},changeCustomWordDelimiter:function(e){var t,n,i;return t=e.target.value,n=this.state.customWordDelimiter,i=this.state.wordDelimiter,this.setState({wordDelimiter:s.CUSTOM,customWordDelimiter:t},function(e){return function(){if(i!==s.CUSTOM||t!==n)return e.previewData()}}(this))},parseDelimiter:function(e){return e.replace(/\\n/g,"\n").replace(/\\t/g,"\t")},getTermDelimiter:function(){switch(this.state.termDelimiter){case s.NEWLINE:return"\n";case s.SEMICOLON:return";";case s.CUSTOM:return this.parseDelimiter(this.state.customTermDelimiter||"\n")}},getWordDelimiter:function(){switch(this.state.wordDelimiter){case s.TAB:return"\t";case s.COMMA:return",";case s.CUSTOM:return this.parseDelimiter(this.state.customWordDelimiter||"\t")}},_onCancel:function(){return this.reset(function(e){return function(){var t;return"function"==typeof(t=e.props).onCancel?t.onCancel():void 0}}(this))},onCancel:function(e){return e.preventDefault(),this._onCancel()},onImportClick:function(e){var t,n,i;return e.preventDefault(),i=this.state,t=i.convertedTerms,n=i.convertedTermsOrder,this.setState({isImporting:!0}),timeoutSet(300,function(e){return function(){return e.props.onImport(t,n),e.reset()}}(this))},getPlaceholderText:function(){var e,n,i;return n=[[t("en-US","Word 1"),t("en-US","Definition 1")],[t("en-US","Word 2"),t("en-US","Definition 2")],[t("en-US","Word 3"),t("en-US","Definition 3")]],i=this.getWordDelimiter(),e=this.getTermDelimiter(),n.map(function(e){return e.join(i)}).join(e)},render:function(){var e,n,r,o,a,u,d,p,h,f,S,C=this;return p=function(){var e,t,i;e=this.state.convertedTerms,i=[];for(a in e)b.call(e,a)&&(t=e[a],S=t.word,n=t.definition,i.push({word:S,definition:n}));return i}.call(this),o=this.state.isLoading?c.createElement("div",{className:"ImportTerms-loadingOverlay",key:"loading"},c.createElement("div",{className:"ImportTerms-loadingSpinner"},c.createElement(g,{lines:7,length:0,radius:10}))):null,r=this.state.isImporting?c.createElement("div",{className:"ImportTerms-importOverlay",key:"import"},c.createElement("div",{className:"ImportTerms-importSpinner"},c.createElement(g,{color:"#fff"}))):null,u=this.state.tooManyTerms?c.createElement("div",{className:"ImportTerms-maxRowsWarning"},c.createElement("h3",null,c.createElement(_,{_precomputed:t("en-US","Sorry, you're over the {numTermsLimit}-term limit for this set.",{numTermsLimit:m.limits.MAX_TERMS})})),c.createElement("p",null,c.createElement(_,{_precomputed:t("en-US","Only the {numTerms, plural, one {1 term} other {# terms}} displayed below can be imported.",{numTerms:this.state.maxPreviewRows})}))):null,f=P(this.state.convertedTerms),h=c.createElement("h3",{className:"ImportTerms-heading"},c.createElement(_,{_precomputed:t("en-US","Preview",{})})),d=0===f?h:c.createElement("h3",{className:"ImportTerms-heading"},c.createElement(_,{_precomputed:t("en-US","Preview",{})}),c.createElement("span",{className:"ImportTerms-numTerms"},c.createElement("span",{className:"ImportTerms-numTermsDot"},"·"),c.createElement(_,{_precomputed:t("en-US","{numTerms, plural, one {1 term} other {# terms}}",{numTerms:f})}))),e=E({ImportTerms:!0,"is-showing":this.props.shouldShow,"is-hidden":this.state.isHidden,"is-loading":this.state.isLoading}),c.createElement("div",{className:e},c.createElement("div",{className:"ImportTerms-import"},c.createElement("div",{className:"container"},c.createElement("h3",{className:"ImportTerms-heading"},c.createElement(_,{_precomputed:t("en-US","Import your data",{})})),c.createElement("a",{className:"ImportTerms-cancelButton",onClick:this.onCancel},c.createElement(_,{_precomputed:t("en-US","Close",{})})),c.createElement("p",{className:"ImportTerms-instructions"},c.createElement(_,{_precomputed:t("en-US","Copy and Paste your data here (from Word, Excel, Google Docs, etc.)",{})})),c.createElement("form",{className:"ImportTerms-form"},c.createElement(y,{ref:"textarea",className:"ImportTerms-textarea text",onChange:this.onChange,onKeyDown:this.onKeyDown,placeholder:this.getPlaceholderText(),value:this.state.textareaContent}),c.createElement("div",{className:"ImportTerms-importButtonWrap"},c.createElement("button",{className:"ImportTerms-importButton button",onClick:this.onImportClick,disabled:0==p.length||this.state.isLoading||this.state.isImporting},c.createElement(_,{_precomputed:t("en-US","Import Terms",{})}))),c.createElement("div",{className:"ImportTerms-formGroupWrap"},c.createElement("div",{className:"ImportTerms-formGroup"},c.createElement("label",{className:"ImportTerms-formLabel",htmlFor:"term-delimiter"},c.createElement(_,{_precomputed:t("en-US","Between term and definition",{})})),c.createElement(l,{name:"word-delimiter",selectedValue:this.state.wordDelimiter,onChange:this.changeWordDelimiter},function(e){return c.createElement("div",null,c.createElement("label",{className:"ImportTerms-formGroupOption"},c.createElement(e,{className:"ImportTerms-formRadio",type:"radio",value:s.TAB}),c.createElement("span",{className:"ImportTerms-formRadioLabel"},c.createElement(_,{_precomputed:t("en-US","Tab",{})}))),c.createElement("label",{className:"ImportTerms-formGroupOption"},c.createElement(e,{className:"ImportTerms-formRadio",type:"radio",value:s.COMMA}),c.createElement("span",{className:"ImportTerms-formRadioLabel"},c.createElement(_,{_precomputed:t("en-US","Comma",{})}))),c.createElement("div",{className:"ImportTerms-customDelimiterOption"},c.createElement("label",{className:"ImportTerms-formGroupOption"},c.createElement(e,{className:"ImportTerms-formRadio",type:"radio",value:s.CUSTOM}),c.createElement("span",{className:"ImportTerms-formRadioLabel"},c.createElement(_,{_precomputed:t("en-US","Custom",{})}))),c.createElement("span",{className:"ImportTerms-formCustomDelimiter"},c.createElement("input",{className:"text",type:"text",value:C.state.customWordDelimiter,onChange:C.changeCustomWordDelimiter,onFocus:C.changeCustomWordDelimiter}))))})),c.createElement("div",{className:"ImportTerms-formGroup"},c.createElement("label",{className:"ImportTerms-formLabel",htmlFor:"word-delimiter"},c.createElement(_,{_precomputed:t("en-US","Between rows",{})})),c.createElement(l,{name:"term-delimiter",selectedValue:this.state.termDelimiter,onChange:this.changeTermDelimiter},function(e){return c.createElement("div",null,c.createElement("label",{className:"ImportTerms-formGroupOption"},c.createElement(e,{className:"ImportTerms-formRadio",type:"radio",value:s.NEWLINE}),c.createElement("span",{className:"ImportTerms-formRadioLabel"},c.createElement(_,{_precomputed:t("en-US","New line",{})}))),c.createElement("label",{className:"ImportTerms-formGroupOption"},c.createElement(e,{className:"ImportTerms-formRadio",type:"radio",value:s.SEMICOLON}),c.createElement("span",{className:"ImportTerms-formRadioLabel"},c.createElement(_,{_precomputed:t("en-US","Semicolon",{})}))),c.createElement("div",{className:"ImportTerms-customDelimiterOption"},c.createElement("label",{className:"ImportTerms-formGroupOption"},c.createElement(e,{className:"ImportTerms-formRadio",type:"radio",value:s.CUSTOM}),c.createElement("span",{className:"ImportTerms-formRadioLabel"},c.createElement(_,{_precomputed:t("en-US","Custom",{})}))),c.createElement("span",{className:"ImportTerms-formCustomDelimiter"},c.createElement("input",{className:"text",type:"text",value:C.state.customTermDelimiter,onChange:C.changeCustomTermDelimiter,onFocus:C.changeCustomTermDelimiter}))))})))))),c.createElement(i,{transitionName:"ImportTerms-spinner--animate",component:"div"},o,r),c.createElement("div",{className:"ImportTerms-preview"},c.createElement("div",{className:"container"},d,c.createElement(i,{transitionName:"ImportTerms-maxRowsWarning--animate",component:"div"},u),c.createElement("div",{className:"ImportTerms-previewRows"},c.createElement(v,{rows:p,wordLang:this.props.wordLang,defLang:this.props.defLang,noRowsMessage:this.state.isLoading?t("en-US","Loading preview…"):t("en-US","Nothing to preview yet.")})))))}})}).call(t,n(6))},169:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(0),s=i(r),o=n(12),a=i(o),u=n(81),l=i(u),c=n(5),d=i(c),p=n(64),h=i(p),f=n(10),m=i(f),g=n(34),_=i(g),v=n(37),S=i(v),y="esc",E=s.default.createClass({displayName:"QModal",propTypes:{children:s.default.PropTypes.node,includeCloseButton:s.default.PropTypes.bool,includeOverlay:s.default.PropTypes.bool,isOpen:s.default.PropTypes.bool.isRequired,isWide:s.default.PropTypes.bool,name:s.default.PropTypes.string.isRequired,onClose:s.default.PropTypes.func,styleVariant:s.default.PropTypes.string,wrapperClass:s.default.PropTypes.string},mixins:[m.default,h.default],getInitialState:function(){return{hide:!this.props.isOpen,styles:{}}},getDefaultProps:function(){return{includeCloseButton:!0,includeOverlay:!0,isWide:!1,onClose:function(){},wrapperClass:""}},componentDidMount:function(){this.props.isOpen&&this.onOpen()},componentWillReceiveProps:function(e){!this.props.isOpen&&e.isOpen?this.onOpen():this.props.isOpen&&!e.isOpen&&this.onClose()},onPressEscape:function(){return this.props.onClose(),!1},onOpen:function(){S.default.pushScope(this.props.name),(0,S.default)(y,this.props.name,this.onPressEscape),this.setState({hide:!1,styles:{top:this.getScrollTop()}})},onClose:function(){S.default.popScope(this.props.name),S.default.unbind(y,this.props.name),l.default.addEndEventListener(a.default.findDOMNode(this),this.onTransitionEnd)},onTransitionEnd:function(){l.default.removeEndEventListener(a.default.findDOMNode(this),this.onTransitionEnd),this.setState({hide:!this.props.isOpen,styles:{}})},renderCloseButton:function(){return s.default.createElement("a",{className:"QModal-close",onClick:this.props.onClose},s.default.createElement(_.default,{className:"QModal-closeIcon",icon:"x-thin"}))},renderOverlay:function(){return s.default.createElement("div",{className:"QModal-overlay",style:{position:"fixed"},onClick:this.props.onClose})},render:function(){var e,t=(0,d.default)("QModal",(e={"is-open":this.props.isOpen},e["QModal--"+this.props.styleVariant]=this.props.styleVariant,e)),n=(0,d.default)("QModal-box",{"is-hidden":this.state.hide,"is-wide":this.props.isWide});return s.default.createElement("div",{className:t},s.default.createElement("div",{className:n,style:this.state.styles,onClick:this.props.onClose},s.default.createElement("div",{className:"QModal-content",onClick:this.stopPropagation},s.default.createElement("div",{className:this.props.wrapperClass},this.props.children),this.props.includeCloseButton?this.renderCloseButton():null)),this.props.includeOverlay?this.renderOverlay():null)},stopPropagation:function(e){e.stopPropagation()}});t.default=E,e.exports=t.default},1690:function(e,t,n){"use strict";(function(t,i){var r,s,o,a,u,l,c,d,p,h,f,m,g,_,v,S,y,E,C,T,w,P,R,b,L,A,I,D=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};g=n(0),L=n(5),b=n(31),d=n(522),P=n(729),_=n(180),a=n(215),T=n(1536),C=n(1535),h=n(1531),R=n(725),f=n(615),u=n(1523),r=n(55),m=n(34),S=n(7),E=n(227),c=n(272),y=n(332),l=n(824),v=n(179),o=n(1187),I=n(49).rightToLeftLanguages,A=n(37),p=n(273),s=3,e.exports=w=g.createClass({displayName:"TermRow",propTypes:{activeContext:g.PropTypes.string,activeSide:g.PropTypes.string.isRequired,autodefineResults:g.PropTypes.object,definitionCustomAudio:g.PropTypes.object,definitionCustomAudioLuid:g.PropTypes.string,defLang:g.PropTypes.string,detectLanguageResults:g.PropTypes.object,duplicateStatus:g.PropTypes.string,formattedPlusPrice:g.PropTypes.string.isRequired,formattedTeacherPrice:g.PropTypes.string.isRequired,hasMinTermsError:g.PropTypes.bool.isRequired,image:g.PropTypes.object,imageLuid:g.PropTypes.string,imageSearchMeta:g.PropTypes.object,imageSearchResults:g.PropTypes.object,index:g.PropTypes.number.isRequired,isActive:g.PropTypes.bool.isRequired,isChooseLangSelected:g.PropTypes.bool.isRequired,isDragged:g.PropTypes.bool.isRequired,isDraggedActive:g.PropTypes.bool.isRequired,isInvisible:g.PropTypes.bool.isRequired,isMac:g.PropTypes.bool.isRequired,isMouseOver:g.PropTypes.bool.isRequired,isPhantom:g.PropTypes.bool.isRequired,isTeacher:g.PropTypes.bool.isRequired,isReordering:g.PropTypes.bool.isRequired,isUnder18:g.PropTypes.bool.isRequired,isUpgraded:g.PropTypes.bool.isRequired,langPromptSide:g.PropTypes.string,onActive:g.PropTypes.func.isRequired,onAddRow:g.PropTypes.func.isRequired,onBulkImageUpload:g.PropTypes.func.isRequired,onCloseVoiceRecordingPermissionsModal:g.PropTypes.func.isRequired,onDeleteRow:g.PropTypes.func.isRequired,onDragEnd:g.PropTypes.func.isRequired,onDragEnter:g.PropTypes.func.isRequired,onDragLeave:g.PropTypes.func.isRequired,onDragOver:g.PropTypes.func.isRequired,onDragStart:g.PropTypes.func.isRequired,onFocusActiveRow:g.PropTypes.func.isRequired,onFocusDefinitionSide:g.PropTypes.func.isRequired,onMouseEnter:g.PropTypes.func.isRequired,onMouseLeave:g.PropTypes.func.isRequired,onMoveDown:g.PropTypes.func.isRequired,onMoveUp:g.PropTypes.func.isRequired,onOpenImageContext:g.PropTypes.func.isRequired,onOpenVoiceRecordingPermissionsModal:g.PropTypes.func.isRequired,onScrollToOffset:g.PropTypes.func.isRequired,onViewDuplicate:g.PropTypes.func.isRequired,placeholderImage:g.PropTypes.object,profanityResults:g.PropTypes.object,recentLanguages:g.PropTypes.arrayOf(g.PropTypes.string).isRequired,recorderState:g.PropTypes.object.isRequired,setLuid:g.PropTypes.string.isRequired,shouldTriggerAutodefine:g.PropTypes.bool.isRequired,term:g.PropTypes.object.isRequired,termCustomAudio:g.PropTypes.object,termCustomAudioLuid:g.PropTypes.string,termImageLuid:g.PropTypes.string,termLuid:g.PropTypes.string.isRequired,totalCount:g.PropTypes.number.isRequired,viewOnly:g.PropTypes.bool.isRequired,voiceRecordingUpsellImage:g.PropTypes.string.isRequired,wordCustomAudio:g.PropTypes.object,wordCustomAudioLuid:g.PropTypes.string,wordLang:g.PropTypes.string},mixins:[b,d,P,a,_],shouldComponentUpdate:function(e,t){return!!this.shallowUnequalState(t)||(!(!this.refs.termOperations||!T.shouldUpdateOnProps(this.props,e))||(!!C.shouldUpdateOnProps(this.props,e)||(this.props.langPromptSide!==e.langPromptSide||this.props.isInvisible!==e.isInvisible||this.props.isNotSynced!==e.isNotSynced||this.props.isMouseOver!==e.isMouseOver||this.props.isDragged!==e.isDragged||this.props.isDraggedActive!==e.isDraggedActive||this.props.duplicateStatus!==e.duplicateStatus||this.props.activeContext!==e.activeContext&&this.props.isActive||this.props.profanityResults!==e.profanityResults)))},componentDidUpdate:function(e){return this.props.isActive&&!e.isActive?this.didBecomeActive():!this.props.isActive&&e.isActive?this.didBecomeInactive():void 0},didBecomeActive:function(){return A.setScope(this.props.termLuid),A(p.term.moveUp,this.props.termLuid,function(e){return function(){return e.saveTermThen(function(){return e.onMoveUp({shouldCenter:!0}),e.focus()}),!1}}(this)),A(p.term.moveDown,this.props.termLuid,function(e){return function(){return e.saveTermThen(function(){return e.onMoveDown({shouldCenter:!0}),e.focus()}),!1}}(this)),A(p.term.toggleUpload,this.props.termLuid,function(e){return function(){var t;return!!e.canOpenContext(E.contexts.IMAGE)&&(e.props.activeContext===E.contexts.IMAGE?null!=(t=e.refs.termContent)&&t.openUploadDialog():e.onToggleContext(E.contexts.IMAGE,function(){
return e.refs.termContent.openUploadDialog()}),!1)}}(this)),A(p.term.toggleImages,this.props.termLuid,function(e){return function(){return e.onToggleContext(E.contexts.IMAGE),!1}}(this)),A(p.term.toggleRecord,this.props.termLuid,function(e){return function(){return e.onToggleContext(E.contexts.RECORDING),!1}}(this)),A(p.term.toggleAutodefine,this.props.termLuid,function(e){return function(){return e.onToggleContext(E.contexts.AUTODEFINE),!1}}(this)),A(p.term.closeContext,this.props.termLuid,function(e){return function(){if(null!=e.props.activeContext)return e.onToggleContext(e.props.activeContext),!1}}(this)),A(p.term.addRowBelowCurrent,this.props.termLuid,function(e){return function(){return e.onAddRow(),!1}}(this))},didBecomeInactive:function(){return A.unbind(p.term.moveUp,this.props.termLuid),A.unbind(p.term.moveDown,this.props.termLuid),A.unbind(p.term.toggleImages,this.props.termLuid),A.unbind(p.term.toggleAutodefine,this.props.termLuid),A.unbind(p.term.toggleRecord,this.props.termLuid),A.unbind(p.term.closeContext,this.props.termLuid),A.unbind(p.term.addRowBelowCurrent,this.props.termLuid)},openContext:function(e){var n,i,r,s;switch(e){case E.contexts.IMAGE:if(t.logPageAction("new_create_set_open_image_context"),this.blurWord(),y.toggleContext(this.props.termLuid,E.contexts.IMAGE),this.props.term.word&&((null!=(r=this.props.imageSearchMeta)?r.queryString:void 0)!==this.props.term.word||(null!=(s=this.props.imageSearchMeta)?s.lang:void 0)!==this.props.wordLang))return n=this.props.wordLang&&this.props.defLang?[this.props.wordLang,this.props.defLang]:null,i=this.props.isUpgraded?c.limits.MAX_NUM_IMAGES_UPGRADED:c.limits.MAX_NUM_IMAGES_FREE,l.search(this.props.termLuid,this.props.term.word,n,i);break;case E.contexts.AUTODEFINE:if(t.logPageAction("new_create_set_open_autodefine_context"),this.blurWord(),this.blurDefinition(),!this.props.wordLang)return v.showLangSelect(this.props.setLuid,"word",this.props.termLuid,!0);if(!this.props.defLang)return v.showLangSelect(this.props.setLuid,"definition",this.props.termLuid,!0);if(this.props.term.word)return y.toggleContext(this.props.termLuid,E.contexts.AUTODEFINE),y.autodefine(this.props.termLuid,this.props.term.word,this.props.wordLang,this.props.defLang);break;case E.contexts.RECORDING:if(t.logPageAction("new_create_set_open_recording_context"),this.blurWord(),this.blurDefinition(),y.toggleContext(this.props.termLuid,E.contexts.RECORDING),this.props.isUpgraded)return o.init()}},closeContext:function(e){if(null==e&&(e=null),null===e||e===this.props.activeContext){switch(e){case E.contexts.AUTODEFINE:case E.contexts.IMAGE:timeoutSet(0,function(e){return function(){return e.focusDefinition(r.FOCUS_END)}}(this))}return y.resetContext(this.props.termLuid)}},onToggleContext:function(e,t){return"function"==typeof t&&timeoutSet(0,t),e===this.props.activeContext?this.closeContext(e):(this.canOpenContext(e)&&this.openContext(e),e===E.contexts.IMAGE?this.props.onOpenImageContext():void 0)},canOpenContext:function(e){switch(e){case E.contexts.AUTODEFINE:return this.refs.termContent.canShowAutodefine();case E.contexts.IMAGE:return!this.isImageUploading();default:return!0}},onSelectLang:function(){return this.props.shouldTriggerAutodefine?timeoutSet(0,function(e){return function(){return e.onToggleContext(E.contexts.AUTODEFINE)}}(this)):this.props.onFocusActiveRow()},getDetectLangResults:function(e){return this.props.detectLanguageResults[e]},hasDetectLangResults:function(e){var t,n;return t=this.getDetectLangResults(e),(null!=t&&null!=(n=t.data)?n.length:void 0)>=1},hasProfanity:function(){return this.hasWordProfanity()||this.hasDefinitionProfanity()},hasWordProfanity:function(){var e,t,n;return(null!=(e=this.props.profanityResults)&&null!=(t=e.word)&&null!=(n=t.data)?n.level:void 0)===s},hasDefinitionProfanity:function(){var e,t,n;return(null!=(e=this.props.profanityResults)&&null!=(t=e.definition)&&null!=(n=t.data)?n.level:void 0)===s},focus:function(e){return this.refs.termContent.focus(e)},focusWord:function(e){return this.refs.termContent.focusWord(e)},focusDefinition:function(e){return this.refs.termContent.focusDefinition(e)},blur:function(){return this.refs.termContent.blur()},blurWord:function(){return this.refs.termContent.blurWord()},blurDefinition:function(){return this.refs.termContent.blurDefinition()},saveTermThen:function(e){return this.blur(),timeoutSet(0,function(t){return function(){return"function"==typeof e?e():void 0}}(this))},onMoveUp:function(e){if(!this.isFirst())return this.props.onMoveUp(this.props.termLuid,e)},onMoveDown:function(e){if(!this.isLast())return this.props.onMoveDown(this.props.termLuid,e)},onAddRow:function(){if(this.canInsert())return this.props.onAddRow(this.props.termLuid)},onDeleteRow:function(){if(this.canDelete())return this.props.onDeleteRow(this.props.termLuid)},onMouseEnter:function(){return this.props.onMouseEnter(this.props.termLuid)},onMouseLeave:function(){return this.props.onMouseLeave(this.props.termLuid)},onViewDuplicate:function(){return this.props.onViewDuplicate(this.props.termLuid)},onIgnoreDuplicates:function(){return y.ignoreDuplicates(this.props.term.word),this.props.onFocusActiveRow()},onDragStart:function(e){return this.props.isPhantom||this.props.viewOnly?e.preventDefault():this.props.onDragStart(this.props.termLuid,e)},onDragEnd:function(e){return this.props.isPhantom||this.props.viewOnly?e.preventDefault():this.props.onDragEnd(this.props.termLuid,e)},onDragEnter:function(e){return this.props.onDragEnter(this.props.termLuid,e)},onDragLeave:function(e){return this.props.onDragLeave(this.props.termLuid,e)},onDragOver:function(e){return this.props.onDragOver(this.props.termLuid,e)},onDoNothing:function(e){return e.preventDefault()},renderDuplicatePopover:function(){return this.props.isInvisible?null:this.props.viewOnly||this.props.activeContext?null:this.props.duplicateStatus===E.statuses.ACTIVE_DUPLICATE&&this.props.isActive?g.createElement("div",{className:"TermRow-duplicateWarning"},g.createElement(u,{onIgnoreDuplicates:this.onIgnoreDuplicates,onViewDuplicate:this.onViewDuplicate})):null},renderLanguagePrompt:function(){var e,t,n,r,s,o,a,u;return this.props.isInvisible?null:this.props.viewOnly||this.props.activeContext?null:this.props.langPromptSide?(e=this.props.langPromptSide,o=this.getDetectLangResults(e),a=(null!=o&&null!=(u=o.data)?u.length:void 0)>=1?o.data[0]:null,t=null!=a?a.language:void 0,n=null!=a?a.languageCode:void 0,r=this.props.shouldTriggerAutodefine&&this.props.wordLang?i("en-US","What language do you want suggestions for?"):i("en-US","What language is this?"),s=this.props.shouldTriggerAutodefine?i("en-US","To use autodefine, select languages for your terms and definitions."):null,g.createElement("div",{className:"TermRow-languagePrompt",key:"prompt-"+this.props.termLuid},g.createElement(h,{defLang:this.props.defLang,isChooseLangSelected:this.props.isChooseLangSelected,onSelectLang:this.onSelectLang,question:r,questionSubtext:s,recentLanguages:this.props.recentLanguages,setLuid:this.props.setLuid,side:e,suggestedLang:t,suggestedLangCode:n,viewOnly:this.props.viewOnly,wordLang:this.props.wordLang}))):null},renderProfanityPopover:function(){var e;return this.props.isInvisible?null:this.props.langPromptSide||this.props.activeContext?null:this.props.isActive&&this.hasProfanity()?(e=this.isTouchDevice()?f.position.ABOVE:f.position.BELOW,g.createElement("div",{className:"TermRow-profanityWarning"},g.createElement(R,{position:e},g.createElement(S,{_precomputed:i("en-US","Quizlet detects profanity in this term. Unless you change them, these words will be replaced with **** when you save this set.",{})})))):null},renderTermOperations:function(){return this.props.isInvisible?null:this.props.viewOnly?null:g.createElement("div",{className:"TermRow-operations"},g.createElement(T,{index:this.props.index,onAddRow:this.onAddRow,onDeleteRow:this.onDeleteRow,ref:"termOperations",totalCount:this.props.totalCount}))},renderCounter:function(){var e;return this.props.isInvisible?null:this.props.isPhantom?null:(e=this.props.isNotSynced?g.createElement(m,{icon:"alert",className:"TermRow-counterAlertIcon"}):this.props.isMouseOver?g.createElement(m,{icon:"reorder",className:"TermRow-counterMoveIcon"}):null,g.createElement("a",{className:"TermRow-counter",draggable:!0,onClick:this.onDoNothing,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd,href:"#"},e))},renderTermContent:function(){return g.createElement("div",{className:"TermRow-content"},g.createElement(C,{activeContext:this.props.activeContext,activeSide:this.props.activeSide,autodefineResults:this.props.autodefineResults,definitionCustomAudio:this.props.definitionCustomAudio,definitionCustomAudioLuid:this.props.definitionCustomAudioLuid,defLang:this.props.defLang,formattedPlusPrice:this.props.formattedPlusPrice,formattedTeacherPrice:this.props.formattedTeacherPrice,hasDefLangDetectResults:this.hasDetectLangResults("definition"),hasMinTermsError:this.props.hasMinTermsError,hasProfanity:this.hasProfanity(),hasWordLangDetectResults:this.hasDetectLangResults("word"),image:this.props.image,imageLuid:this.props.imageLuid,imageSearchMeta:this.props.imageSearchMeta,imageSearchResults:this.props.imageSearchResults,index:this.props.index,isActive:this.props.isActive,isMac:this.props.isMac,isPhantom:this.props.isPhantom,isReordering:this.props.isReordering,isTeacher:this.props.isTeacher,isUnder18:this.props.isUnder18,isUpgraded:this.props.isUpgraded,onActive:this.props.onActive,onAddRow:this.onAddRow,onBulkImageUpload:this.props.onBulkImageUpload,onCloseContext:this.closeContext,onCloseVoiceRecordingPermissionsModal:this.props.onCloseVoiceRecordingPermissionsModal,onFocusDefinitionSide:this.props.onFocusDefinitionSide,onDeleteRow:this.onDeleteRow,onMoveDown:this.onMoveDown,onMoveUp:this.onMoveUp,onOpenVoiceRecordingPermissionsModal:this.props.onOpenVoiceRecordingPermissionsModal,onScrollToOffset:this.props.onScrollToOffset,onToggleContext:this.onToggleContext,placeholderImage:this.props.placeholderImage,recorderState:this.props.recorderState,ref:"termContent",setLuid:this.props.setLuid,term:this.props.term,termCustomAudio:this.props.termCustomAudio,termCustomAudioLuid:this.props.termCustomAudioLuid,termImageLuid:this.props.termImageLuid,termLuid:this.props.termLuid,totalCount:this.props.totalCount,viewOnly:this.props.viewOnly,voiceRecordingUpsellImage:this.props.voiceRecordingUpsellImage,wordCustomAudio:this.props.wordCustomAudio,wordCustomAudioLuid:this.props.wordCustomAudioLuid,wordLang:this.props.wordLang}))},render:function(){var e,t,n,i,r,s,o,a,u,l,c,d,p,h,f;return a=this.props.langPromptSide,n=L({TermRow:!0,"TermRow--bare":this.props.isInvisible,"has-definitionProfanity":this.hasDefinitionProfanity()&&!this.hasWordProfanity(),"has-image":this.hasImage(),"has-langPrompt":a,"has-langPromptForWord":"word"===a,"has-langPromptForDefinition":"definition"===a,"has-profanity":this.hasProfanity(),"has-wordProfanity":this.hasWordProfanity(),"is-active":this.props.isActive,"is-activeDuplicate":this.props.duplicateStatus===E.statuses.ACTIVE_DUPLICATE,"is-disabled":this.props.viewOnly,"is-dragged":this.props.isDragged,"is-draggedActive":this.props.isDraggedActive,"is-inactiveDuplicate":this.props.duplicateStatus===E.statuses.INACTIVE_DUPLICATE,"is-mousedOver":this.props.isMouseOver,"is-notSynced":this.props.isNotSynced,"is-phantom":this.props.isPhantom,"has-activeContext":null!=this.props.activeContext,"is-showingMobileImageContext":this.hasOrIsUploadingImage(),"is-showingImageContext":this.props.activeContext===E.contexts.IMAGE,"is-showingRecordingContext":this.props.activeContext===E.contexts.RECORDING,"is-showingAutodefineContext":this.props.activeContext===E.contexts.AUTODEFINE}),u=this.renderLanguagePrompt(),s=this.renderDuplicatePopover(),l=this.renderProfanityPopover(),d=this.renderTermOperations(),i=this.renderCounter(),c=this.renderTermContent(),o=this.props.termLuid+"-row",p="TermRow-bareSide TermRow-bareSide--word lang-"+this.props.wordLang,h=this.props.wordLang,D.call(I,h)>=0&&(p+=" is-rtl"),r="TermRow-bareSide TermRow-bareSide--definition lang-"+this.props.defLang,f=this.props.defLang,D.call(I,f)>=0&&(r+=" is-rtl"),t=g.createElement("div",{className:p,key:o+"-bare-word"},this.props.term.word||" "),e=g.createElement("div",{className:r,key:o+"-bare-def"},this.props.term.definition||" "),g.createElement("div",{className:n,key:o,onDragEnter:this._onDragEnter,onDragOver:this.onDragOver,onDragLeave:this._onDragLeave,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},t,e,i,s,u,l,c,d)}})}).call(t,n(2),n(6))},1691:function(e,t,n){"use strict";(function(t,i){var r,s,o,a,u,l,c,d,p,h,f,m,g,_,v,S,y,E,C,T,w,P,R,b,L,A,I,D,x,U,M,O,N,k,F,B,q,V,W,H,j=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};g=n(0),M=n(12).findDOMNode,f=n(10),N=n(59),l=n(33),x=n(5),u=n(215),A=n(31),S=n(64),I=n(504),P=n(1690),R=n(1537),r=n(38),E=n(7),D=n(1540),C=n(332),d=n(824),L=n(348),p=n(1109),w=n(588),s=n(659),_=n(675),y=n(185),T=n(227),m=n(34),c=n(1525),V=n(52),H=n(26),B=n(73),W=n(787),o=1e3,a=16,v=64,h=15,q={},U=function(e,t){if(e!==t&&(e&&delete q[e],t))return delete q[t]},F=function(e){var t,n,i,r;return e.openLangSelectSide?e.openLangSelectSide.side:e.wordLang&&e.defLang?null:(n=e.detectLanguageResults.word,!e.wordLang&&n&&(null!=(i=n.data)?i.length:void 0)>=0?"word":(t=e.detectLanguageResults.definition,!e.defLang&&t&&(null!=(r=t.data)?r.length:void 0)>=0?"definition":null))},k=function(e,t,n){var i,r,s,o,a;if(null!==t.openLangSelectSide)return t.openLangSelectSide.row?t.openLangSelectSide.row:n.termsOrder[0];if(!e)return null;for(a=n.termsOrder,s=0,o=a.length;s<o;s++)if(i=a[s],r=n.terms[i],r[e])return i;return null},O=function(e,t){return t.startIndex<=e&&e<=t.endIndex},e.exports=b=g.createClass({displayName:"TermRows",propTypes:{defLang:g.PropTypes.string,detectLanguageResults:g.PropTypes.object.isRequired,formattedPlusPrice:g.PropTypes.string.isRequired,formattedTeacherPrice:g.PropTypes.string.isRequired,hasCreatedSets:g.PropTypes.bool.isRequired,hasMinTermsError:g.PropTypes.bool.isRequired,isHidden:g.PropTypes.bool.isRequired,isIOS:g.PropTypes.bool.isRequired,isMac:g.PropTypes.bool.isRequired,isTeacher:g.PropTypes.bool.isRequired,isUnder18:g.PropTypes.bool.isRequired,isUpgraded:g.PropTypes.bool.isRequired,onDragEnd:g.PropTypes.func.isRequired,onDragEnterOrOver:g.PropTypes.func.isRequired,openLangSelectSide:g.PropTypes.object,recentLanguages:g.PropTypes.arrayOf(g.PropTypes.string).isRequired,setLuid:g.PropTypes.string.isRequired,viewOnly:g.PropTypes.bool.isRequired,voiceRecordingUpsellImage:g.PropTypes.string.isRequired,wordLang:g.PropTypes.string},mixins:[A,I,S,u,f],getDefaultProps:function(){return{detectLanguageResults:{}}},getInitialState:function(){var e,t;return t={draggedHeight:null,draggedOverRow:null,draggedRow:null,dropLocation:null,endIndex:h,hoverRow:null,isImagePopoverDismissed:!1,isShowingImagePopover:!1,isVoiceRecordingPermissionsModalOpen:!1,startIndex:0},e=V(t,this.fetchTermStore(),this.fetchImageStore(),this.fetchTermCustomAudioStore(),this.fetchCustomAudioStore(),this.fetchRecorderStore()),this.duplicateLuids=this.rebuildDuplicateLuids(e),e},componentWillMount:function(){return L.addChangeListener(this._onTermsChange),p.addChangeListener(this._onImagesChange),w.addChangeListener(this._onTermCustomAudiosChange),s.addChangeListener(this._onCustomAudiosChange),_.addChangeListener(this._onRecorderChange)},componentDidMount:function(){return this.sideToAskLangFor=null,this.rowToAskLangFor=null,this.shouldScrollToBottom=null,this.lastBoundingClientRect=this.getRect(),this.hasScheduledRaf=!1,this.scrollListener=l.listen(t.window,"scroll",this.onScroll),this.resizeListener=l.listen(t.window,"resize",this.onScroll),this.updateView()},componentWillUnmount:function(){var e,t;return null!=(e=this.scrollListener)&&e.remove(),null!=(t=this.resizeListener)&&t.remove(),L.removeChangeListener(this._onTermsChange),p.removeChangeListener(this._onImagesChange),w.removeChangeListener(this._onTermCustomAudiosChange),s.removeChangeListener(this._onCustomAudiosChange),_.removeChangeListener(this._onRecorderChange)},componentWillUpdate:function(e,t){var n,i,r,s,o,a,u,l,c,d,p,h,f,m,g,_,v,S,E,C,T,w,P,R,b,L;for(w=this.state.termsOrder,i=h=0,_=w.length;h<_;i=++h)r=w[i],(O(i,this.state)&&!O(i,t)||!O(i,this.state)&&O(i,t))&&delete q[r];if(a=this.duplicateLuids,this.state.wordsToLuids===t.wordsToLuids&&this.state.ignoredDuplicateWords===t.ignoredDuplicateWords||(a=this.rebuildDuplicateLuids(t)),!this.props.hasMinTermsError&&e.hasMinTermsError)for(P=t.termsOrder.slice(0,2),f=0,v=P.length;f<v;f++)r=P[f],delete q[r];if(U(this.state.termsOrder[0],t.termsOrder[0]),p=this.getLastIndex(this.state),o=this.getLastIndex(t),U(this.state.termsOrder[p],t.termsOrder[o]),this.getNumTerms(t)<=y.limits.MIN_TERMS)for(R=t.termsOrder.slice(0,+y.limits.MIN_TERMS+1||9e9),m=0,S=R.length;m<S;m++)r=R[m],delete q[r];if(this.getNumTerms(this.state)<=y.limits.MIN_TERMS)for(b=this.state.termsOrder.slice(0,+y.limits.MIN_TERMS+1||9e9),g=0,E=b.length;g<E;g++)r=b[g],delete q[r];if(this.props.wordLang===e.wordLang&&this.props.defLang===e.defLang&&this.props.isUpgraded===e.isUpgraded&&this.props.hasSyncingError===e.hasSyncingError||(q={}),U(this.state.activeRow,t.activeRow),U(this.state.phantomRow,t.phantomRow),U(this.state.hoverRow,t.hoverRow),U(this.state.draggedOverRow,t.draggedOverRow),this.state.draggedOverRow===t.draggedOverRow&&this.state.draggedRow===t.draggedRow||(this.state.draggedRow&&delete q[this.state.draggedRow],t.draggedRow&&delete q[t.draggedRow]),this.state.activeRow!==t.activeRow||this.state.hoverRow!==t.hoverRow)for(L=this.duplicateLuids,T=0,C=L.length;T<C;T++)r=L[T],delete q[r];return c=F(e),l=k(c,e,t),U(this.rowToAskLangFor,l),this.sideToAskLangFor!==c&&(this.rowToAskLangFor&&delete q[this.rowToAskLangFor],l&&delete q[l]),this.sideToAskLangFor=c,this.rowToAskLangFor=l,this.duplicateLuids=a,d=this.state.termsOrder.length,s=t.termsOrder.length,!this.props.viewOnly&&this.hasPhantomRow(t)&&d>0&&s>0?(n=this.state.termsOrder[d-1],u=t.termsOrder[s-1],this.shouldScrollToBottom=s>d&&u!==n):this.shouldScrollToBottom=!1},componentDidUpdate:function(e,t){if(this.shouldScrollToBottom&&!this.props.isIOS)return timeoutSet(150,this.scrollToBottom)},fetchTermStore:function(){return{wordsToLuids:L.getWordsToLuids(),ignoredDuplicateWords:L.getIgnoredDuplicateWords(),terms:L.getAll(),termsOrder:L.getOrder(),termImageMap:L.getImageMap(),imageSearchResults:L.getImageSearchResults(),autodefineResults:L.getAutodefineResults(),profanityResults:L.getProfanityResults(),phantomRow:L.getPhantomRow(),activeRow:L.getActiveRow(),activeSide:L.getActiveSide(),activeContext:L.getActiveContext()}},fetchImageStore:function(){return{images:p.getAll(),imagePlaceholders:p.getPlaceholders()}},fetchTermCustomAudioStore:function(){return{termCustomAudios:w.getAll(),termCustomAudioTermMap:w.getTermMap(),termCustomAudioCustomAudioMap:w.getCustomAudioMap()}},fetchCustomAudioStore:function(){return{customAudios:s.getAll()}},fetchRecorderStore:function(){return{recorderState:{error:_.getError(),errorCode:_.getErrorCode(),hasBlockingUpsellBeenDismissed:_.hasBlockingUpsellBeenDismissed(),implementation:_.getImplementation(),initialized:_.isInitialized(),permissions:_.getPermissions(),status:_.getStatus(),volume:_.getVolume(),wasZoomReset:_.getZoomReset()}}},_onTermsChange:function(e){var t,n,i;if(e)for(n=0,i=e.length;n<i;n++)t=e[n],delete q[t];return this.setState(this.fetchTermStore())},_onImagesChange:function(e){var t,n,i,r;if(e)for(i=0,r=e.length;i<r;i++)t=e[i],n=this.imageLuidToTermLuid(t),n&&delete q[n];return this.setState(this.fetchImageStore())},_onTermCustomAudiosChange:function(e){var t,n,i,r;if(e)for(i=0,r=e.length;i<r;i++)t=e[i],n=this.termCustomAudioLuidToTermLuid(t),n&&delete q[n];return this.setState(this.fetchTermCustomAudioStore())},_onCustomAudiosChange:function(e){var t,n,i,r;if(e)for(i=0,r=e.length;i<r;i++)t=e[i],n=this.customAudioLuidToTermLuid(t),n&&delete q[n];return this.setState(this.fetchCustomAudioStore())},_onRecorderChange:function(){return this.state.activeRow&&delete q[this.state.activeRow],this.setState(this.fetchRecorderStore())},onScroll:function(){if(!this.props.isHidden&&(this.lastBoundingClientRect=this.getRect(),!this.hasScheduledRaf))return this.hasScheduledRaf=!0,N(this.updateView)},getRect:function(){return M(this).getBoundingClientRect()},isLuidInViewport:function(e){var t,n,i,r,s;return s=this.getBoundingClientRect(e),r=s.top,n=s.left,t=s.bottom,i=s.right,r>=0&&n>=0&&t<=this.getViewportHeight()&&i<=this.getViewportWidth()},updateView:function(){var e,n,i,r,s,o,a,u,l,c,d,p,f,m,g,_,S,y;for(S=this.lastBoundingClientRect||this.getRect(),d=S.top,r=S.height,_=-d,g=_+this.getViewportHeight(),m=this.state.termsOrder.length,e=r/m,l=Math.max(0,Math.floor(_/e)),n=Math.ceil(this.getViewportHeight()/e),f=t.document.elementFromPoint(this.getViewportWidth()/2,v+1),p=null!=(y=W(f,function(e){return e.hasAttribute("data-term-luid")}))?y.getAttribute("data-term-luid"):void 0,p&&(l=this.getIndex(p)),i=Math.min(l+n,m-1);(s=this.isLuidInViewport(this.state.termsOrder[i]))&&(i+=1,!(i>=m)););return u=Math.max(n,i-l),c=Math.max(h,u),a=B(l-c,0,m-h),o=i+c,this.setState({startIndex:a,endIndex:o}),this.hasScheduledRaf=!1},rebuildDuplicateLuids:function(e){var t,n,i,r,s,o,a;t=[],a=e.wordsToLuids;for(r in a)if(i=a[r],j.call(e.ignoredDuplicateWords,r)<0&&H(i)>1)for(s=0,o=i.length;s<o;s++)n=i[s],t.push(n);return t.sort(function(t,n){return e.terms[t].rank-e.terms[n].rank}),t},imageLuidToTermLuid:function(e){var t,n,i,r,s;r=this.state.termImageMap;for(i in r)if(s=r[i],n=s[0],t=s[1],e===t)return i;return null},termCustomAudioLuidToTermLuid:function(e){var t,n,i;i=this.state.termCustomAudioTermMap;for(n in i)if(t=i[n],e===t)return n;return null},customAudioLuidToTermLuid:function(e){var t,n,i,r,s;r=this.state.termCustomAudioCustomAudioMap;for(n in r)if(s=r[n],i=s.word,t=s.definition,e===i||e===t)return this.termCustomAudioLuidToTermLuid(e);return null},getImageSearchResults:function(e){var t,n,i,r,s;if(null==this.state.imageSearchResults[e])return null;for(n=this.state.imageSearchResults[e],t={},s=n.imageLuids,i=0,r=s.length;i<r;i++)e=s[i],t[e]=this.state.images[e];return t},getAutodefineResults:function(e){var t;return null==(null!=(t=this.state.autodefineResults)?t[e]:void 0)?null:this.state.autodefineResults[e]},getProfanityResults:function(e){var t;return null==(null!=(t=this.state.profanityResults)?t[e]:void 0)?null:this.state.profanityResults[e]},hasPhantomRow:function(e){return null==e&&(e=this.state),null!==e.phantomRow},isActive:function(e){return e===this.state.activeRow},isInvisible:function(e){return!(O(this.getIndex(e),this.state)||this.isPhantom(e)||this.isActive(e)||this.isDragged(e))},isMouseOver:function(e){return e===this.state.hoverRow},isPhantom:function(e){return e===this.state.phantomRow&&!this.isActive(e)},isDragged:function(e){return e===this.state.draggedRow},isDraggedActive:function(e){return!(!this.isDragged(e)||!this.state.draggedOverRow)},getDuplicateStatus:function(e){var t,n,i,r;return j.call(this.duplicateLuids,e)<0?null:(r=this.state,i=r.hoverRow,t=r.activeRow,i&&j.call(this.duplicateLuids,i)>=0&&this.state.terms[i]?n=this.state.terms[i].word:t&&j.call(this.duplicateLuids,t)>=0&&(n=this.state.terms[t].word),n&&this.state.terms[e].word===n?T.statuses.ACTIVE_DUPLICATE:T.statuses.INACTIVE_DUPLICATE)},getNumTerms:function(e){var t;return null==e&&(e=this.state),t=e.termsOrder.length,this.hasPhantomRow(e)&&(t-=1),t},getIndex:function(e){return this.state.termsOrder.indexOf(e)},getLastIndex:function(e){return null==e&&(e=this.state),this.getNumTerms(e)-1},getDragDrop:function(){var e,t,n;return e=this.state.draggedOverRow,n=this.state.dropLocation,t=this.state.draggedRow,n&&this.isPhantom(e)&&(n=T.dropLocations.BEFORE),{draggedOverRow:e,dropLocation:n,draggedRow:t}},onDragEnterOrOver:function(e,t){var n,i,r,s,o;if(e!==T.PLACEHOLDER_LUID)return this.props.onDragEnterOrOver(t),n=0,this.state.dropLocation&&(this.state.dropLocation===T.dropLocations.BEFORE?n=a:this.state.dropLocation===T.dropLocations.AFTER&&(n=-1*a)),o=this.getBoundingClientRect(e).top,s=t.clientY+n-o,r=this.getHeightWithoutGutter(e)/2,i=s>r?T.dropLocations.AFTER:T.dropLocations.BEFORE,i!==this.state.dropLocation&&this.setState({dropLocation:i}),this.state.draggedOverRow!==e?this.setState({draggedOverRow:e}):void 0},onDragOver:function(e,t){if(t.preventDefault(),this.state.draggedRow!==e)return this.onDragEnterOrOver(e,t)},onDragEnter:function(e,t){return this.onDragEnterOrOver(e,t)},onDragLeave:function(){},onDragStart:function(e,n){var i,r,s,o,a,u,l,c,d,p;return"Range"===(null!=(d=t.window.getSelection())?d.type:void 0)?n.preventDefault():("function"==typeof(l=n.dataTransfer).setData&&l.setData("text",e),n.dataTransfer.effectAllowed="move",p=this.getBoundingClientRect(e),u=p.top,i=p.left,o=n.clientX-i,a=n.clientY-u,"function"==typeof(c=n.dataTransfer).setDragImage&&c.setDragImage(this.getTermRowDOMNode(e),o,a),r=this.getHeightWithoutGutter(e),s={},this.state.draggedHeight!==r&&(s.draggedHeight=r),this.state.draggedRow!==e&&(s.draggedRow=e),H(s)?this.setState(s):void 0)},onDragEnd:function(e,t){var n,i,r;return this.props.onDragEnd(),n=this.getIndex(e),r=this.getIndex(this.state.draggedOverRow),n<r&&(r-=1),this.state.dropLocation===T.dropLocations.AFTER&&(r+=1),i=this.getLastIndex(),r>i&&(r=i),r<0&&(r=0),n!==r&&C.move(this.props.setLuid,e,n,r),this.setState({dropLocation:null,draggedRow:null,draggedOverRow:null})},onActive:function(e){if(!this.isActive(e))return C.activateRow(e)},onFocusActiveRow:function(){var e;return null!=(e=this.refs[this.state.activeRow])?e.focus():void 0},onDeleteRow:function(e){return C.del(e)},getSiblingRow:function(e,t){var n,i,r;return i=this.getIndex(e)+t,n=this.getLastIndex(),r=i<=n?this.state.termsOrder[i]:n>0&&t>0?this.state.termsOrder[n-1]:null},onAddRow:function(e){var t;return t=C.bulkCreate([this.getIndex(e)+1]),timeoutSet(0,function(e){return function(){var n;return null!=(n=e.refs[t])?n.focusWord():void 0}}(this))},onMoveUp:function(e,t){var n,i;return i=this.getIndex(e),C.move(this.props.setLuid,e,i,i-1),t.shouldCenter?this.scrollTo(this.getCenterScrollTop(e)):(n=this.getSiblingRow(e,-1),this.scrollBy(this.getHeight(n)*-1))},onMoveDown:function(e,t){var n,i;return i=this.getIndex(e),C.move(this.props.setLuid,e,i,i+1),t.shouldCenter?this.scrollTo(this.getCenterScrollTop(e)):(n=this.getSiblingRow(e,1),this.scrollBy(this.getHeight(n)))},onMouseEnter:function(e){if(!this.isTouchDevice())return this.setState({hoverRow:e})},onMouseLeave:function(e){return this.setState({hoverRow:null})},onOpenVoiceRecordingPermissionsModal:function(){if(!this.state.isVoiceRecordingPermissionsModalOpen)return this.setState({isVoiceRecordingPermissionsModalOpen:!0})},onCloseVoiceRecordingPermissionsModal:function(){if(this.state.isVoiceRecordingPermissionsModalOpen)return this.setState({isVoiceRecordingPermissionsModalOpen:!1})},onScrollToOffset:function(e){return this.scrollTo(this.getCenterScrollTop(this.getSiblingRow(this.state.activeRow,e)))},createBulkImageData:function(e,t){var n,r,s,o,a,u,l,c,p,h,f;for(n=[],l=Math.max(0,e.length-t.length),a=function(){var e,t;for(t=[],o=e=0;0<=l?e<l:e>l;o=0<=l?++e:--e)t.push(this.state.termsOrder.length-1+o);return t}.call(this),u=C.bulkCreate(a),s=0,f=t.concat(u),p=0,h=f.length;p<h&&(c=f[p],!(s>=e.length));p++)n.push({file:e[s++],setLuid:this.props.setLuid,termLuid:c});return s<e.length&&(r=function(){var t,n,i;for(i=[],o=t=s,n=e.length;s<=n?t<n:t>n;o=s<=n?++t:--t)i.push(e[o]);return i}(),d.bulkUploadFailure({message:i("en-US","You have reached the {maxNumTerms}-term limit and the following images could not be uploaded:",{maxNumTerms:y.limits.MAX_TERMS}),files:r})),n},onBulkImageUpload:function(e,t,n){var i,r,s,o,a;if(e.length>0)return 1===e.length&&n?(a=this.state.termImageMap[t]||[null,null],s=a[0],r=a[1],this.onActive(t),d.bulkCreate([{file:e[0],setLuid:this.props.setLuid,termLuid:t,termImageLuid:s}])):(o=L.getImagelessTermLuids(this.state.images,t),i=this.createBulkImageData(e,o),this.onActive(i[0].termLuid),d.bulkCreate(i))},getTermRowDOMNode:function(e){return e in this.refs?M(this.refs[e]):null},getBoundingClientRect:function(e){var t;return null!=(t=this.getTermRowDOMNode(e))?t.getBoundingClientRect():void 0},getOffsetTop:function(e){var t;return null!=(t=this.getTermRowDOMNode(e))?t.offsetTop:void 0},getParentOffsetTop:function(e){var t;return null!=(t=this.getTermRowDOMNode(e))?t.offsetParent.offsetTop:void 0},getHeight:function(e){var t;return null!=(t=this.getBoundingClientRect(e))?t.height:void 0},getHeightWithoutGutter:function(e){return this.getHeight(e)-T.styles.TERM_ROW_GUTTER_HEIGHT},getCenterScrollTop:function(e){var n;return n=this.getOffsetTop(e)+this.getParentOffsetTop(e)-t.document.documentElement.clientHeight/2,Math.max(0,n)},getNextActiveDuplicate:function(e){var t,n,i;for(i=this.state.terms[e].word,t=this.duplicateLuids.indexOf(e),n=null;n!==e;)if(t=(t+1)%this.duplicateLuids.length,n=this.duplicateLuids[t],i===this.state.terms[n].word)return n},scrollToNextDuplicate:function(e){var t;return t=this.getNextActiveDuplicate(e),C.activateRow(t),this.scrollTo(this.getCenterScrollTop(t))},renderMaxTermsWarning:function(){return this.getNumTerms()<y.limits.MAX_TERMS?null:g.createElement("div",{className:"TermRows-maxTermsWarning"},g.createElement(E,{_precomputed:i("en-US",'Sorry! There\'s a limit of {maxNumTerms} terms per set, but you can <a href="/help/2444111/how-do-i-combine-sets" target="blank">combine multiple sets</a> when studying.',{maxNumTerms:y.limits.MAX_TERMS})}))},renderPlaceholder:function(e){var t;return e in this.state.terms?(t=T.PLACEHOLDER_LUID,g.createElement("div",{className:"TermRows-placeholderWrap",key:"placeholder",transitionEnter:!1,transitionLeave:!1},g.createElement(R,{height:this.state.draggedHeight,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,termLuid:t}))):null},closeImagePopover:function(){return this.setState({isShowingImagePopover:!1,isImagePopoverDismissed:!0})},showImagePopover:function(){if(!this.state.isShowingImagePopover&&!this.state.isImagePopoverDismissed&&!this.props.hasCreatedSets)return this.setState({isShowingImagePopover:!0})},renderImagePopover:function(){var e;return this.props.isInvisible||this.props.viewOnly?null:this.state.isShowingImagePopover?this.props.hasCreatedSets?null:(e=i("en-US","Add an image to your term!"),g.createElement(c,{className:"TermRows-imageFeaturePopover",onClose:this.closeImagePopover,showNew:!0,text:e})):null},renderTermRow:function(e){var t,n,i,r,s,o,a,u,l,c,d,p,h,f,m,_,v,S,y,E,C,T;return e in q?q[e]:(v=this.getNumTerms(),p=this.state.terms[e],C=this.state.termImageMap[e]||[null,null],_=C[0],o=C[1],s=this.state.images[o]||null,d=this.state.imagePlaceholders[o]||null,a=this.state.imageSearchResults[e],m=this.state.termCustomAudioTermMap[e],h=this.state.termCustomAudios[m],f=null!=(T=this.state.termCustomAudioCustomAudioMap[m])?T:{},E=f.word,y=this.state.customAudios[E],n=f.definition,t=this.state.customAudios[n],u=this.getIndex(e),r=this.props.hasMinTermsError&&(0===u||1===u)&&!p.id,i=this.getDuplicateStatus(e),l=this.rowToAskLangFor===e,c=this.props.openLangSelectSide,S={},S=this.props.hasSyncingError?L.getUnsavedTermUpdates():{},q[e]=g.createElement("div",{className:"TermRows-termRowWrap",key:e,"data-term-luid":e},g.createElement(P,{activeContext:this.isActive(e)?this.state.activeContext:null,activeSide:this.state.activeSide,autodefineResults:this.getAutodefineResults(e),definitionCustomAudio:t,definitionCustomAudioLuid:n,defLang:this.props.defLang,detectLanguageResults:this.props.detectLanguageResults,duplicateStatus:i,formattedPlusPrice:this.props.formattedPlusPrice,formattedTeacherPrice:this.props.formattedTeacherPrice,hasMinTermsError:r,image:s,imageLuid:o,imageSearchMeta:a,imageSearchResults:this.getImageSearchResults(e),
index:u,isActive:this.isActive(e),isChooseLangSelected:l&&null!==c,isDragged:this.isDragged(e),isDraggedActive:this.isDraggedActive(e),isInvisible:this.isInvisible(e),isMac:this.props.isMac,isMouseOver:this.isMouseOver(e),isNotSynced:this.props.hasSyncingError&&e in S,isPhantom:this.isPhantom(e),isReordering:!!this.state.draggedRow,isTeacher:this.props.isTeacher,isUnder18:this.props.isUnder18,isUpgraded:this.props.isUpgraded,langPromptSide:l?this.sideToAskLangFor:null,onActive:this.onActive,onAddRow:this.onAddRow,onBulkImageUpload:this.onBulkImageUpload,onCloseVoiceRecordingPermissionsModal:this.onCloseVoiceRecordingPermissionsModal,onDeleteRow:this.onDeleteRow,onDragEnd:this.onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this.onDragOver,onDragStart:this.onDragStart,onFocusActiveRow:this.onFocusActiveRow,onFocusDefinitionSide:this.showImagePopover,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMoveDown:this.onMoveDown,onMoveUp:this.onMoveUp,onOpenImageContext:this.closeImagePopover,onOpenVoiceRecordingPermissionsModal:this.onOpenVoiceRecordingPermissionsModal,onScrollToOffset:this.onScrollToOffset,onViewDuplicate:this.scrollToNextDuplicate,placeholderImage:d,profanityResults:this.getProfanityResults(e),recentLanguages:this.props.recentLanguages,recorderState:this.state.recorderState,ref:e,setLuid:this.props.setLuid,shouldTriggerAutodefine:!(!l||null===c)&&c.triggerAutodefine,term:p,termCustomAudio:h,termCustomAudioLuid:m,termImageLuid:_,termLuid:e,totalCount:v,viewOnly:this.props.viewOnly,voiceRecordingUpsellImage:this.props.voiceRecordingUpsellImage,wordCustomAudio:y,wordCustomAudioLuid:E,wordLang:this.props.wordLang})))},render:function(){var e,t,n,i,s,a,u,l,c,d,p,h,f;for(h=this.getDragDrop(),i=h.draggedRow,n=h.draggedOverRow,s=h.dropLocation,c=[],f=this.state.termsOrder,d=0,p=f.length;d<p;d++)u=f[d],n===u&&s===T.dropLocations.BEFORE&&c.push(this.renderPlaceholder(i)),c.push(this.renderTermRow(u)),n===u&&s===T.dropLocations.AFTER&&c.push(this.renderPlaceholder(this.state.draggedRow));return e=!this.isMobileDevice()&&this.getNumTerms()<o,l=this.renderMaxTermsWarning(),a=this.renderImagePopover(),t=x({TermRows:!0,"is-hidden":this.props.isHidden}),g.createElement("div",{className:t},g.createElement(r,{component:"div",transitionEnter:e,transitionLeave:e,transitionName:"TermRows--animateRow"},c),l,g.createElement(r,{transitionName:"TermRows-animateFeaturePopover"},a),g.createElement(D,{isOpen:this.state.isVoiceRecordingPermissionsModalOpen,onClose:this.onCloseVoiceRecordingPermissionsModal,recorderState:this.state.recorderState}))}})}).call(t,n(2),n(6))},1692:function(e,t,n){"use strict";(function(t,i){var r,s,o,a,u,l,c,d,p,h,f,m,g,_,v,S,y,E,C,T,w,P,R,b,L,A,I,D,x,U,M,O,N,k,F,B,q={}.hasOwnProperty;h=n(0),d=n(10),A=n(5),o=n(33),v=n(1215),x=n(37),M=n(59),a=n(273),f=n(225),_=n(185),T=n(227),f=n(225),s=n(1187),C=n(332),R=n(776),m=n(1190),p=n(34),S=n(7),w=n(724),P=n(78),k=n(52),B=n(799),u=n(525),r=T.contexts.RECORDING,F=f.limits,l=F.MAX_DURATION,c=F.MIN_DURATION,y=1e4,E=2e3,L=1e3,g=32,e.exports=b=h.createClass({displayName:"VoiceRecordingContext",propTypes:{activeSide:h.PropTypes.string.isRequired,definitionCustomAudio:h.PropTypes.object,definitionCustomAudioLuid:h.PropTypes.string,definitionTtsAudioUrl:h.PropTypes.string,enabled:h.PropTypes.bool.isRequired,isMac:h.PropTypes.bool.isRequired,isUpgraded:h.PropTypes.bool.isRequired,onClose:h.PropTypes.func.isRequired,onCloseVoiceRecordingPermissionsModal:h.PropTypes.func.isRequired,onOpenVoiceRecordingPermissionsModal:h.PropTypes.func.isRequired,onScrollToOffset:h.PropTypes.func.isRequired,recorderState:h.PropTypes.shape({error:h.PropTypes.any,errorCode:h.PropTypes.oneOf(function(){var e,t;e=f.errors,t=[];for(N in e)q.call(e,N)&&(I=e[N],t.push(I));return t}()),hasBlockingUpsellBeenDismissed:h.PropTypes.bool.isRequired,implementation:h.PropTypes.oneOf(function(){var e,t;e=f.implementations,t=[];for(N in e)q.call(e,N)&&(D=e[N],t.push(D));return t}()),initialized:h.PropTypes.bool.isRequired,permissions:h.PropTypes.oneOf(function(){var e,t;e=f.permissions,t=[];for(N in e)q.call(e,N)&&(U=e[N],t.push(U));return t}()).isRequired,status:h.PropTypes.oneOf(function(){var e,t;e=f.states,t=[];for(N in e)q.call(e,N)&&(O=e[N],t.push(O));return t}()).isRequired,volume:h.PropTypes.number.isRequired,wasZoomReset:h.PropTypes.bool.isRequired}),setLuid:h.PropTypes.string.isRequired,term:h.PropTypes.object.isRequired,termCustomAudio:h.PropTypes.object,termCustomAudioLuid:h.PropTypes.string,termLuid:h.PropTypes.string.isRequired,voiceRecordingUpsellImage:h.PropTypes.string.isRequired,wordCustomAudio:h.PropTypes.object,wordCustomAudioLuid:h.PropTypes.string,wordTtsAudioUrl:h.PropTypes.string},mixins:[m,R,d],getInitialState:function(){return{lastDeletedCustomAudioLuid:null,playbackPercentage:0,recordingStarted:null,showErrorOrUndo:!1,spaceHeldDown:!1}},componentDidMount:function(){if(this.props.enabled)return this.onOpen(),this.startVolumeTick(),this.isPermissionNeeded()&&this.onNeedsPermission(),this.isPermissionGranted()&&this.onGrantedPermission(),this.isPermissionDenied()?this.onDeniedPermission():void 0},componentWillUnmount:function(){return this.onClose()},componentDidUpdate:function(e,t){var n,i,r,o,a,u,l,c,d,p,h,f,m,g,_,v;if(c=!e.enabled&&this.props.enabled,l=e.enabled&&!this.props.enabled,n=e.activeSide!==this.props.activeSide,d=!e.isUpgraded&&this.props.isUpgraded,m=e.recorderState.status!==this.props.recorderState.status,a=e.recorderState.errorCode!==this.props.recorderState.errorCode,u=e.recorderState.implementation!==this.props.recorderState.implementation,p=e.recorderState.permissions!==this.props.recorderState.permissions,_=e.wordCustomAudioLuid!==this.props.wordCustomAudioLuid,v=_&&null==this.props.wordCustomAudioLuid,g=_&&null!=this.props.wordCustomAudioLuid,r=e.definitionCustomAudioLuid!==this.props.definitionCustomAudioLuid,o=r&&null==this.props.definitionCustomAudioLuid,i=r&&null!=this.props.definitionCustomAudioLuid,h=g&&"word"===this.props.activeSide||i&&"definition"===this.props.activeSide,f=v&&"word"===this.props.activeSide||o&&"definition"===this.props.activeSide,this.startVolumeTick(),timeoutSet(0,function(){if(d)return s.init()}),c&&this.onOpen(),l&&this.onClose(),this.hasError()&&(m||a)&&this.onError(),n&&this.onSideChanged(),h&&this.onRecordingAdded(),f&&this.onRecordingDeleted(),u&&this.isPermissionNeeded()&&this.onNeedsPermission(),(p||this.wasZoomReset())&&this.isPermissionDenied()&&this.onDeniedPermission(),p&&this.isPermissionGranted()&&this.onGrantedPermission(),(n||m)&&!f)return this.hideUndoNotice()},keyDownListener:null,keyUpListener:null,onOpen:function(){return this.keyDownListener=o.listen(t.document,"keydown",this.onKeyDown),this.keyUpListener=o.listen(t.document,"keyup",this.onKeyUp),x.setScope(this.props.termLuid),x(a.recording.recordWord,this.props.termLuid,function(e){return function(){return e.switchToSide("word"),!1}}(this)),x(a.recording.recordDefinition,this.props.termLuid,function(e){return function(){return e.switchToSide("definition"),!1}}(this)),x(a.recording.nextRow,this.props.termLuid,function(e){return function(){return e.switchToOffsetRow(1)&&e.props.onScrollToOffset(1),!1}}(this)),x(a.recording.prevRow,this.props.termLuid,function(e){return function(){return e.switchToOffsetRow(-1)&&e.props.onScrollToOffset(-1),!1}}(this)),x(a.recording.playOrRestoreRecording,this.props.termLuid,function(e){return function(){return e.hasRecording()?e.togglePlayingRecording():e.hasUndo()&&e.undoDelete(),!1}}(this)),x(a.recording.deleteRecording,this.props.termLuid,function(e){return function(){return e.deleteRecording(),!1}}(this))},onClose:function(){var e,t;return this.isRecording()&&s.cancel(),this.stopPlayingRecording(),this.stopRecordingTick(),this.stopVolumeTick(),null!=(e=this.keyDownListener)&&e.remove(),null!=(t=this.keyUpListener)&&t.remove(),x.unbind(a.recording.recordWord,this.props.termLuid),x.unbind(a.recording.recordDefinition,this.props.termLuid),x.unbind(a.recording.nextRow,this.props.termLuid),x.unbind(a.recording.prevRow,this.props.termLuid),x.unbind(a.recording.playOrRestoreRecording,this.props.termLuid),x.unbind(a.recording.deleteRecording,this.props.termLuid),timeoutClear(this.tooShortTimeout)},tooShortTimeout:null,onError:function(){switch(this.getErrorCode()){case f.errors.TOO_SHORT:return this.showErrorOrUndo(),timeoutClear(this.tooShortTimeout),this.tooShortTimeout=timeoutSet(E,function(e){return function(){return e.hideErrorOrUndo()}}(this));case f.errors.SAVE_ERROR:return this.showErrorOrUndo();case f.errors.MIC_MUTED:return timeoutClear(this.waitForPermissionsTimeout),this.closePermissions();case f.errors.BAD_ZOOM:if(!this.wasZoomReset())return o.listen(t.window,"resize",function(e){return function(){var t;if(s.resetZoom(),(null!=(t=e.props)?t.enabled:void 0)&&e.isMounted())return e.openFlashPermissions()}}(this))}},onSideChanged:function(){return this.stopPlayingRecording(),this.hideUndoNotice(),this.hideErrorOrUndo(),timeoutClear(this.tooShortTimeout)},onRecordingAdded:function(){return this.playRecording(),this.hideUndoNotice()},onRecordingDeleted:function(){return timeoutClear(this.tooShortTimeout),this.showErrorOrUndo()},waitForPermissionsTimeout:null,onNeedsPermission:function(){return this.waitForPermissionsTimeout=timeoutSet(L,function(e){return function(){return e.isUsingFlashPlugin()?e.openFlashPermissions():e.openPermissions()}}(this))},onDeniedPermission:function(){return timeoutClear(this.waitForPermissionsTimeout),this.closePermissions()},onGrantedPermission:function(){return timeoutClear(this.waitForPermissionsTimeout),this.closePermissions()},onSwitchActiveSide:function(e,t){return t.preventDefault(),this.switchToSide(e)},switchToSide:function(e){if(e!==this.props.activeSide&&!this.isRecording())return C.activateSide(this.props.termLuid,e)},switchToOffsetRow:function(e){return!!this.canRecord()&&(C.activateOffsetRowContext(this.props.termLuid,e,r),!0)},onPlayTtsAudio:function(e,t){if(t.preventDefault(),null!=e)return s.stopAllAudio(),s.playAudio(e)},onKeyDown:function(e){if(e.keyCode===g&&(e.preventDefault(),!this.state.spaceHeldDown&&this.canRecord()))return this.setState({spaceHeldDown:!0}),this.startRecording()},onKeyUp:function(e){if(e.keyCode===g&&(e.preventDefault(),this.state.spaceHeldDown&&this.isRecording()))return this.setState({spaceHeldDown:!1}),this.stopRecording()},onStopPlayingRecording:function(e){return e.preventDefault(),this.stopPlayingRecording()},onPlayRecording:function(e,t){return t.preventDefault(),this.playRecording(e)},onDeleteRecording:function(e,t){return t.preventDefault(),this.deleteRecording(e)},onReload:function(e){return e.preventDefault(),t.window.location.reload()},onClickCloseBlockingUpsell:function(e){return e.preventDefault(),s.dismissUpsell()},canRecord:function(){return this.isUpgraded()&&this.isPermissionGranted()&&!this.isPlayingRecording()&&(this.isStopped()||this.hasNonUIBlockingError())},isUpgraded:function(){return this.props.isUpgraded},isPlayingRecording:function(){return this.state.playbackPercentage>0},getRecording:function(e){return null==e&&(e=this.props.activeSide),"word"===e?this.props.wordCustomAudio:this.props.definitionCustomAudio},getRecordingLuid:function(e){return null==e&&(e=this.props.activeSide),"word"===e?this.props.wordCustomAudioLuid:this.props.definitionCustomAudioLuid},hasRecording:function(e){return null!=this.getRecording(e)},getRecordingUrl:function(e){var t;return null!=(t=this.getRecording(e))?t._url.replace("http://","https://"):void 0},getRecordingDuration:function(){return Date.now()-this.state.recordingStarted},getTtsUrl:function(e){return null==e&&(e=this.props.activeSide),"word"===e?this.props.wordTtsAudioUrl:this.props.definitionTtsAudioUrl},hasTts:function(e){return null!=this.getTtsUrl(e)},showErrorOrUndo:function(){if(!this.state.showErrorOrUndo)return this.setState({showErrorOrUndo:!0})},hideErrorOrUndo:function(){if(this.state.showErrorOrUndo)return this.setState({showErrorOrUndo:!1})},hasUndo:function(){return null!=this.state.lastDeletedCustomAudioLuid},hideUndoNotice:function(){if(null!=this.state.lastDeletedCustomAudioLuid)return this.setState({lastDeletedCustomAudioLuid:null})},undoDelete:function(){return s.createTermCustomAudio(this.state.lastDeletedCustomAudioLuid,this.props.setLuid,this.props.termLuid,this.props.activeSide,this.props.termCustomAudioLuid),this.setState({lastDeletedCustomAudioLuid:null})},onUndoDelete:function(e){return e.preventDefault(),this.undoDelete()},recordingTick:null,stopRecordingTick:function(){return M.cancel(this.recordingTick),this.recordingTick=null},startRecordingTick:function(){if(null==this.recordingTick)return this.stopRecordingTick(),this.recordingTick=M(this.onRecordingTick)},onRecordingTick:function(){return this.isRecording()&&this.isMounted()?(this.forceUpdate(),M(this.onRecordingTick)):this.stopRecordingTick()},volumeTick:null,stopVolumeTick:function(){return M.cancel(this.volumeTick),this.volumeTick=null},startVolumeTick:function(){if(null==this.volumeTick)return this.stopVolumeTick(),this.volumeTick=M(this.onVolumeTick)},onVolumeTick:function(){return this.canRecord()&&!this.hasRecording()&&this.isMounted()?(s.getVolume(),M(this.onVolumeTick)):this.stopVolumeTick()},onOpenFlashPermissions:function(e){return e.preventDefault(),this.openFlashPermissions()},openPermissions:function(){return this.props.onOpenVoiceRecordingPermissionsModal()},closePermissions:function(){return this.props.onCloseVoiceRecordingPermissionsModal()},openFlashPermissions:function(){return s.needsPermission(),this.openPermissions()},startRecording:function(){if(this.canRecord())return s.record(this.props.setLuid,this.props.termLuid,this.props.activeSide,this.props.termCustomAudioLuid),this.setState({recordingStarted:Date.now()},this.onRecordingTick)},stopRecording:function(){if(this.isRecording())return t.logPageAction("new_create_set_recording_stopped"),s.stop()},playRecording:function(e){var t;if(this.hasRecording(e))return t=this.getRecordingUrl(e),s.preloadAudio(t,{onError:function(){},onLoad:function(e){return function(n){var i,r;if(e.isMounted()&&!e.isUnmounting())return e.stopPlayingRecording(),r=new P({playbackPercentage:0}).to({playbackPercentage:105}).duration(n).update(function(t){if(e.isMounted()&&!e.isUnmounting())return e.setState(t)}).on("end",function(){if(e.isMounted()&&!e.isUnmounting())return e.setState({playbackPercentage:0})}).start(),i=function(){return r&&r.stop()},s.playAudio(t,{onStop:i,onError:i,onFinish:i})}}(this)})},stopPlayingRecording:function(){return s.stopAllAudio()},togglePlayingRecording:function(){return this.isPlayingRecording()?this.stopPlayingRecording():this.playRecording()},deleteRecording:function(e){var t;if(this.hasRecording(e))return this.stopPlayingRecording(),t=this.getRecordingLuid(e),s.delete(t,this.props.setLuid,this.props.termLuid,this.props.activeSide,this.props.termCustomAudioLuid),this.setState({lastDeletedCustomAudioLuid:t})},renderSide:function(e){return h.createElement("div",{className:"VoiceRecordingContext-sideWrap"},this.renderRecordingArea(e),this.renderTtsLink(e))},renderRecordingArea:function(e){return e!==this.props.activeSide?this.renderSwitchSidesLink(e):this.isRecording()?this.renderCurrentlyRecording(e):this.isLackingRecordingPlugin()?this.renderNoPlugin():this.isZoomBad()?this.renderBadZoom():this.isPermissionDenied()?this.renderMicPermissionsDenied():this.isMicMuted()?this.renderMicMuted():this.isWaitingForMic()?this.renderWaitingForMic():this.isSavingRecording()||this.isUploadingRecording()?this.renderLoadingRecording():this.hasRecording(e)?this.renderExistingRecording(e):this.renderNoRecording(e)},renderSwitchSidesLink:function(e){var t,n;return t=A({"VoiceRecordingContext-workspace":!0,"VoiceRecordingContext-workspace--switchSideLink":!0,"has-recording":this.hasRecording(e)}),n="word"===e?h.createElement(S,{_precomputed:i("en-US","Switch to term",{})}):h.createElement(S,{_precomputed:i("en-US","Switch to definition",{})}),h.createElement("a",{className:t,onClick:this.onSwitchActiveSide.bind(null,e)},h.createElement("div",{className:"VoiceRecordingContext-workspaceWrap"},h.createElement("span",{className:"VoiceRecordingContext-workspaceCell"},n)))},renderCurrentlyRecording:function(){var e,t,n,r,s,o;return this.isRecording()?(t=this.getRecordingDuration(),r=l-t<=y,s=Math.floor(t/1e3)+Math.floor(t%1e3/10)/100,o=r?h.createElement("h6",{className:"VoiceRecordingContext-headline"},h.createElement(S,{_precomputed:i("en-US","Approaching the limit of {duration, plural, other {# seconds}}!",{duration:l/1e3})})):null,n={number:{stopwatch:{minimumFractionDigits:2,maximumFractionDigits:2}}},e=A({"VoiceRecordingContext-workspace":!0,"VoiceRecordingContext-workspace--currentlyRecording":!0,"VoiceRecordingContext-workspace--currentlyLongRecording":r}),h.createElement("div",{className:e},h.createElement("div",{className:"VoiceRecordingContext-workspaceWrap"},h.createElement("div",{className:"VoiceRecordingContext-workspaceCell"},h.createElement("h4",{className:"VoiceRecordingContext-headline"},h.createElement(S,{_precomputed:i("en-US","Recording…",{})})),o),h.createElement("div",{className:"VoiceRecordingContext-workspaceCell VoiceRecordingContext-workspaceCell--controls"},h.createElement("h4",{className:"VoiceRecordingContext-headline"},h.createElement(S,{_precomputed:i("en-US","{seconds, number, stopwatch}",{seconds:s,formats:n})})," ",h.createElement(S,{_precomputed:i("en-US","{seconds, plural, one {sec} other {secs}}",{seconds:s})})))))):null},renderExistingRecording:function(e){var t,n,r,s,o,a;return!this.hasRecording(e)||this.isRecording()?null:(r=this.isPlayingRecording()?h.createElement("a",{href:"#",className:"VoiceRecordingContext-control VoiceRecordingContext-control--stop",onClick:this.onStopPlayingRecording},h.createElement("span",{className:"QIcon icon VoiceRecordingContext-fakeStopIcon"})):h.createElement("a",{href:"#",className:"VoiceRecordingContext-control VoiceRecordingContext-control--play",onClick:this.onPlayRecording.bind(null,e)},h.createElement(p,{icon:"play"})),this.canRecord()||this.isPlayingRecording()?(n=h.createElement("h4",{className:"VoiceRecordingContext-headline"},h.createElement(S,{_precomputed:i("en-US","Recording saved",{})})),a=h.createElement("h6",{className:"VoiceRecordingContext-headline"},h.createElement(S,{_precomputed:i("en-US","Hold <kbd>spacebar</kbd> to re-record",{})}))):(n=h.createElement("h4",{className:"VoiceRecordingContext-headline"},h.createElement(S,{_precomputed:i("en-US","Upgrade to re-record",{})})),a=h.createElement("a",{href:"/features/voice-recording?source=recording_new",target:"_blank",className:"VoiceRecordingContext-button VoiceRecordingContext-button--existingRecording white button"},h.createElement(S,{_precomputed:i("en-US","Learn More",{})}))),s=this.isPlayingRecording()?(o={right:""+Math.max(0,100-this.state.playbackPercentage)+"%"},h.createElement("div",{className:"VoiceRecordingContext-playbackFill",style:o})):null,t=this.renderError(),h.createElement("div",{className:"VoiceRecordingContext-workspace VoiceRecordingContext-workspace--existingRecording"},h.createElement("div",{className:"VoiceRecordingContext-workspaceWrap"},h.createElement("div",{className:"VoiceRecordingContext-workspaceCell"},n,a),h.createElement("div",{className:"VoiceRecordingContext-workspaceCell VoiceRecordingContext-workspaceCell--controls"},r,h.createElement("a",{href:"#",className:"VoiceRecordingContext-control VoiceRecordingContext-control--delete",onClick:this.onDeleteRecording.bind(null,e)},h.createElement(p,{icon:"x"})))),t,s))},renderLoadingRecording:function(){return this.isSavingRecording()||this.isUploadingRecording()?h.createElement("div",{className:"VoiceRecordingContext-workspace VoiceRecordingContext-workspace--loading"},h.createElement("div",{className:"VoiceRecordingContext-workspaceWrap"},h.createElement("div",{className:"VoiceRecordingContext-workspaceCell"},h.createElement("h4",{className:"VoiceRecordingContext-headline"},h.createElement(S,{_precomputed:i("en-US","Loading…",{})}))))):null},renderNoRecording:function(e){return this.hasRecording(e)?null:this.isUpgraded()?this.renderRecordPrompt():this.renderUpsell()},renderNoPlugin:function(){var e,t;return t="<a href='http://get.adobe.com/flashplayer/' target='_blank'>"+i("en-US","Upgrade flash")+"</a>",e="<a href='https://www.google.com/chrome/' target='_blank'>"+i("en-US","install chrome")+"</a>",this.isLackingRecordingPlugin()?h.createElement("div",{className:"VoiceRecordingContext-workspace VoiceRecordingContext-workspace--noPlugin"},h.createElement("div",{className:"VoiceRecordingContext-workspaceWrap"},h.createElement("div",{className:"VoiceRecordingContext-workspaceCell"},h.createElement("h4",{className:"VoiceRecordingContext-headline"},h.createElement(S,{_precomputed:i("en-US","Voice Recording isn’t supported",{})})),h.createElement("h6",{className:"VoiceRecordingContext-headline"},h.createElement(S,{_precomputed:i("en-US","{flashLink} or {chromeLink} to use Voice Recording.",{flashLink:t,chromeLink:e})}))))):null},renderMicPermissionsDenied:function(){var e;return this.isPermissionDenied()?(e=this.isUsingFlashPlugin()?h.createElement("a",{href:"#",onClick:this.onReload},h.createElement(S,{_precomputed:i("en-US","Reload to try again",{})})):h.createElement("a",{href:"/help/2444120/faq-how-to-use-voice-recording",target:"_blank"},h.createElement(S,{_precomputed:i("en-US","Need help recording?",{})})),h.createElement("div",{className:"VoiceRecordingContext-workspace VoiceRecordingContext-workspace--recordingPrompt"},h.createElement("div",{className:"VoiceRecordingContext-workspaceWrap"},h.createElement("div",{className:"VoiceRecordingContext-workspaceCell"},h.createElement("h4",{className:"VoiceRecordingContext-headline"},h.createElement(S,{_precomputed:i("en-US","We can’t access your microphone!",{})})),h.createElement("h6",{className:"VoiceRecordingContext-headline"},e)),h.createElement("div",{className:"VoiceRecordingContext-workspaceCell VoiceRecordingContext-workspaceCell--micLevels"},h.createElement("div",{className:"VoiceRecordingContext-micWrap"},h.createElement(p,{icon:"mic",className:"VoiceRecordingContext-icon stroked"}),h.createElement(p,{icon:"x",className:"VoiceRecordingContext-icon"})))))):null},renderMicMuted:function(){var e;return e='<a href="/help/2444123/faq-is-my-mic-not-working" target="_blank">'+i("en-US","this FAQ")+"</a>",this.isMicMuted()?h.createElement("div",{className:"VoiceRecordingContext-workspace VoiceRecordingContext-workspace--recordingPrompt"},h.createElement("div",{className:"VoiceRecordingContext-workspaceWrap"},h.createElement("div",{className:"VoiceRecordingContext-workspaceCell"},h.createElement("h4",{className:"VoiceRecordingContext-headline"},h.createElement(S,{_precomputed:i("en-US","Your microphone is muted",{})})),h.createElement("h6",{className:"VoiceRecordingContext-headline"},h.createElement(S,{_precomputed:i("en-US","For help fixing this issue, see {faqLink}.",{faqLink:e})}))),h.createElement("div",{className:"VoiceRecordingContext-workspaceCell VoiceRecordingContext-workspaceCell--micLevels"},h.createElement("div",{className:"VoiceRecordingContext-micWrap"},h.createElement(p,{icon:"mic",className:"VoiceRecordingContext-icon stroked"}),h.createElement(p,{icon:"x",className:"VoiceRecordingContext-icon"}))))):null},renderBadZoom:function(){var e,t,n,r,s,o,l;if(!this.isZoomBad())return null;if(this.wasZoomReset())return this.renderWaitingForMic();for(e=new u(this.props.isMac),r=e.getKeys(a.recording.resetZoom),s="",t=o=0,l=r.length;o<l;t=++o)n=r[t],s+="<kbd>"+n+"</kbd>",t!==r.length-1&&(s+="<span> + </span>");return h.createElement("div",{className:"VoiceRecordingContext-workspace VoiceRecordingContext-workspace--recordingPrompt"},h.createElement("div",{className:"VoiceRecordingContext-workspaceWrap"},h.createElement("div",{className:"VoiceRecordingContext-workspaceCell"},h.createElement("h4",{className:"VoiceRecordingContext-headline"},h.createElement(S,{_precomputed:i("en-US","Press {resetZoom} to reset your zoom",{resetZoom:s})})),h.createElement("h6",{className:"VoiceRecordingContext-headline"},h.createElement(S,{_precomputed:i("en-US","Your browser needs to be zoomed to a normal size to record audio.",{})}))),h.createElement("div",{className:"VoiceRecordingContext-workspaceCell VoiceRecordingContext-workspaceCell--micLevels"},h.createElement("div",{className:"VoiceRecordingContext-micWrap"},h.createElement(p,{icon:"mic",className:"VoiceRecordingContext-icon stroked"}),h.createElement(p,{icon:"x",className:"VoiceRecordingContext-icon"})))))},renderWaitingForMic:function(){var e;return this.isWaitingForMic()||this.isZoomBad()&&this.wasZoomReset()?(e=this.isUsingFlashPlugin()?h.createElement("h6",{className:"VoiceRecordingContext-headline"},h.createElement("a",{href:"#",onClick:this.onOpenFlashPermissions},h.createElement(S,{_precomputed:i("en-US","Open Flash permissions",{})}))):null,h.createElement("div",{className:"VoiceRecordingContext-workspace VoiceRecordingContext-workspace--recordingPrompt"},h.createElement("div",{className:"VoiceRecordingContext-workspaceWrap"},h.createElement("div",{className:"VoiceRecordingContext-workspaceCell"},h.createElement("h4",{className:"VoiceRecordingContext-headline"},h.createElement(S,{_precomputed:i("en-US","Waiting for microphone…",{})})),e),h.createElement("div",{className:"VoiceRecordingContext-workspaceCell VoiceRecordingContext-workspaceCell--micLevels"},h.createElement("div",{className:"VoiceRecordingContext-micWrap"},h.createElement(p,{icon:"info",className:"VoiceRecordingContext-icon"})))))):null},renderRecordPrompt:function(){var e,t;return this.isUpgraded()?(t={maxHeight:""+Math.round(100*this.getVolume())+"%"},e=this.renderError(),h.createElement("div",{className:"VoiceRecordingContext-workspace VoiceRecordingContext-workspace--recordingPrompt"},h.createElement("div",{className:"VoiceRecordingContext-workspaceWrap"},h.createElement("div",{className:"VoiceRecordingContext-workspaceCell"},h.createElement("h4",{className:"VoiceRecordingContext-headline"},h.createElement(S,{_precomputed:i("en-US","Hold <kbd>spacebar</kbd> to record",{})}))),h.createElement("div",{className:"VoiceRecordingContext-workspaceCell VoiceRecordingContext-workspaceCell--micLevels"},h.createElement("div",{className:"VoiceRecordingContext-micWrap"},h.createElement("div",{className:"VoiceRecordingContext-micFill",style:t},h.createElement(p,{icon:"mic",className:"VoiceRecordingContext-icon"})),h.createElement(p,{icon:"mic",className:"VoiceRecordingContext-icon stroked"})))),e)):null},renderError:function(){var e;return this.state.showErrorOrUndo&&(this.hasNonUIBlockingError()||this.hasUndo())?(e=function(){if(this.hasUndo())return h.createElement("div",{className:"VoiceRecordingContext-errorMessage"},h.createElement(S,{_precomputed:i("en-US","Voice recording deleted.",{})})," ",h.createElement("a",{href:"#",onClick:this.onUndoDelete},h.createElement(S,{_precomputed:i("en-US","Undo",{})})),".");switch(this.getErrorCode()){case f.errors.TOO_SHORT:return h.createElement("div",{className:"VoiceRecordingContext-errorMessage"},h.createElement(S,{_precomputed:i("en-US","Hold down <kbd>SPACEBAR</kbd> longer this time.",{})}));case f.errors.SAVE_ERROR:case f.errors.BAD_SAMPLE_RATE:return h.createElement("div",{className:"VoiceRecordingContext-errorMessage"},h.createElement(S,{_precomputed:i("en-US","Sorry! Something went wrong.",{})}))}}.call(this),h.createElement("div",{className:"VoiceRecordingContext-error"},e)):null},renderUpsell:function(){return this.isUpgraded()?null:h.createElement("div",{className:"VoiceRecordingContext-workspace VoiceRecordingContext-workspace--upsell"},h.createElement("div",{className:"VoiceRecordingContext-workspaceWrap"},h.createElement("div",{className:"VoiceRecordingContext-workspaceCell"},h.createElement("h4",{className:"VoiceRecordingContext-headline"},h.createElement(S,{_precomputed:i("en-US","Upgrade to record your own voice",{})})),h.createElement("a",{href:"/upgrade?source=recording_new",target:"_blank",className:"VoiceRecordingContext-button VoiceRecordingContext-learnMoreButton button"},h.createElement(S,{_precomputed:i("en-US","Learn more",{})}))),h.createElement("div",{className:"VoiceRecordingContext-workspaceCell VoiceRecordingContext-workspaceCell--upsellImage"},h.createElement("img",{src:this.props.voiceRecordingUpsellImage}))))},renderBlockingUpsell:function(){return this.isUpgraded()||this.hasBlockingUpsellBeenDismissed()?null:h.createElement("div",{className:"VoiceRecordingContext-blockingUpsell"},h.createElement("div",{className:"VoiceRecordingContext-blockingUpsellWrap"},h.createElement("div",{className:"VoiceRecordingContext-blockingUpsellCell VoiceRecordingContext-blockingUpsellCell--image"},h.createElement("img",{src:this.props.voiceRecordingUpsellImage})),h.createElement("div",{className:"VoiceRecordingContext-blockingUpsellCell VoiceRecordingContext-blockingUpsellCell--text"},h.createElement("h3",null,h.createElement(S,{_precomputed:i("en-US","Upgrade to record your own voice",{})})),h.createElement("a",{href:"/upgrade?source=recording_new",target:"_blank",className:"VoiceRecordingContext-button VoiceRecordingContext-learnMoreButton button"},h.createElement(S,{_precomputed:i("en-US","Learn more",{})})))),h.createElement("a",{href:"#",className:"VoiceRecordingContext-blockingUpsellClose",onClick:this.onClickCloseBlockingUpsell},h.createElement(S,{_precomputed:i("en-US","Close",{})})))},renderTtsLink:function(e){var t,n,r,s;return s=this.getTtsUrl(e),t=A({"VoiceRecordingContext-playTtsAudio":!0,"is-invalidUrl":null==s}),r="word"===e?i("en-US","No Quizlet audio for this term"):i("en-US","No Quizlet audio for this definition"),n=null!=s?i("en-US","Listen to Quizlet audio"):r,h.createElement("a",{href:"#",className:t,onClick:this.onPlayTtsAudio.bind(null,s)},h.createElement(p,{icon:"audio"}),h.createElement("span",{className:"VoiceRecordingContext-playTtsAudioLabel"},n))},render:function(){var e,t,n,r,s;return s=this.renderSide("word"),n=this.renderSide("definition"),r=this.isUpgraded()?h.createElement("a",{className:"VoiceRecordingContext-helpLink",target:"_blank",href:"/help/2444120/faq-how-to-use-voice-recording"},h.createElement(S,{_precomputed:i("en-US","Need help recording?",{})})):null,e=this.renderBlockingUpsell(),t=A({VoiceRecordingContext:!0}),h.createElement("div",{className:t},h.createElement(w,{title:i("en-US","Record your own voice"),onClose:this.props.onClose}),h.createElement("div",{className:"VoiceRecordingContext-wrapper"},h.createElement("div",{className:"VoiceRecordingContext-main"},h.createElement("div",{className:"VoiceRecordingContext-side VoiceRecordingContext-side--word"},s),h.createElement("div",{className:"VoiceRecordingContext-side VoiceRecordingContext-side--definition"},n)),h.createElement("div",{className:"VoiceRecordingContext-aside"},r)),e)}})}).call(t,n(2),n(6))},171:function(e,t,n){"use strict";function i(e,t){return r?e.localeCompare(t,["en-US","en-US"]):e.localeCompare(t)}t.__esModule=!0,t.default=i;var r=function(){try{"foo".localeCompare("bar","i")}catch(e){return"RangeError"===e.name}return!1}();e.exports=t.default},179:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(27),s=n(20),o=i(s),a=n(185),u=i(a),l=n(263),c=i(l),d=n(827),p=i(d),h=n(828),f=i(h),m=n(1188),g=i(m),_=n(74),v=i(_),S=n(512),y=i(S),E=n(25),C=i(E),T=n(137),w=i(T),P={setSyncer:c.default,update:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];n&&(P.maybeDetectProfanity(e,t),this.setSyncer.save(e,t).then(P.updateSuccess).catch(P.updateFailure)),o.default.viewAction(u.default.actions.UPDATE,{luid:e,props:t})},updateLang:function(e,t,n){var i="word"===t?"wordLang":"defLang",r=(0,C.default)(i,n);return P.update(e,r)},updateSuccess:function(e){var t=e[0],n=e[1];o.default.serverAction(u.default.actions.UPDATE_SUCCESS,{
luid:t,model:n})},updateFailure:function(e){var t=e[0],n=e[1],i=e[2];o.default.serverAction(u.default.actions.UPDATE_FAILURE,{luid:n,model:i,error:t})},discard:function(e){return o.default.viewAction(u.default.actions.DISCARD,{luid:e}),this.setSyncer.del(e).then(P.discardSuccess).catch(P.discardFailure)},discardSuccess:function(e){var t=e[0],n=e[1];o.default.serverAction(u.default.actions.DISCARD_SUCCESS,{luid:t,model:n})},discardFailure:function(e){var t=e[0],n=e[1],i=e[2];o.default.serverAction(u.default.actions.DISCARD_FAILURE,{luid:n,model:i,error:t})},publish:function(){o.default.viewAction(u.default.actions.PUBLISH)},publishSync:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Math.max((0,w.default)(),1),i=this.setSyncer.getModel(e),r=i.get("publishedTimestamp")||n;return t.publishedTimestamp=r,this.setSyncer.save(e,t).then(function(e){var t=e[0],n=e[1];g.default.persistClassSetsForPermissions(t).then(function(){return P.publishSuccess([t,n])})}).catch(P.publishFailure)},publishSuccess:function(e){var t=e[0],n=e[1];o.default.serverAction(u.default.actions.PUBLISH_SUCCESS,{luid:t,model:n})},publishFailure:function(e){var t=e[0],n=e[1],i=e[2];o.default.serverAction(u.default.actions.PUBLISH_FAILURE,{luid:n,model:i,error:t})},focusTitle:function(){o.default.viewAction(u.default.actions.FOCUS_TITLE)},showTerms:function(){o.default.viewAction(u.default.actions.SHOW_TERMS)},hideTerms:function(){o.default.viewAction(u.default.actions.HIDE_TERMS)},detectLanguage:function(e,t,n){var i=n.replace(/[0-9\*]/g,"");return i=(0,v.default)((0,y.default)(i)),i.length&&(n=i),o.default.viewAction(u.default.actions.DETECT_LANGUAGE,{text:n,side:t,luid:e}),p.default.get({text:n}).then(function(n){return o.default.serverAction(u.default.actions.DETECT_LANGUAGE_SUCCESS,{luid:e,side:t,detectLanguageResults:n[0]})}).catch(function(n){return o.default.serverAction(u.default.actions.DETECT_LANGUAGE_FAILURE,{luid:e,side:t,error:n})})},showLangSelect:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];o.default.viewAction(u.default.actions.SHOW_LANG_SELECT,{side:t,luid:e,row:n,triggerAutodefine:i})},hideLangSelect:function(){o.default.viewAction(u.default.actions.HIDE_LANG_SELECT)},maybeDetectProfanity:function(e,t){return t.title||t.description?new r.Promise(function(){var n=void 0,i=void 0;return"undefined"!=typeof t.title?(n="title",i=t.title):"undefined"!=typeof t.description&&(n="description",i=t.description),f.default.get({text:i}).then(function(t){return o.default.serverAction(u.default.actions.DETECT_PROFANITY_SUCCESS,{luid:e,field:n,results:t[0]})}).catch(function(t){return o.default.serverAction(u.default.actions.DETECT_PROFANITY_FAILURE,{luid:e,error:t})})}):r.Promise.resolve()},maybeCreateSet:function(e){var t=this;return new r.Promise(function(n,i){var r=t.setSyncer.getModel(e);return r.isNewRecord()?(r.clientValidationsHaveRun=!1,t.setSyncer.save(e,{}).then(function(e){var t=e[0],i=e[1],r=i.get("id");return n(r),P.updateSuccess([t,i])}).catch(function(e){var t=e[0],n=e[1],r=e[2];return i(t),P.updateFailure([t,n,r])})):n(r.get("id"))})}};t.default=P,e.exports=t.default},180:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(105),s=i(r),o={shallowUnequal:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.shallowUnequalState(t,n)||this.shallowUnequalProps(e,n)},shallowUnequalState:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return!(0,s.default)(this.state,e,t)},shallowUnequalProps:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return!(0,s.default)(this.props,e,t)}};t.default=o,e.exports=t.default},185:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(15),s=i(r),o=(0,s.default)("SetConstants",{actions:{UPDATE:null,UPDATE_SUCCESS:null,UPDATE_FAILURE:null,DISCARD:null,DISCARD_SUCCESS:null,DISCARD_FAILURE:null,PUBLISH:null,PUBLISH_SUCCESS:null,PUBLISH_FAILURE:null,DETECT_LANGUAGE:null,DETECT_LANGUAGE_SUCCESS:null,DETECT_LANGUAGE_FAILURE:null,DETECT_PROFANITY_SUCCESS:null,DETECT_PROFANITY_FAILURE:null,FOCUS_TITLE:null,SHOW_LANG_SELECT:null,HIDE_LANG_SELECT:null,SHOW_TERMS:null,HIDE_TERMS:null},directions:{UP:null,DOWN:null}});o.accessTypes={PRIVATE:0,PUBLIC:2},o.limits={MAX_TERMS:2e3,MIN_TERMS:2,MIN_TERMS_BLANK_SET:5},o.privacyLockStatus={UNLOCKED:0,DMCA:1,PROPRIETARY:2,TESTBANK:3,TESTBANK_RELAXED:4},t.default=o,e.exports=t.default},20:function(e,t,n){var i,r,s,o={}.hasOwnProperty,a=function(e,t){function n(){this.constructor=e}for(var i in t)o.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};s=n(117),r=n(113),e.exports=i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return a(t,e),t.viewAction=function(e,t){return this.dispatch({source:r.VIEW_ACTION,actionType:e,payload:t})},t.serverAction=function(e,t){return this.dispatch({source:r.SERVER_ACTION,actionType:e,payload:t})},t}(s)},202:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(68),s=i(r),o=n(65),a=i(o);e.exports=function(e,t,n){for(var i=n.split("."),r=t,o=i,u=Array.isArray(o),l=0,o=u?o:(0,a.default)(o);;){var c;if(u){if(l>=o.length)break;c=o[l++]}else{if(l=o.next(),l.done)break;c=l.value}var d=c;if(!("object"===("undefined"==typeof r?"undefined":(0,s.default)(r))&&d in r)){r=null;break}r=r[d]}return r}},203:function(e,t,n){"use strict";var i=n(202);e.exports=function(e,t,n,r,s,o){var a=r,u=i(a,e,o);return u||""===u||(a=s,u=i(a,t,o),u||(u=i(a,n,o)),u||(a=null,u=o)),{esLocale:a,localizedMessage:u}}},205:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(Array.isArray(t))return t.map(function(t){return new e(t)});if(t instanceof o.default)return new e(t.properties);if(t instanceof Object){var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var r=t[i];n[i]=new e(r)}return n}return new e(t)}t.__esModule=!0,t.default=r;var s=n(23),o=i(s);e.exports=t.default},206:function(e,t,n){"use strict";(function(i){function r(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Quizlet.blackAndWhitelistObfuscatedRegexesByLang;return"undefined"==typeof c[e]&&!function(){c[e]={};var n="undefined"==typeof t[e]?d:e;(0,a.default)(t[n]).map(function(i){return c[e][i]=t[n][i]?new RegExp((0,l.default)(t[n][i]),"ig"):null,null})}(),c[e]}t.__esModule=!0;var o=n(11),a=r(o);t.default=s;var u=n(209),l=r(u),c={},d="en";e.exports=t.default}).call(t,n(2))},207:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n=(0,o.default)(t);if(!n||!n.black)return!1;var i=e;return i&&n.white&&(i=i.replace(n.white,"")),!!(" "+i+" ").match(n.black)}t.__esModule=!0,t.default=r;var s=n(206),o=i(s);e.exports=t.default},208:function(e,t,n){"use strict";function i(e){return(""+e).replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1<br>")}t.__esModule=!0,t.default=i,e.exports=t.default},209:function(e,t,n){"use strict";function i(e){return e.replace(/[a-zA-Z]/g,function(e){var t=e<="Z"?90:122,n=e.charCodeAt(0)+13;return n=t>=n?n:n-26,String.fromCharCode(n)})}t.__esModule=!0,t.default=i,e.exports=t.default},2148:function(e,t,n){(function(e){var t,i,r,s,o,a,u,l,c;e.React=i=n(0),r=n(12),t=n(1300),s=n(185),e.SetStore=n(1110),e.TermStore=n(348),e.ImageStore=n(1109),e.ClassStore=n(673),e.ErrorAlertStore=n(1100),e.ClassSetStore=n(672),e.FolderSetStore=n(674),e.SyncerStore=n(154),e.SetPermissionStore=n(676),e.TermCustomAudioStore=n(588),e.CustomAudioStore=n(659),e.RecorderStore=n(675),e.UpgradeStore=n(1101),e.UserStore=n(1102),e.SetSyncer=n(263),e.ClassSetSyncer=n(427),e.FolderSetSyncer=n(428),e.ClassSyncer=n(601),e.TermSyncer=n(265),e.TermImageSyncer=n(321),e.ImageSyncer=n(429),e.TermCustomAudioSyncer=n(264),e.CustomAudioSyncer=n(320),c=n(25),l=n(52),a=n(590),u=n(37),u.filter=function(e){var t,n,i,r,s,o;return n=e.target||e.srcElement,s=n.tagName,o=n.type,t=n.getAttribute("class"),r="INPUT"!==s&&"SELECT"!==s,i=t&&t.indexOf("js-keymaster-allow")>=0,r||i},o=function(){var n,o,a,u,d,p,h,f,m,g,_,v,S,y,E,C,T,w,P,R,b,L,A,I,D,x,U,M,O,N,k,F,B,q,V,W,H,j,G,z,K,Q,$,Z,Y,X,J,ee,te,ne,ie;return ie=e.createSetData,h=ie.classes,u=ie.classSets,g=ie.definitionCustomAudios,S=ie.facebookLoginUrl,T=ie.formattedPlusPrice,w=ie.formattedTeacherPrice,P=ie.googleLoginUrl,L=ie.images,k=ie.loginUrls,F=ie.misc,q=ie.set,H=ie.signupOrigin,z=ie.termCustomAudios,Q=ie.termImages,Z=ie.terms,X=ie.user,te=ie.wordCustomAudios,U=0===(null!=q?q.publishedTimestamp:void 0),M=null!=X,n=F.abTests,o=F.canEditPermissions,p=F.classToAddTo,v=F.enrolledAbTests,C=F.folderToAddTo,R=F.hasCreatedSets,b=F.hideAutosavePrompt,I=F.isConfirmed,D=F.isIOS,x=F.isMac,N=F.isUnderAge,O=F.isUnder18,B=F.recentLanguages,j=F.supportsStickyHeader,J=F.voiceRecordingConfig,ee=F.voiceRecordingUpsellImage,m=N&&!I?s.accessTypes.PRIVATE:s.accessTypes.PUBLIC,q||(q={accessType:m}),Z||(Z=[]),L||(L=[]),Q||(Q=[]),z||(z=[]),te||(te=[]),g||(g=[]),h||(h=[]),u||(u=[]),p&&u.push({classId:p}),y=[],C&&y.push({folderId:C}),V=SetSyncer.add(q),SetStore.setup(V,q),UserStore.setup(X),W=c(V,q),f=ClassSyncer.bulkAdd(h),d=ClassSetSyncer.bulkAdd(u),E=FolderSetSyncer.bulkAdd(y),Y=TermSyncer.bulkAdd(Z),$=TermImageSyncer.bulkAdd(Q),K=TermCustomAudioSyncer.bulkAdd(z),ne=CustomAudioSyncer.bulkAdd(te),_=CustomAudioSyncer.bulkAdd(g),A=ImageSyncer.bulkAdd(L),CustomAudioSyncer.configure(J),ClassStore.setup(f),ClassSetStore.setup(d,f,W),FolderSetStore.setup(E),ImageStore.setup(A),TermStore.setup(Y,$,A),TermCustomAudioStore.setup(K,Y,ne,_),CustomAudioStore.setup(l({},ne,_)),SetPermissionStore.setup(q,f,d,ClassSetStore.getClassMap(),o),ErrorAlertStore.setup(),RecorderStore.setup(),UpgradeStore.setup(),SyncerStore.setup({ClassSetSyncer:ClassSetSyncer,ClassSyncer:ClassSyncer,CustomAudioSyncer:CustomAudioSyncer,FolderSetSyncer:FolderSetSyncer,ImageSyncer:ImageSyncer,SetSyncer:SetSyncer,TermCustomAudioSyncer:TermCustomAudioSyncer,TermImageSyncer:TermImageSyncer,TermSyncer:TermSyncer}),CustomAudioSyncer.getAudioPlayer(),a={canEditPermissions:o,facebookLoginUrl:S,formattedPlusPrice:T,formattedTeacherPrice:w,googleLoginUrl:P,hasCreatedSets:R,hideAutosavePrompt:b,isConfirmed:I,isIOS:D,isMac:x,isResumingCreate:U,isSignedIn:M,isUnderAge:N,isUnder18:O,recentLanguages:B,signupOrigin:H,supportsStickyHeader:j,voiceRecordingUpsellImage:ee},G=e.document.getElementById("SetPageTarget"),r.render(i.createElement(t,{abTests:n,enrolledAbTests:v,childProps:a}),G)},QWait("dom","Quizlet.CreateSetData","jquery",function(){return a($),o()})}).call(t,n(2))},215:function(e,t){var n;e.exports=n={_dragCollection:[],_onDragEnter:function(e){return this._dragCollection.length||"function"==typeof this.onDragEnter&&this.onDragEnter(e),this._dragCollection=this._dragCollection.concat([e.target])},_onDragLeave:function(e){var t;if(this._dragCollection=function(){var n,i,r,s;for(r=this._dragCollection,s=[],n=0,i=r.length;n<i;n++)t=r[n],t!==e.target&&s.push(t);return s}.call(this),!this._dragCollection.length)return"function"==typeof this.onDragLeave?this.onDragLeave(e):void 0},_onDrop:function(e){return this._dragCollection=[],"function"==typeof this.onDrop?this.onDrop(e):void 0}}},216:function(e,t,n){var i=n(253);e.exports=function(e,t,n){function r(){var c=i()-u;c<t&&c>0?s=setTimeout(r,t-c):(s=null,n||(l=e.apply(a,o),s||(a=o=null)))}var s,o,a,u,l;return null==t&&(t=100),function(){a=this,o=arguments,u=i();var c=n&&!s;return s||(s=setTimeout(r,t)),c&&(l=e.apply(a,o),a=o=null),l}}},224:function(e,t,n){"use strict";(function(i){function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var s=n(8),o=r(s),a=n(13),u=r(a),l=n(0),c=r(l),d=n(12),p=r(d),h=n(33),f=r(h),m=n(10),g=r(m),_=n(180),v=r(_),S=n(245),y=r(S),E=n(5),C=r(E),T=27,w=c.default.createClass({displayName:"ZoomableImage",propTypes:{children:l.PropTypes.element,className:l.PropTypes.string,imageProps:l.PropTypes.object,initialZoom:l.PropTypes.bool,src:l.PropTypes.string,zoomOverlay:l.PropTypes.bool,zoomPadding:l.PropTypes.number,zoomUrl:function(e){if(!e.zoomUrl&&!e.src)return new Error("A zoomable URL is required, either via zoomUrl or src")}},mixins:[g.default,v.default],getDefaultProps:function(){return{initialZoom:!1,zoomOverlay:!0,zoomPadding:0}},getInitialState:function(){return{isZoomed:this.props.initialZoom}},componentDidMount:function(){this.resetZoom()},componentWillReceiveProps:function(e){this.shallowUnequalProps(e,["children"])&&this.resetZoom(e)},componentWillUnmount:function(){this.hide(),this.zoom&&this.zoom.removeAllListeners()},onIsShowing:function(){this.setState({isZoomed:!0}),this._escListener=f.default.listen(i.document,"keydown",this.onKeyDown)},onIsHiding:function(){this.setState({isZoomed:!1}),this._escListener&&this._escListener.remove()},onKeyDown:function(e){e.keyCode===T&&this.hide()},render:function(){var e=this.props,t=(e.initialZoom,e.zoomOverlay,e.zoomPadding,e.zoomUrl,e.className),n=(0,u.default)(e,["initialZoom","zoomOverlay","zoomPadding","zoomUrl","className"]),i=void 0;return i=this.props.children?c.default.createElement("div",{className:"ZoomableImage-imageWrap",ref:"image"},this.props.children):c.default.createElement("img",(0,o.default)({className:(0,C.default)("ZoomableImage-rawImage",t)},n,{ref:"image"})),c.default.createElement("div",{className:"ZoomableImage"},i)},show:function(){this.state.isZoomed||this.zoom&&this.zoom.show()},hide:function(){this.state.isZoomed&&this.zoom&&this.zoom.hide()},resetZoom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;this.zoom&&this.zoom.removeAllListeners(),this.zoom=new y.default(p.default.findDOMNode(this.refs.image),{hideThumb:!1,imageClass:"ZoomableImage-image",overlayClass:"ZoomableImage-overlay",padding:e.zoomPadding,url:e.zoomUrl?e.zoomUrl:e.src,useOverlay:e.zoomOverlay}),this.zoom.on("showing",this.onIsShowing),this.zoom.on("hiding",this.onIsHiding),this.props.initialZoom&&this.zoom.show()}});t.default=w,e.exports=t.default}).call(t,n(2))},225:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(15),s=i(r),o=n(241),a=(0,s.default)("RecorderConstants",{permissions:{DENIED:null,GRANTED:null,NEEDED:null},states:{RECORDING:null,UPLOADING:null,SAVING:null,STOPPED:null,ERROR:null}});a.limits={MAX_DURATION:3e4,MIN_DURATION:400},a.errors=o.errors,a.implementations={NONE:!1,HTML5:"html5",FLASH:"flash"},t.default=a,e.exports=t.default},227:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(15),s=i(r),o=(0,s.default)("TermConstants",{actions:{LOCAL_BULK_CREATE:null,UPDATE:null,UPDATE_SUCCESS:null,UPDATE_FAILURE:null,DELETE:null,DELETE_SUCCESS:null,DELETE_FAILURE:null,IGNORE_DUPLICATE_WORD:null,MOVE:null,MOVE_SUCCESS:null,MOVE_FAILURE:null,AUTODEFINE:null,AUTODEFINE_SUCCESS:null,AUTODEFINE_FAILURE:null,ACTIVATE_ROW:null,ACTIVATE_SIDE:null,ACTIVATE_ROW_SIDE:null,DEACTIVATE_ROW:null,ACTIVATE_OFFSET_ROW_CONTEXT:null,CONTEXT_TOGGLE:null,CONTEXT_RESET:null,FLIP_COLUMNS:null},contexts:{IMAGE:null,RECORDING:null,AUTODEFINE:null},PLACEHOLDER_LUID:null,statuses:{INACTIVE_DUPLICATE:null,ACTIVE_DUPLICATE:null},dropLocations:{AFTER:null,BEFORE:null}});o.styles={TERM_ROW_MIN_HEIGHT:48,TERM_ROW_GUTTER_HEIGHT:10},o.keyboard={TAB_INDEX:7},t.default=o,e.exports=t.default},228:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(286),s=i(r),o=n(49),a=n(90),u=i(a),l=n(85),c=i(l),d={containsAccentLanguage:function(e){return(0,u.default)(e).some(function(e){return e in s.default&&s.default[e].length>0})},containsHardLanguage:function(e){return(0,u.default)(e).some(function(e){return o.hardLanguages.indexOf(e)>-1})},getCharactersByLangForLangs:function(e){var t={};return(0,c.default)(e).filter(function(e){return e}).forEach(function(e){t[e]=s.default[e]||[]}),t}};t.default=d,e.exports=t.default},239:function(e,t,n){"use strict";t.__esModule=!0;var i=t.IMAGE=["image/bmp","image/gif","image/jpeg","image/png","image/tiff"],r=t.TEXT=["text/plain","Text"],s={IMAGE:i,TEXT:r};t.default=s},24:function(e,t,n){var i,r,s,o,a,u,l={}.hasOwnProperty,c=function(e,t){function n(){this.constructor=e}for(var i in t)l.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},d=[].slice;i=n(20),s=n(41).EventEmitter,a=function(e){return"function"==typeof e},u=function(e){return"string"==typeof e},r="change",e.exports=o=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return c(t,e),t._handlers=null,t._waitForTokens=null,t.dispatchToken=null,t.addChangeListener=function(e){return this.on(r,e)},t.removeChangeListener=function(e){return this.removeListener(r,e)},t.change=function(e){return this.emit(r,e)},t.init=function(){return this._handlers={},this._waitForTokens={},this.dispatchToken=i.register(function(e){return function(t){var n,r;if(i.waitFor(Object.keys(e._waitForTokens)),n=t.actionType,r=t.payload,!n)throw new Error("Action type unspecified");if(n in e._handlers)return e.change(e._handlers[n](r))}}(this))},t.bindActions=function(e,t){if(!u(e))throw new Error("Action must be a string");if(!a(t))throw new Error("Handler must be a function");this._handlers[e]=t.bind(this)},t.waitFor=function(){var e,t,n,i,r;for(t=1<=arguments.length?d.call(arguments,0):[],r=[],n=0,i=t.length;n<i;n++)e=t[n],r.push(this._waitForTokens[e.dispatchToken]=!0);return r},t}(s.prototype)},240:function(e,t,n){"use strict";t.__esModule=!0;var i=t.MINUTE_IN_SECONDS=60,r=t.HOUR_IN_SECONDS=60*i,s=t.DAY_IN_SECONDS=24*r;t.WEEK_IN_SECONDS=7*s,t.YEAR_IN_SECONDS=365*s},241:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.errors=void 0;var r=n(9),s=i(r),o=n(1),a=i(o),u=t.errors={TOO_SHORT:0,SAVE_ERROR:1,NO_MIC_ACCESS:2,BAD_SAMPLE_RATE:3,BAD_ZOOM:4,MIC_MUTED:5},l=function(){function e(t){(0,a.default)(this,e),this.isGranted=!1,this.isRecording=!1,this.recordingData={},this.recordingTimestamp=0,this.webSocketUrl=null,this.workerPath="",this.soundPlayer=null,this.maxDuration=1/0,this.minDuration=0,this.saveTimeout=1/0,this.onIsUsable=function(){},this.onStop=function(){},this.onSave=function(){},this.onCancel=function(){},this.onUploadFinish=function(){},this.onError=function(){},this.onReady=function(){},this.onPermissionDenied=function(){},(0,s.default)(this,t)}return e.prototype.init=function(){},e.prototype.record=function(e){this.recordingData=e,this.isRecording=!0,this.recordingTimestamp=Date.now()},e.prototype.stop=function(){this.isRecording=!1},e.prototype.cancel=function(){this.onCancel()},e.prototype.elapsedTime=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.recordingTimestamp;return e?Date.now()-e:0},e.prototype.hasPermission=function(){return this.isGranted},e.prototype.needsPermission=function(){},e.prototype.getVolume=function(){return 0},e}();l.errors=u,t.default=l},244:function(e,t,n){"use strict";(function(i){function r(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,u.default)();if(!e)return i("en-US","Never");var r=e<=n;if(!r&&!t)return i("en-US","just now");var s=Math.abs(n-e),a=30*o.DAY_IN_SECONDS;if(s<10)return r?i("en-US","just now"):i("en-US","At any moment");if(s<o.MINUTE_IN_SECONDS)return r?i("en-US","under 1 min ago"):i("en-US","In under 1 min");if(s<o.HOUR_IN_SECONDS){var l=Math.round(s/o.MINUTE_IN_SECONDS);return r?i("en-US","{minutes, plural, one{1 min ago} other{# mins ago}}",{minutes:l}):i("en-US","{minutes, plural, one{In 1 min} other{In # mins}}",{minutes:l})}if(s<o.DAY_IN_SECONDS&&s>=o.HOUR_IN_SECONDS){var c=Math.round(s/o.HOUR_IN_SECONDS);return r?i("en-US","{hours, plural, one{1 hour ago} other{# hours ago}}",{hours:c}):i("en-US","{hours, plural, one{In 1 hour} other{In # hours}}",{hours:c})}if(s<o.WEEK_IN_SECONDS&&s>=o.DAY_IN_SECONDS){var d=Math.round(s/o.DAY_IN_SECONDS);return r?i("en-US","{days, plural, one{yesterday} other{# days ago}}",{days:d}):i("en-US","{days, plural, one{Tomorrow} other{In # days}}",{days:d})}if(s<a&&s>=o.WEEK_IN_SECONDS){var p=Math.round(s/o.WEEK_IN_SECONDS);return r?i("en-US","{weeks, plural, one{1 week ago} other{# weeks ago}}",{weeks:p}):i("en-US","{weeks, plural, one{In 1 week} other{In # weeks}}",{weeks:p})}if(s<o.YEAR_IN_SECONDS&&s>=a){var h=Math.round(s/a);return r?i("en-US","{months, plural, one{1 month ago} other{# months ago}}",{months:h}):i("en-US","{months, plural, one{In 1 month} other{In # months}}",{months:h})}var f=Math.round(s/o.YEAR_IN_SECONDS);return r?i("en-US","{years, plural, one{1 year ago} other{# years ago}}",{years:f}):i("en-US","{years, plural, one{In 1 year} other{In # years}}",{years:f})}t.__esModule=!0,t.default=s;var o=n(240),a=n(137),u=r(a);e.exports=t.default}).call(t,n(6))},245:function(e,t,n){"use strict";(function(i){function r(e,t){return this instanceof r?(t||(t={}),this.docEvents={},this.windowEvents={},this.thumb=e,this._url=t.url,this._hideThumb=!!t.hideThumb,this._imageClass=t.imageClass||"zoom-image-clone",this._padding=t.padding||0,void(t.useOverlay&&(this._overlay=new a(t.overlayClass)))):new r(e,t)}var s=n(41).EventEmitter,o=n(59),a=n(246),u=n(163),l=n(247),c=n(248),d=n(166),p=n(33),h=n(52),f=n(193);e.exports=t=r,h(r.prototype,s.prototype),r.prototype.loadImage=function(e){if(this.hasLoaded)return e();var t=this.clone=new Image;this.loaderTimer=setTimeout(function(){this.hasLoaded||this.loading()}.bind(this),50),this.clone.onload=function(){this.hasLoaded=!0,this.finishLoading(),this.imageWidth=t.width,this.imageHeight=t.height,e()}.bind(this),t.src=this._url},r.prototype.loading=function(){return this.emit("loading",this.thumb),this},r.prototype.finishLoading=function(){return this.emit("end-loading",this.thumb),i.window.clearTimeout(this.loaderTimer),this},r.prototype.getDimensions=function(){var e=this.thumb.getBoundingClientRect(),t=this.thumb.clientHeight,n=this.thumb.clientWidth;return(e.left||e.top||t||n)&&(this.origin={x:e.left,y:e.top,w:n,h:t}),this},r.prototype.appendClone=function(){return this.clone.className=this._imageClass,this.bindWindowEvents(),i.document.body.appendChild(this.clone),this},r.prototype.onResize=function(){this.windowEvents.resizeScheduled||(o(function(){this.determineZoomedSize(),this.updateStyles(),this.windowEvents.resizeScheduled=!1}.bind(this)),this.windowEvents.resizeScheduled=!0)},r.prototype.onScroll=function(){this.windowEvents.scrollScheduled||(o(function(){this.getDimensions(),this.windowEvents.scrollScheduled=!1}.bind(this)),this.windowEvents.scrollScheduled=!0)},r.prototype.determineZoomedSize=function(){var e=f.getWidth(),t=f.getHeight(),n=l(this.imageWidth,this.imageHeight,e-this._padding,t-this._padding),i=e/2-n.width/2,r=t/2-n.height/2;return this.target={x:i,y:r,w:n.width,h:n.height},this},r.prototype.updateStyles=function(){return this.clone.style.width=this.target.w+"px",this.clone.style.height=this.target.h+"px",this.clone.style.left=this.target.x+"px",this.clone.style.top=this.target.y+"px",this},r.prototype.setOriginalDeminsions=function(){var e=this.origin,t=this.target;if(this.updateStyles(),c){var n=e.w/t.w,i=e.x+e.w/2-(t.x+t.w/2),r=e.y+e.h/2-(t.y+t.h/2);this.clone.style[c]="translate("+i+"px, "+r+"px) scale("+n+")"}return this.clone.style.opacity=0,this},r.prototype.setTargetPosition=function(){return c&&(this.clone.style[c]="translate(0px, 0px) scale(1)"),this.clone.style.opacity=1,this},r.prototype.show=function(e){if(e&&e.preventDefault(),!this.isZoomed&&!this.isShowing){this.getDimensions(),this.cancelZoom=!1,this.isShowing=!0;var t=function(){this.cancelZoom||(this.emit("showing"),this._overlay&&this._overlay.show(),this.determineZoomedSize().setOriginalDeminsions().appendClone(),this._hideThumb&&(this.thumb.style.visibility="hidden"),u(this.clone),this.setTargetPosition(),this.isZoomed=!0,d.once(this.clone,function(){this.emit("shown")}.bind(this)))};return setTimeout(this.bindDocEvents.bind(this),0),this.loadImage(t.bind(this)),this}},r.prototype.bindWindowEvents=function(){return this.windowEvents.resize=p.listen(i.window,"resize",this.onResize.bind(this)),this.windowEvents.scroll=p.listen(i.window,"scroll",this.onScroll.bind(this)),this},r.prototype.unbindWindowEvents=function(){return this.windowEvents.resize.remove(),this.windowEvents.scroll.remove(),this},r.prototype.bindDocEvents=function(){return this.docEvents.click=p.listen(i.document,"click",this.hide.bind(this)),this.docEvents.touchstart=p.listen(i.document,"touchstart",this.hide.bind(this)),this},r.prototype.unbindDocEvents=function(){return this.docEvents.click.remove(),this.docEvents.touchstart.remove(),this},r.prototype.hide=function(){return this.isShowing=!1,this.getDimensions(),this.isZoomed?(this.unbindWindowEvents(),this.unbindDocEvents(),this.setOriginalDeminsions(),this.emit("hiding"),this._overlay&&this._overlay.hide(),this.isZoomed=!1,d.once(this.clone,function(){this._hideThumb&&(this.thumb.style.visibility="visible"),this.clone.parentNode.removeChild(this.clone),this.emit("hidden")}.bind(this)),this):(this.cancelZoom=!0,this.unbindDocEvents(),this.emit("cancel"),this.finishLoading(),this._overlay&&this._overlay.hide(),this.emit("hiding"),this.emit("hidden"),this.isZoomed=!1,this)},r.prototype.use=function(e,t){return e(this,t),this}}).call(t,n(2))},246:function(e,t,n){"use strict";(function(t){function i(e){if(!(this instanceof i))return new i(e);this.el=t.document.createElement("div"),this.shown=!1;var n=["Overlay"];e&&n.push(e),this.el.className=n.join(" ")}var r=n(163),s=n(166);e.exports=i,i.prototype.show=function(){return t.document.body.appendChild(this.el),r(this.el),this.shown=!0,this.el.style.opacity=1,this},i.prototype.hide=function(){if(this.el&&this.shown)return this.shown=!1,this.el.style.opacity=0,s.once(this.el,function(){this.el.parentNode.removeChild(this.el)}.bind(this)),this}}).call(t,n(2))},247:function(e,t,n){"use strict";e.exports=function(e,t,n,i){var r=Math.min(n/e,i/t,1);return{width:e*r,height:t*r}}},248:function(e,t,n){"use strict";(function(t){var n=["webkitTransform","MozTransform","msTransform","OTransform","transform"];e.exports=function(e){for(var t=0;t<n.length;t++)if(null!=e.style[n[t]])return n[t];return null}(t.document.createElement("div"))}).call(t,n(2))},25:function(e,t,n){"use strict";function i(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t={},t[e]=n,t}t.__esModule=!0,t.default=i,e.exports=t.default},253:function(e,t){function n(){return(new Date).getTime()}e.exports=Date.now||n},263:function(e,t,n){var i,r,s,o={}.hasOwnProperty,a=function(e,t){function n(){this.constructor=e}for(var i in t)o.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};s=n(48),i=n(333),r={},a(r,s),r.init(i),e.exports=r},264:function(e,t,n){var i,r,s,o={}.hasOwnProperty,a=function(e,t){function n(){this.constructor=e}for(var i in t)o.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};r=n(48),i=n(835),s={},a(s,r),s.init(i),e.exports=s},265:function(e,t,n){var i,r,s,o={}.hasOwnProperty,a=function(e,t){function n(){this.constructor=e}for(var i in t)o.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};r=n(48),i=n(285),s={},a(s,r),s.init(i),s.setShouldSyncDelay(!0),e.exports=s},272:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(15),s=i(r),o=(0,s.default)("ImageConstants",{actions:{BULK_CREATE:null,CREATE_PLACEHOLDER:null,CREATE_RICH_PLACEHOLDER:null,CREATE_SUCCESS:null,CREATE_FAILURE:null,CREATE_PROGRESS:null,MOVE:null,MOVE_SUCCESS:null,MOVE_FAILURE:null,DELETE:null,DELETE_SUCCESS:null,DELETE_FAILURE:null,PRELOAD:null,REPLACE:null,SEARCH:null,SEARCH_SUCCESS:null,SEARCH_FAILURE:null,STORE:null,DROP_FAILURE:null,BULK_UPLOAD_FAILURE:null},placeholders:{PLAIN:null,RICH:null}});o.limits={MAX_NUM_IMAGES_FREE:8,MAX_NUM_IMAGES_UPGRADED:40},t.default=o,e.exports=t.default},273:function(e,t,n){"use strict";t.__esModule=!0;var i={lang:{selectSuggested:"command+1, ctrl+1",selectOther:"command+2, ctrl+2"},term:{moveUp:"alt+up",moveDown:"alt+down",toggleAutodefine:"command+shift+a, ctrl+shift+a",toggleImages:"command+shift+i, ctrl+shift+i",toggleUpload:"command+shift+u, ctrl+shift+u",toggleRecord:"command+shift+o, ctrl+shift+o",closeContext:"escape",addRowBelowCurrent:"command+shift+r, ctrl+shift+r",tab:"tab"},autodefine:{prevResult:"up, shift+tab",nextResult:"down, tab",selectResult:"enter"},imageCarousel:{prevImage:"left",nextImage:"right",nextElement:"tab",prevElement:"shift+tab",selectImage:"enter"},recording:{recordWord:"left",recordDefinition:"right",nextRow:"down",prevRow:"up",playOrRestoreRecording:"enter",deleteRecording:"backspace",resetZoom:"command+0, ctrl+0"},modal:{exit:"esc",tab:"tab"}};t.default=i,e.exports=t.default},285:function(e,t,n){var i,r,s={}.hasOwnProperty,o=function(e,t){function n(){this.constructor=e}for(var i in t)s.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};i=n(23),e.exports=r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return o(t,e),t.URL_BASE="terms",t.MODEL_NAME="term",t.setPreview=function(e){return this._getIndexPage("/webapi/"+this.API_VERSION+"/sets/"+e.join(",")+"/search-preview")},t}(i)},286:function(e,t){e.exports={af:["á","à","â","ä","ç","é","è","ê","ë","í","ì","î","ï","ó","ò","ô","ö","ú","ù","ü","û","ý","ÿ"],akk:["ā","â","ē","ê","ī","î","ō","ô","ū","û","ḫ","ṣ","š","ṭ","₀","₁","₂","₃","₄","₅","₆","₇","₈","₉"],ar:["ا","ب","ت","ث","ج","ح","خ","د","ذ","ر","ز","س","ش","ص","ض","ط","ظ","ع","غ","ف","ق","ك","ل","م","ن","ه","و","ي","ء","ة","ى"],bg:["а","б","в","г","д","е","ж","з","и","й","к","л","м","н","о","п","р","с","т","у","ф","х","ц","ч","ш","щ","ъ","ь","ю","я"],bs:["ć","đ","č","š","ž"],chem:["←","↑","→","↓","↔","∙","°","⁻","⁺","⁰","¹","²","³","⁴","⁵","⁶","⁷","⁸","⁹","ⁿ","₋","₀","₁","₂","₃","₄","₅","₆","₇","₈","₉","⇌","€"],cs:["á","č","ď","é","ě","í","ň","ó","p","ř","š","ť","ú","ů","ý","ž"],cy:["â","ä","á","à","ê","ë","é","è","î","ï","í","ì","ô","ö","ó","ò","û","ü","ú","ù","ŵ","ẅ","ẃ","ẁ","ŷ","ÿ","ý","ỳ"],da:["å","æ","ø"],de:["ä","ö","ü","ß","⸚"],dyo:["á","é","í","ó","ñ","ú","Ŋ"],el:["α","β","γ","δ","ε","ζ","η","θ","ι","κ","λ","μ","ν","ξ","ο","π","ρ","σ","ς","τ","υ","φ","χ","ψ","ω"],es:["á","é","í","ó","ú","ü","ñ","¿","¡","°"],fi:["å","ä","ö"],fr:["à","â","ç","è","é","ê","ë","î","ï","ô","œ","ù","û","ü"],gd:["à","á","è","é","ì","í","ò","ó","ù","ú"],ga:["à","á","è","é","ì","í","ò","ó","ù","ú"],hai:["g̱","ḵ","x̱"],haw:["ā","ē","ī","ō","ū"],hr:["ć","đ","č","š","ž"],hu:["á","é","í","ó","ö","ő","ú","ü","ű"],is:["á","æ","ð","é","í","ó","ö","ø","þ","ú","ý"],it:["à","è","é","ì","ò","ó","ù"],iw:["א","בּ","ב","ג","ד","ה","ו","ז","ח","ט","י","כּ","כ","ך","ל","מ","ם","נ","ן","ס","ע","פּ","פ","ף","צ","ץ","ק","ר","שׁ","שׂ","תּ","ת"],ku:["ç","é","ê","í","î","ş","ú","û"],la:["ā","æ","ē","ī","ō","œ","ū","ȳ"],lkt:["á","ą","ą́","č","é","ǧ","ȟ","í","į","ó","š","ú","ų","ž","ŋ","ʼ"],math:["+","−","±","×","÷","%","=","≠","≈","≡","<",">","≤","≥","≅","∼","½","¼","¾","√","⁰","¹","²","³","⁴","⁵","⁶","⁷","⁸","⁹","ⁿ","⁺","⁻","∧","₀","₁","₂","₃","₄","₅","₆","₇","₈","₉","π","∞","∆","∑","ƒ","∫","‖","|","⊥","∠","∩","∪","∈","∋","∃","⊂","⊃","⊆","⊇","∉","⊄","°","α","β","γ","δ","ε","η","θ","ι","κ","λ","µ","∨","Ω","ω","ℵ","∅","∀","⊕","⊗","←","↑","→","↓","↔","∴","∵","σ","⌒"],mi:["ā","ē","ī","ō","ū"],nl:["á","à","â","ä","ç","é","è","ê","ë","í","ì","î","ï","ó","ò","ô","ö","ú","ù","ü","û","ý","ÿ"],no:["å","æ","ø"],ood:["ă","ḍ","ĕ","ĭ","ñ","ŋ","ŏ","ṣ","ŭ"],pl:["ą","ć","ę","ń","ł","ó","ś","ź","ż"],pt:["à","á","â","ã","ç","é","ê","í","ó","ô","õ","ú","ü"],rar:["ā","ē","ī","ō","ū","ʻ","ꞌ"],
ro:["ă","â","î","ș","ş","ț","ţ"],ru:["а","á","б","в","г","д","е","é","ё","ж","з","и","и́","й","к","л","м","н","о","ó","п","р","с","т","у","у́","ф","х","ц","ч","ш","щ","ъ","ы","ы́","ь","э","ю","ю́","я","я́"],sk:["á","č","ď","é","ě","í","ň","ó","p","ř","š","ť","ú","ů","ý","ž"],sr:["ć","đ","č","š","ž"],sv:["å","ä","ö"],tet:["ñ","á","é","í","ó","ú"],tr:["ı","ö","ü","ç","ğ","ş"],tyv:["а","б","в","г","д","е","ё","ж","з","и","й","к","л","м","н","ң","о","ө","п","р","с","т","у","ү","ф","х","ц","ч","ш","щ","ъ","ы","ь","э","ю","я"],vi:["á","ǎ","â","đ","ê","ô","ơ","ư"],wo:["à","é","ë","ó","ñ","Ŋ"],"zh-pi":["ā","á","ǎ","à","ē","é","ě","è","ī","í","ǐ","ì","ō","ó","ǒ","ò","ū","ú","ǔ","ù","ǖ","ǘ","ǚ","ǜ","ü"]}},292:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(9),s=i(r),o=n(1),a=i(o),u=n(4),l=i(u),c=n(3),d=i(c),p=n(0),h=i(p),f=n(424),m=i(f),g=function(e){function t(){return(0,a.default)(this,t),(0,l.default)(this,e.apply(this,arguments))}return(0,d.default)(t,e),t.prototype.componentDidMount=function(){new m.default((0,s.default)({},this.props)).spin(this.refs.spinner)},t.prototype.render=function(){return h.default.createElement("div",{className:"Spinner",ref:"spinner"})},t}(p.PureComponent);g.propTypes={className:p.PropTypes.string,color:p.PropTypes.oneOfType([p.PropTypes.string,p.PropTypes.arrayOf(p.PropTypes.string)]),corners:function(e,t){var n=e[t];if(n<0||n>1)return new Error("Corners must be in (0..1)")},direction:p.PropTypes.oneOf([1,-1]),hwaccel:p.PropTypes.bool,left:p.PropTypes.string,length:p.PropTypes.number,lines:p.PropTypes.number,radius:p.PropTypes.number,rotate:p.PropTypes.number,shadow:p.PropTypes.bool,speed:p.PropTypes.number,top:p.PropTypes.string,trail:p.PropTypes.number,width:p.PropTypes.number,zIndex:p.PropTypes.number},g.defaultProps={className:"spinner",color:"#000",corners:1,direction:1,hwaccel:!0,left:"50%",length:20,lines:13,radius:30,rotate:0,shadow:!1,speed:1.5,top:"50%",trail:60,width:10,zIndex:2e9},t.default=g,e.exports=t.default},304:function(e,t,n){(function(t){var i,r,s,o,a,u,l;s=n(27).Promise,a=n(51),l=n(25),u=n(52),o=n(162),r=n(618),e.exports=i=function(){function e(){}return e.REQUEST_TIMEOUT_LIMIT_MS=15e3,e.URL_BASE=null,e.CACHE=!0,e.ALLOW_MULTIPLE_REQUESTS=!0,e.API_VERSION="3.0",e._pendingRequests={},e._cache={},e._getBaseUrl=function(){return"/webapi/"+this.API_VERSION+"/"+this.URL_BASE},e.get=function(e){var t;return null==e&&(e={}),t=JSON.stringify(e),new s(function(n){return function(i,r){var s,o,u,c,d,p;if(n.CACHE&&n._fromCache(t))return i(n._fromCache(t));o=n.getPendingReq(),o&&!n.ALLOW_MULTIPLE_REQUESTS&&o.abort(),u=a.get(n._getBaseUrl()).timeout(n.REQUEST_TIMEOUT_LIMIT_MS),n.setPendingReq(u);for(s in e)d=e[s],d instanceof Array?(c=function(){var e,t,n;for(n=[],e=0,t=d.length;e<t;e++)p=d[e],n.push(s+"[]="+encodeURIComponent(p));return n}(),u.query(c.join("&"))):u.query(l(s,d));return u.end(n._getServerResponseHandler(i,r,t))}}(this))},e.post=function(e){return null==e&&(e={}),new s(function(t){return function(n,i){var r,s;return r=t.getPendingReq(),r&&!t.ALLOW_MULTIPLE_REQUESTS&&r.abort(),s=a.post(t._getBaseUrl()).credentials().timeout(t.REQUEST_TIMEOUT_LIMIT_MS).send(e),t.setPendingReq(s),s.end(t._getServerResponseHandler(n,i))}}(this))},e.getPendingReq=function(){return this._pendingRequests[this.URL_BASE]},e.setPendingReq=function(e){return this._pendingRequests[this.URL_BASE]=e},e.clearPendingReq=function(){return this._pendingRequests[this.URL_BASE]=null},e._storeCache=function(e,t){return this._ensureCache(),this._cache[this.URL_BASE][e]=t},e._fromCache=function(e){return this._ensureCache(),this._cache[this.URL_BASE][e]},e._ensureCache=function(){var e,t;return(e=this._cache)[t=this.URL_BASE]||(e[t]={})},e._getServerResponseHandler=function(e,t,n){return null==n&&(n=null),function(i){return function(r,s){var o,a;return i.clearPendingReq(),r?t(r):(o=i._checkServerResponseForError(s))?t(o):(a=i._extractResultsFromServerResponse(s),i.CACHE&&n&&i._storeCache(n,a),e(a))}}(this)},e._extractResultsFromServerResponse=function(e){return e.body.responses},e._checkServerResponseForError=function(e){var n;return!((null!=(n=e.body)?n.responses:void 0)instanceof Array)&&(t.logError(new r("URL: "+this._getBaseUrl()+" Response: "+JSON.stringify(e))),new o)},e}()}).call(t,n(2))},311:function(e,t,n){var i,r,s;!function(n,o){r=[],i=o,s="function"==typeof i?i.apply(t,r):i,!(void 0!==s&&(e.exports=s))}(window,function(){function e(e){for(var t=0,n=Array.prototype.slice.call(arguments,1),i=n.length;t<i;t++){var r=n[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}function t(e,t){var n=[];for(var i in e)e.hasOwnProperty(i)&&(n[i]=t(e[i]));return n}function n(t,n,s){if(e(this,{getRoot:function(){return t},getOptions:function(){return n},getConf:function(){return s},getApi:function(){return t.firstChild}}),u.isSupported(n.version))t.innerHTML=u.getHTML(n,s),n.onEmbed&&n.onEmbed.call(null,!0,this);else if(n.expressInstall&&u.isSupported([6,65])){if(t.innerHTML=u.getHTML(e(n,{src:n.expressInstall}),{MMredirectURL:location.href,MMplayerType:"PlugIn",MMdoctitle:document.title}),n.onEmbed){var o=n.onEmbed.call(null,!1,this);"string"==typeof o&&(t.innerHTML=o)}}else{if(!t.innerHTML.replace(/\s/g,"")){var a="<h2>Flash version "+n.version+" or greater is required</h2>";a+="<h3>"+(l[0]>0?"Your version is "+l:"You have no flash plugin installed")+"</h3>",a+="A"==t.tagName?"<p>Click here to download latest version</p>":'<p>Download latest version from <a href="'+r+'">here</a></p>',t.innerHTML=a,"A"==t.tagName&&(t.onclick=function(){location.href=r})}if(n.onEmbed){var o=n.onEmbed.call(null,!1,this);"string"==typeof o&&(t.innerHTML=o)}}i&&(window[n.id]=document.getElementById(n.id))}/**
	 * @license
	 * jQuery Tools @VERSION / Flashembed - New wave Flash embedding
	 *
	 * NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.
	 *
	 * http://flowplayer.org/tools/toolbox/flashembed.html
	 *
	 * Since : March 2008
	 * Date : @DATE
	 */
var i=document.all,r="http://www.adobe.com/go/getflashplayer",s=/(\d+)[^\d]+(\d+)[^\d]*(\d*)/,o={width:"100%",height:"100%",id:"_"+(""+Math.random()).slice(9),allowFullScreen:!0,allowScriptAccess:"always",quality:"high",version:[3,0],onEmbed:null,expressInstall:null,w3c:!1,bustCache:!1};window.attachEvent&&window.attachEvent("onbeforeunload",function(){__flash_unloadHandler=function(){},__flash_savedUnloadHandler=function(){}});var a=function(t,i,r){if("string"==typeof t&&(t=document.getElementById(t.replace("#",""))),t)return"string"==typeof i&&(i={src:i}),new n(t,e({},o,i),r)},u=e(a,{conf:o,getVersion:function(){var e,t;try{t=navigator.plugins["Shockwave Flash"].description.slice(16)}catch(n){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),t=e&&e.GetVariable("$version")}catch(n){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),t=e&&e.GetVariable("$version")}catch(e){}}}return t=s.exec(t),t?[t[1],t[3]]:[0,0]},asString:function(e){if(null===e||void 0===e)return null;var n=typeof e;switch("object"==n&&e.push&&(n="array"),n){case"string":return e=e.replace(new RegExp('(["\\\\])',"g"),"\\$1"),e=e.replace(/^\s?(\d+\.?\d*)%/,"$1pct"),'"'+e+'"';case"array":return"["+t(e,function(e){return u.asString(e)}).join(",")+"]";case"function":return'"function()"';case"object":var i=[];for(var r in e)e.hasOwnProperty(r)&&i.push('"'+r+'":'+u.asString(e[r]));return"{"+i.join(",")+"}"}return String(e).replace(/\s/g," ").replace(/\'/g,'"')},getHTML:function(t,n){t=e({},t);var r='<object width="'+t.width+'" height="'+t.height+'" id="'+t.id+'" name="'+t.id+'"';t.bustCache&&(t.src+=(t.src.indexOf("?")!==-1?"&":"?")+Math.random()),r+=t.w3c||!i?' data="'+t.src+'" type="application/x-shockwave-flash"':' classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"',r+=">",(t.w3c||i)&&(r+='<param name="movie" value="'+t.src+'" />'),t.width=t.height=t.id=t.w3c=t.src=null,t.onEmbed=t.version=t.expressInstall=null;for(var s in t)t[s]&&(r+='<param name="'+s+'" value="'+t[s]+'" />');var o="";if(n){for(var a in n)if(n[a]){var l=n[a];o+=a+"="+encodeURIComponent(/function|object/.test(typeof l)?u.asString(l):l)+"&"}o=o.slice(0,-1),r+='<param name="flashvars" value="'+o+'" />'}return r+="</object>"},isSupported:function(e){return l[0]>e[0]||l[0]==e[0]&&l[1]>=e[1]}}),l=u.getVersion();return a})},320:function(e,t,n){(function(t){var i,r,s,o,a,u,l,c={}.hasOwnProperty,d=function(e,t){function n(){this.constructor=e}for(var i in t)c.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};l=n(48),o=n(829),u=n(225),a=n(482),r=n(323),s=n(324),i={},d(i,l),d(i,{config:null,recorder:null,connectionPrimed:!1,permissionGranted:!1,recorderImplementation:null,configure:function(e){this.config=e},getRecorder:function(){var e;return null!=(e=this.recorder)?e:this.initRecorder()},getAudioPlayer:function(){return this.audioPlayer||(this.audioPlayer=new t.AudioPlayer)},initRecorder:function(e){if(!this.config)throw new Error("CustomAudioSyncer lacks config");return this.recorder||(this.recorder=new a({ajaxChunkUrl:this.config.ajaxChunkUrl,ajaxFinishedUrl:this.config.ajaxFinishedUrl,maxDuration:u.limits.MAX_DURATION,minDuration:u.limits.MIN_DURATION,onCancel:e.onCancel,onError:e.onError,onIsUsable:e.onIsUsable,onNotUsable:e.onNotUsable,onPermissionDenied:e.onPermissionDenied,onReady:e.onReady,onSave:e.onSave,onStop:e.onStop,onUploadFinish:e.onUploadFinish,plugins:[s,r],soundPlayer:this.getAudioPlayer(),swfPath:this.config.swfPath,webSocketUrl:this.config.webSocketUrl,workerPath:this.config.workerPath}))},primeConnection:function(){if(!this.connectionPrimed)return this.config.connectionPrimingUrl&&((new Image).src=this.config.connectionPrimingUrl),this.connectionPrimed=!0},record:function(){return this.primeConnection(),this.getRecorder().record({qecookies:this.config.qecookies})},stop:function(){return this.getRecorder().stop()},cancel:function(){return this.getRecorder().cancel()},getVolume:function(){return this.getRecorder().getVolume()},hasPermission:function(){return this.getRecorder().hasPermission()},needsPermission:function(){return this.getRecorder().needsPermission()},preloadAudio:function(e,t){return null==t&&(t={}),this.getAudioPlayer().preload(e,t)},playAudio:function(e,t){return null==t&&(t={}),this.getAudioPlayer().play(e,t)},stopAllAudio:function(){return this.getAudioPlayer().stopAll()}}),i.init(o),e.exports=i}).call(t,n(2))},321:function(e,t,n){var i,r,s,o={}.hasOwnProperty,a=function(e,t){function n(){this.constructor=e}for(var i in t)o.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};r=n(48),i=n(836),s={},a(s,r),s.init(i),e.exports=s},323:function(e,t,n){"use strict";(function(i){function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var s=n(1),o=r(s),a=n(4),u=r(a),l=n(3),c=r(l),d=n(311),p=r(d),h=n(241),f=r(h),m=n(107),g=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)||e[t]},_=null,v=function(e){function t(n){(0,o.default)(this,t);var r=(0,u.default)(this,e.call(this,n));return r.flash=null,r.waitForReadyQueue=[],r.FLASH_ID="flashRecordingObject",i.FlashRecorderPlugin=t,r._embedSwf(function(e){r._resolveReadyQueue(e),e&&r.init(),r.onIsUsable(!!e&&"flash",r)}),r}return(0,c.default)(t,e),t.create=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _||(_=new t(e)),_},t.prototype.record=function(t){e.prototype.record.call(this,t),this.flash&&this.flash._record()},t.prototype.stop=function(){e.prototype.stop.call(this),this.flash&&this.flash._stop(this.recordingData)},t.prototype.init=function(){return this.swf("init",{minDuration:this.minDuration,maxDuration:this.maxDuration,uploadEndpoint:this.ajaxChunkUrl,finishEndpoint:this.ajaxFinishedUrl})},t.prototype.cancel=function(){this.flash&&this.flash._cancel()},t.prototype.needsPermission=function(){this.swf("showPermissions")},t.prototype.getLogs=function(){this.flash&&this.flash._getLogs().forEach(i.console.log,i.console)},t.prototype.getVolume=function(){return this.flash._getVolume()/100},t.prototype.swf=function(e){for(var t=this,n=arguments.length,r=Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];var o=function(){var n;(n=t.flash)["_"+e].apply(n,r)};return this.flash?o():void this.waitForReadyQueue.push(function(t){t?o():i.console.error("Could not load call "+e+" on Flash object")})},t.prototype._embedSwf=function(e){var t=this;if(!document.getElementById(this.FLASH_ID)){var n=document.querySelector(".for-flash .recorder-container");n&&(n.innerHTML="<div id='"+this.FLASH_ID+"'></div>")}return(0,p.default)(this.FLASH_ID,{allowFullScreen:!1,src:this.swfPath,width:"216",height:"138",version:[11,0],wmode:"transparent",onEmbed:function(n,i){var r=n&&i.getApi();if(!r)return e&&e(!1);var s=function n(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return i?void(0,m.timeoutSet)(100,function(){g(r,"PercentLoaded")&&r.PercentLoaded()?!function(){var n=(0,m.intervalSet)(250,function(){100===r.PercentLoaded()&&(t.flash=r,e&&e(!0),(0,m.intervalClear)(n))})}():n(i-1)}):e&&e(!1)};s()}})},t.prototype._resolveReadyQueue=function(e){this.waitForReadyQueue.forEach(function(t){return t&&t(e)}),this.waitForReadyQueue=[]},t.prototype._sendPost=function(e){var t=e.url,n=e.data,i=e.success,r=e.error;return $.ajax({url:t,data:n,success:i,error:r,type:"POST",dataType:"json"})},t.prototype._stop=function(){this.stop.apply(this,arguments)},t.prototype._onSave=function(){this.onSave.apply(this,arguments)},t.prototype._onStop=function(){this.onStop.apply(this,arguments)},t.prototype._onError=function(){this.onError.apply(this,arguments)},t.prototype._onCancel=function(){this.onCancel.apply(this,arguments)},t.prototype._onPermission=function(e){e?this.onReady():this.onPermissionDenied()},t.prototype._post=function(e,t){var n=this,i=t.chunkId||0,r=function(e){return n.flash._ajaxError(i,e)};this._sendPost({url:e,data:t,error:function(e){return r(e.responseText)},success:function(e){return e.success?n.flash._ajaxSuccess(i,e):r(e)}})},t.prototype._returnFocus=function(){var e=document.querySelector(".qmodal-box #recording");e&&(e.focus(),e.blur())},t}(f.default);t.default=v,e.exports=t.default}).call(t,n(2))},324:function(e,t,n){"use strict";(function(i){function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var s=n(22),o=r(s),a=n(1),u=r(a),l=n(4),c=r(l),d=n(3),p=r(d),h=n(241),f=r(h),m=n(480),g=r(m),_=n(481),v=r(_),S=n(107),y=null,E=function(e){function t(n){(0,u.default)(this,t);var r=(0,c.default)(this,e.call(this,n));r.keypressPadding=100,r.audioReady=!1,r.socketReady=!1,r.heartbeat=null,r.stream=null,r.streamBuffer=[],r.socket=null,r.source=null,r.audioContext=null,r.analyserNode=null,r.recorderNode=null,i.navigator.getUserMedia=i.navigator.getUserMedia||i.navigator.webkitGetUserMedia||i.navigator.mozGetUserMedia||i.navigator.msGetUserMedia,r.soundPlayer.plugin&&r.soundPlayer.plugin.getAudioContext&&(r.audioContext=r.soundPlayer.plugin.getAudioContext());var s=r.audioContext&&i.navigator.getUserMedia&&window.WebSocket;return r.onIsUsable(!!s&&"html5",r),s&&r._setupSocket(),r}return(0,p.default)(t,e),t.create=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return y||(y=new t(e)),y},t.prototype.stop=function(){e.prototype.stop.call(this),this.recorderNode.stop(),this.stream.close(this.recordingData)},t.prototype.record=function(t){e.prototype.record.call(this,t),this.streamBuffer=[],this.stream=new v.default(this.socket,this.audioContext.sampleRate),this.recorderNode.record()},t.prototype.cancel=function(){this.recorderNode.cancel(),this.streamBuffer=[],this.stream.cancel(),this.stream=null},t.prototype._setupSocket=function(){var e=this;this.socketReady||(this.socket=new WebSocket(this.webSocketUrl),this.socket.onmessage=function(t){var n=JSON.parse(t.data);if(!n||!n.command)return null;switch(n.command){case"bad_sample_rate":return e.onError(h.errors.BAD_SAMPLE_RATE,n);case"finished_uploading":return e.onUploadFinish();case"done":return e.onSave(n);default:return e}},this.socket.onopen=function(){e.socketReady=!0,(0,S.intervalClear)(e.heartbeat);var t=(0,o.default)({command:"ping"});e.heartbeat=(0,S.intervalSet)(3e4,function(){return e.socket.send(t)}),e._setupAudio()},this.socket.onerror=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];console.log(n),e.onError(h.errors.SAVE_ERROR)},this.socket.onclose=function(){e.socketReady=!1,(0,S.timeoutSet)(1500,function(){return e._setupSocket()})})},t.prototype._getFreqData=function(){var e=new Uint8Array(this.analyserNode.frequencyBinCount);return this.analyserNode.getByteFrequencyData(e),Array.apply([],e)},t.prototype.getVolume=function(){if(!this.analyserNode)return 0;var e=this._getFreqData(),t=e.reduce(function(e,t){return e+Math.pow(t,2)},0),n=Math.max.apply(Math,e),i=Math.sqrt(t/Math.max(e.length,1));return(i+n)/510},t.prototype._setupAudio=function(){var e=this;if(!this.audioReady){var t=function(t){e.isGranted=!0,e._setupRecording(t)},n=function(){e.isGranted=!1,e.onPermissionDenied()};try{i.navigator.getUserMedia({audio:!0},t,n)}catch(e){this.audioReady=!1,n()}}},t.prototype._setupRecording=function(e){var t=this;this.recorderNode=new g.default({context:this.audioContext,workerPath:this.workerPath,onChunk:function(e){var n=t.elapsedTime();return n<t.keypressPadding?null:n>t.maxDuration?t.stop():n<t.minDuration?t.streamBuffer.push(e.blob):(t.streamBuffer.length&&t.stream&&(t.streamBuffer.map(t.stream.write,t.stream),t.streamBuffer=[]),void(t.stream&&t.stream.write(e.blob)))},onStop:function(){var e=t.elapsedTime();e<t.minDuration?t.onError(h.errors.TOO_SHORT,{duration:e}):t.onStop(e)},onCancel:function(){return t.onCancel()},onReady:function(){t.audioReady=!0,t.onReady()},onMicMuted:function(){return t.onError(h.errors.MIC_MUTED)}}),this.source=this.audioContext.createMediaStreamSource(e);var n=this.audioContext.createGain();n.gain.value=0;var i=this.audioContext.createChannelSplitter(2),r=this.audioContext.createChannelMerger(2);this.analyserNode=this._buildAnalyserNode(),this.source.connect(i),i.connect(r),r.connect(this.analyserNode),this.analyserNode.connect(this.recorderNode.node),this.recorderNode.connect(n),n.connect(this.audioContext.destination)},t.prototype._buildAnalyserNode=function(){var e=this.audioContext.createAnalyser();return e.smoothingTimeConstant=.6,e.fftSize=1024,e},t}(f.default);t.default=E,e.exports=t.default}).call(t,n(2))},332:function(e,t,n){var i,r,s,o,a,u,l,c,d,p,h,f,m,g,_,v={}.hasOwnProperty;s=n(27).Promise,r=n(20),a=n(185),l=n(227),d=n(265),i=n(826),o=n(179),c=n(348),p=n(52),h=n(25),f=n(26),_=n(74),m=n(512),g=n(362),e.exports=u={termSyncer:d,activateRow:function(e){return r.viewAction(l.actions.ACTIVATE_ROW,{luid:e})},activateSide:function(e,t){return r.viewAction(l.actions.ACTIVATE_SIDE,{luid:e,activeSide:t})},activateRowSide:function(e,t){return r.viewAction(l.actions.ACTIVATE_ROW_SIDE,{luid:e,activeSide:t})},activateOffsetRowContext:function(e,t,n){return r.viewAction(l.actions.ACTIVATE_OFFSET_ROW_CONTEXT,{fromLuid:e,offset:t,context:n})},toggleContext:function(e,t){return r.viewAction(l.actions.CONTEXT_TOGGLE,{luid:e,context:t})},resetContext:function(e){return r.viewAction(l.actions.CONTEXT_RESET,{luid:e})},bulkCreate:function(e){var t,n,i,s,o;return e.length?(i=c.getIndicesToAdd(e),s=function(){var e,t,r;for(r=[],e=0,t=i.length;e<t;e++)n=i[e],r.push(this.termSyncer.add());return r}.call(this),t=c.hasPhantomRow()&&i.length<e.length,t&&(o=c.getPhantomRow()),r.viewAction(l.actions.LOCAL_BULK_CREATE,{luids:s,indices:i,activatePhantom:t}),t&&s.push(o),s):[]},update:function(e){var t,n,i,r,s,o,a;return o=e.setLuid,n=e.luid,s=e.props,a=e.wordLang,t=e.defLang,r=e.persist,void 0===r&&(r=!0),i=h(n,s),u.bulkUpdate({setLuid:o,luidToProps:i,wordLang:a,defLang:t,persist:r})},bulkUpdate:function(e){var t,n,i,o,a,c;return o=e.setLuid,n=e.luidToProps,c=e.wordLang,t=e.defLang,i=e.persist,a=e.syncDelayOverride,void 0===i&&(i=!0),a=a||!1,r.viewAction(l.actions.UPDATE,{luidToProps:n,wordLang:c,defLang:t}),i?u.saveUpdates(o,n,a):s.resolve()},saveUpdates:function(e,t,n){return null==n&&(n=!1),u._saveUpdatesWithoutChain(e,t,n).then(u.bulkUpdateSuccess).catch(u.bulkUpdateFailure)},_saveUpdatesWithoutChain:function(e,t,n){return null==n&&(n=!1),o.maybeCreateSet(e).then(function(e){return function(i){var r,s;for(r in t)s=t[r],p(s,{setId:i});return e.termSyncer.bulkSave(t,n)}}(this))},bulkUpdateSuccess:function(e){var t;return t=e[0],r.serverAction(l.actions.UPDATE_SUCCESS,{models:t})},bulkUpdateFailure:function(e){var t,n;return t=e[0],n=e[1],r.serverAction(l.actions.UPDATE_FAILURE,{models:n,error:t})},flipColumns:function(e,t){return r.viewAction(l.actions.FLIP_COLUMNS,{luidToProps:t}),u.saveUpdates(e,t,!0)},import:function(e){var t,n,i,s,o,a;return o=e.setLuid,s=e.luidToPropsToReplace,t=e.arrayOfPropsToAdd,a=e.wordLang,n=e.defLang,i=this.termSyncer.bulkAdd(t),p(i,s),r.viewAction(l.actions.UPDATE,{luidToProps:i,wordLang:a,defLang:n}),u.saveUpdates(o,i,!0)},del:function(e){return r.viewAction(l.actions.DELETE,{luid:e}),this.termSyncer.del(e).then(u.deleteSuccess).catch(u.deleteFailure)},deleteSuccess:function(e){var t,n;return t=e[0],n=e[1],r.serverAction(l.actions.DELETE_SUCCESS,{luid:t,model:n})},deleteFailure:function(e){var t,n,i;return t=e[0],n=e[1],i=e[2],r.serverAction(l.actions.DELETE_FAILURE,{luid:n,model:i,error:t})},ignoreDuplicates:function(e){return r.viewAction(l.actions.IGNORE_DUPLICATE_WORD,{word:e})},move:function(e,t,n,i){return r.viewAction(l.actions.MOVE,{luid:t,oldIndex:n,newIndex:i}),u._saveUpdatesWithoutChain(e,h(t,{rank:i}),!0).then(u.moveSuccess).catch(u.moveFailure)},moveSuccess:function(e){var t,n;return t=e[0],n=e[1],r.serverAction(l.actions.MOVE_SUCCESS,{luid:t,model:n})},moveFailure:function(e){var t,n,i;return t=e[0],n=e[1],i=e[2],r.serverAction(l.actions.MOVE_FAILURE,{luid:n,model:i,error:t})},maybeCreateTerm:function(e,t){return new s(function(n){return function(i,r){var s,o;return o=n.termSyncer.getModel(e),o.isNewRecord()?(s=h(e,{setId:t}),n.termSyncer.bulkSave(s,!0).then(function(t){var n,r;return n=t[0],r=n[e].get("id"),i(r),u.bulkUpdateSuccess.apply(null,arguments)}).catch(function(e){var t,n;return t=e[0],n=e[1],r(t),u.bulkUpdateFailure.apply(null,arguments)})):i(o.get("id"))}}(this))},autodefine:function(e,t,n,s){var o;return o=t.replace(/[\*]/g,""),o=_(m(o)),o.length&&(t=o),r.viewAction(l.actions.AUTODEFINE,{term:t,luid:e}),i.get({word:t,wordLang:n,definitionLang:s}).then(function(t){return r.serverAction(l.actions.AUTODEFINE_SUCCESS,{luid:e,autodefineResults:t[0]})}).catch(function(t){return r.serverAction(l.actions.AUTODEFINE_FAILURE,{luid:e,error:t})})},transformAllTermsText:function(e,t,n){var i,r,s,o,a,l;i={},l=c.getAll();for(s in l)v.call(l,s)&&(r=l[s],a=g(r.word,t,n),o=g(r.definition,n,t),a===r.word&&o===r.definition||(i[s]={word:a,definition:o}));if(f(i)>0)return u.bulkUpdate({setLuid:e,luidToProps:i,wordLang:t,defLang:n})}}},333:function(e,t,n){(function(t){var i,r,s,o={}.hasOwnProperty,a=function(e,t){function n(){this.constructor=e}for(var i in t)o.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};i=n(23),s=n(285),e.exports=r=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return a(n,e),n.URL_BASE="sets",n.MODEL_NAME="set",n.CAN_BE_SEARCHED=!0,n.prototype.isPublished=function(){return this.get("publishedTimestamp")>0},n._postValidationFailed=function(e){var t,n,i;for(n=0,i=e.length;n<i;n++)t=e[n],t.unset("publishedTimestamp");return e},n._validations=function(e){var t,n,i;for(n=0,i=e.length;n<i;n++)t=e[n],t.isPublished()&&(this._validateTitle(t),this._validatesWordLang(t),this._validatesDefinitionLang(t));return e},n._validateTitle=function(e){if(!e.get("title"))return e.addClientValidationError({identifier:"requires_title",message:t("en-US","Add a title to your set.")})},n._validatesWordLang=function(e){if(!e.get("wordLang"))return e.addClientValidationError({identifier:"requires_word_lang",message:t("en-US","Select a language for your terms.")})},n._validatesDefinitionLang=function(e){if(!e.get("defLang"))return e.addClientValidationError({identifier:"requires_def_lang",message:t("en-US","Select a language for your definitions.")})},n}(i)}).call(t,n(6))},34:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(11),s=i(r),o=n(1),a=i(o),u=n(4),l=i(u),c=n(3),d=i(c),p=n(0),h=i(p),f=n(182),m=i(f),g=n(5),_=i(g),v=function(e){function t(){return(0,a.default)(this,t),(0,l.default)(this,e.apply(this,arguments))}return(0,d.default)(t,e),t.prototype.render=function(){var e=m.default[this.props.icon];if(!e)return null;var t=(0,_.default)("QIcon","glyph","icon",this.props.icon+"-icon",this.props.className),n=String.fromCharCode(parseInt("e"+e,16));return h.default.createElement("span",{className:t},n)},t}(p.PureComponent);v.propTypes={className:p.PropTypes.string,icon:p.PropTypes.oneOf((0,s.default)(m.default)).isRequired},t.default=v,e.exports=t.default},348:function(e,t,n){(function(t){var i,r,s,o,a,u,l,c,d,p,h,f,m,g,_,v,S,y,E,C,T,w,P=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},R={}.hasOwnProperty,b=function(e,t){function n(){this.constructor=e}for(var i in t)R.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};l=n(24),a=n(675),p=n(588),u=n(185),c=n(227),s=n(272),h=n(728),d=n(616),g=n(806),m=n(265),w=n(93),v=n(115),C=n(26),E=n(25),T=n(74),S=n(786),y=n(207),_={}.hasOwnProperty,o=2500,i=3,r="en",f={terms:{},order:[],wordsToLuids:{},ignoredDuplicateWords:[],termImageMap:{},imageSearchResults:{},autodefineResults:{},profanityResults:{},phantomRow:null,activeRow:null,activeSide:"word",activeContext:null,setup:function(e,t,n){var i,r;null==t&&(t={}),null==n&&(n={});for(i in e)r=e[i],this.terms[i]=new g(r);return this._reorder(),this._createMinRows(),this._ensurePhantomRow(),this._generateTermImageMap(t,n),this._initWordsToLuids(),this.bindActions(c.actions.ACTIVATE_ROW,this._activateRow),this.bindActions(c.actions.ACTIVATE_SIDE,this._activateSide),this.bindActions(c.actions.ACTIVATE_ROW_SIDE,this._activateRowSide),this.bindActions(c.actions.ACTIVATE_OFFSET_ROW_CONTEXT,this._activateOffsetRowContext),this.bindActions(c.actions.FLIP_COLUMNS,this._flipColumns),this.bindActions(c.actions.CONTEXT_TOGGLE,this._contextToggle),this.bindActions(c.actions.CONTEXT_RESET,this._contextReset),this.bindActions(c.actions.LOCAL_BULK_CREATE,this._bulkCreate),this.bindActions(c.actions.UPDATE,this._update),this.bindActions(c.actions.UPDATE_SUCCESS,this._updateSuccess),this.bindActions(c.actions.DELETE,this._delete),this.bindActions(c.actions.MOVE,this._move),this.bindActions(c.actions.AUTODEFINE,this._autodefine),this.bindActions(c.actions.AUTODEFINE_SUCCESS,this._autodefineSuccess),this.bindActions(c.actions.AUTODEFINE_FAILURE,this._autodefineFailure),this.bindActions(u.actions.FOCUS_TITLE,this._deactivateRow),this.bindActions(s.actions.BULK_CREATE,this._bulkAssociateImage),this.bindActions(s.actions.REPLACE,this._associateImage),this.bindActions(s.actions.DELETE,this._unassociateImage),this.bindActions(s.actions.SEARCH,this._searchImage),this.bindActions(s.actions.SEARCH_SUCCESS,this._searchImageSuccess),this.bindActions(s.actions.SEARCH_FAILURE,this._searchImageFailure),this.bindActions(h.actions.CREATE_SUCCESS,this._associateTermImage),this.bindActions(h.actions.DELETE_SUCCESS,this._unassociateTermImage),this.bindActions(u.actions.SHOW_LANG_SELECT,this._showLangSelect),this.bindActions(c.actions.IGNORE_DUPLICATE_WORD,this._ignoreDuplicateWord),this.waitFor(p,CustomAudioStore),this.bindActions(d.actions.CREATE_SUCCESS,function(e){var t;return t=e.termLuid,[t]}),this.bindActions(d.actions.UPDATE_SUCCESS,function(e){var t;return t=e.models,[]}),this.bindActions(d.actions.DELETE_SUCCESS,function(e){var t;return t=e.termLuid,[t]})},getAll:function(){return this.terms},getOrder:function(){return this.order},getImageMap:function(){return this.termImageMap},getImageSearchResults:function(){return this.imageSearchResults},getAutodefineResults:function(){return this.autodefineResults},getProfanityResults:function(){return this.profanityResults},getPhantomRow:function(){return this.phantomRow},getActiveRow:function(){return this.activeRow},getActiveSide:function(){return this.activeSide},getActiveContext:function(){return this.activeContext},getWordsToLuids:function(){return this.wordsToLuids},getIgnoredDuplicateWords:function(){return this.ignoredDuplicateWords},isImagesOnly:function(){var e,t,n,i,r,s,o,a;n=!0,o=this.terms;for(s in o)if(i=o[s],a=this.termImageMap[s],r=a[0],t=a[1],e=!(!s||!r),(i.word||i.definition||e)&&(n=!1,i.word&&(i.definition||!e)))return!1;return!n},getNumFreeTerms:function(){var e,t,n,i,r,s,o,a;for(i=this.order.length,t=0,o=this.order,s=o.length-1;s>=0&&(n=o[s],a=this.terms[n],r=a.word,e=a.definition,!r&&!e);s+=-1)t++;return u.limits.MAX_TERMS-i+t},getNumSyncedTerms:function(){var e,t,n,i;e=0,i=this.terms;for(n in i)t=i[n],null!=t.id&&(e+=1);return e},getIndicesToAdd:function(e){var t;return t=u.limits.MAX_TERMS-this.order.length,e.slice(0,t)},getImagelessTermLuids:function(e,t){var n,i,r,s,o,a,u,l,c;for(s=this._getIndex(t),r=[],l=this.order.slice(s),a=0,u=l.length;a<u;a++)i=l[a],this._isPhantomRow(i)||(c=this.termImageMap[i]||[null,null],o=c[0],n=c[1],e[n]||r.push(i));return r},getImportInfo:function(){var e,t,n,i,r,s;for(n=[],e=r=s=this.order.length-2;r>=0&&(t=this.order[e],i=this.terms[t],!i.word&&!i.definition);e=r+=-1)n.push(t);return n.reverse(),{startIndex:e+1,luidsToReplace:n}},getUnsavedTermUpdates:function(){var e,t,n,i,r,s;r={},s=this.getAll();for(i in s)n=s[i],i in r||(t=!1,m.contains(i)?(e=m.getModel(i),(e.hasChanges()||null!=n.word&&T(n.word)!==e.get("word")||null!=n.definition&&T(n.definition)!==e.get("definition"))&&(t=!0)):t=!0,t&&(r[i]={rank:n.rank,word:n.word,definition:n.definition}));return r},hasTermLuid:function(e){return this._contains(e)},hasPhantomRow:function(){return this._hasPhantomRow()},_showLangSelect:function(){if(this.activeRow&&this.activeContext)return this.activeContext=null,[this.activeRow]},_activateSide:function(e){var t;return t=e.luid,this.activeSide=e.activeSide,[t]},_activateRowSide:function(e){var t;return t=e.luid,this.activeSide=e.activeSide,this._activateRow({luid:t})},_activateRow:function(e){var t,n,i;return n=e.luid,this._isPhantomRow(n)&&(this.phantomRow=null),this._isActiveRow(n)||(this.activeRow=n),this.activeContext=null,t=[n],(i=this._ensurePhantomRow())&&t.push(i),t},_deactivateRow:function(){var e;return e=this.activeRow?[this.activeRow]:[],this.activeRow=null,e},_contextToggle:function(e){var t,n,i;return i=e.luid,n=e.context,t=this._activateRow({luid:i}),this.activeContext=n,this._isActiveRow(i)||(this.activeRow=i),t},_contextReset:function(e){var t;return t=e.luid,this.activeContext=null,[t]},_activateOffsetRowContext:function(e){var t,n,i,r,s,o,a;return i=e.fromLuid,s=e.offset,n=e.context,o=this._getIndex(i)+s,r=this._getLastIndex(),a=o<=r?this.order[o]:null,null==a?[i]:(t=this._contextToggle({luid:a,context:n}),t.concat([i]))},_bulkCreate:function(e){var t,n,i,r,s,o,a,u,l,c,d,p,h;for(o=e.luids,r=e.indices,t=e.activatePhantom,l={},u={},i=c=0,p=o.length;c<p;i=++c)s=o[i],a=r[i],l[s]={$set:new g({rank:a})},u[s]=[null,null];for(this.terms=w(this.terms,l),this.termImageMap=w(this.termImageMap,{$merge:u}),n={},d=0,h=o.length;d<h;d++)s=o[d],n[s]=this.terms[s];return this._harmonizeRanks(n),t&&this._activateRow({luid:this.phantomRow}),o},_update:function(e){var t,n,i,r,s,o,a,u,l,c,d,p,h;a=e.luidToProps,h=e.wordLang,r=e.defLang,i=e.checkForProfanity,void 0===i&&(i=!0),c={},l={},d=function(){var e;e=[];for(o in a)e.push(o);return e}();for(o in a)u=a[o],s=this.terms[o],p=u.word,s?(c[o]={$merge:u},p!==s.word&&d.push(this._detachLuidFromWordAndGetChangingLuids(o))):(c[o]={$set:new g(u)},l[o]=[null,null]);t=this._attachLuidsToWordsAndGetChangingLuids(a),t&&(d=d.concat(t)),this.terms=w(this.terms,c),this.termImageMap=w(this.termImageMap,{$merge:l}),i&&(this.profanityResults=w(this.profanityResults,{$merge:this._detectProfanity(a,h,r)})),n={};for(o in a)n[o]=this.terms[o];return this._harmonizeRanks(n),d},_flipColumns:function(e){var t;return t=e.luidToProps,this._deactivateRow(),this._update({luidToProps:t,checkForProfanity:!1})},_ignoreDuplicateWord:function(e){var t;return t=e.word,this.ignoredDuplicateWords=w(this.ignoredDuplicateWords,{$push:[S(t)]}),this.wordsToLuids[S(t)]},_updateSuccess:function(e){var t,n,i,r,s,o,a,u,l,c;s=e.models,u={};for(n in s)r=s[n],a=this.terms[n],t=r.get("id"),o=r.get("setId"),c=r.get("_wordTtsUrl"),l=r.get("_definitionTtsUrl"),i={},t&&!a.id&&(i.id=t),o&&!a.setId&&(i.setId=o),c!==a._wordTtsUrl&&(i._wordTtsUrl=c),l!==a._definitionTtsUrl&&(i._definitionTtsUrl=l),C(i)>0&&(u[n]={$merge:i});return C(u)>0&&(this.terms=w(this.terms,u)),function(){var e;e=[];for(n in u)e.push(n);return e}()},_delete:function(e){var t,n,i,r,s;return i=e.luid,this._ensureContains(i),this._isPhantomRow(i)&&(this.phantomRow=null),this._contextReset(i),s=this._getSiblingRow(i,1),n=this.order.indexOf(i),this.order=w(this.order,{$splice:[[n,1]]}),t=[i],t.push(this._detachLuidFromWordAndGetChangingLuids(i)),this.terms=v(this.terms,[i]),this._harmonizeRanks(),s&&!this._isActiveRow(s)&&(this.activeRow=s,t.push(s)),(r=this._ensurePhantomRow())&&t.push(r),t},_move:function(e){var t,n,i,r,s,o,a,u,l;return n=e.luid,o=e.oldIndex,i=e.newIndex,this._ensureContains(n),u=this.terms[n],a=u.rank,s=this._lookupByIndex(i),r=s?s.rank:a+(i-o),l=E(n,{$merge:{}}),l[n].$merge.rank=r,this.terms=w(this.terms,l),t=E(n,this.terms[n]),this._harmonizeRanks(t),[n]},_bulkAssociateImage:function(e){var t,n,i,r,s,o,a;for(i={},r=0,o=e.length;r<o;r++)t=e[r],this._ensureContains(t.termLuid),a=this.termImageMap[t.termLuid],n=a[0],s=a[1],i[t.termLuid]=[n,t.imageLuid];return this.termImageMap=w(this.termImageMap,{$merge:i}),e.map(function(e){return e.termLuid})},_associateImage:function(e){var t,n;return t=e.luid,n=e.termLuid,this._bulkAssociateImage([{imageLuid:t,termLuid:n}])},_unassociateImage:function(e){var t,n,i,r,s;return t=e.luid,i=e.termLuid,this._ensureContains(i),s=this.termImageMap[i],n=s[0],r=s[1],this._setTermImageMapForLuid(i,[n,null]),[i]},_associateTermImage:function(e){var t,n,i;return n=e.luid,i=e.termLuid,t=e.imageLuid,this._ensureContains(i),this._setTermImageMapForLuid(i,[n,t]),[i]},_unassociateTermImage:function(e){var t,n,i;return n=e.luid,i=e.termLuid,t=e.imageLuid,this._ensureContains(i),this._setTermImageMapForLuid(i,[null,null]),[i]},_searchImage:function(e){var t,n,i,r;return n=e.luid,i=e.query,t=e.lang,this._ensureContains(n),r=E(n),r[n]={results:{},imageLuids:[],lang:t,queryString:i,isLoading:!0,error:null},this.imageSearchResults=w(this.imageSearchResults,{$merge:r}),[n]},_searchImageSuccess:function(e){var t,n,i;if(n=e.luid,t=e.imageLuids,this._ensureContains(n),null!=this.imageSearchResults[n])return i=E(n,{$merge:{}}),i[n].$merge={imageLuids:t,isLoading:!1},this.imageSearchResults=w(this.imageSearchResults,i),[n]},_searchImageFailure:function(e){var t,n,i;if(n=e.luid,t=e.error,this._ensureContains(n),null!=this.imageSearchResults[n])return i=E(n,{$merge:{}}),i[n].$merge={error:t},this.imageSearchResults=w(this.imageSearchResults,i),[n]},_autodefine:function(e){var t,n,i;return t=e.luid,n=e.query,this._ensureContains(t),i=E(t),i[t]={data:[],queryString:n,isLoading:!0,error:null},this.autodefineResults=w(this.autodefineResults,{$merge:i}),[t]},_autodefineSuccess:function(e){var n,i,r;if(i=e.luid,n=e.autodefineResults,this._ensureContains(i),null!=this.autodefineResults[i])return r=E(i,{$merge:{}}),n=n.data.autodefine,0===n.length?t.logPageAction("new_create_set_select_autodefine_search_results_empty"):t.logPageAction("new_create_set_select_autodefine_search_results_exist"),r[i].$merge={data:n,isLoading:!1},this.autodefineResults=w(this.autodefineResults,r),[i]},_autodefineFailure:function(e){var t,n,i;if(n=e.luid,t=e.error,this._ensureContains(n),null!=this.autodefineResults[n])return i=E(n,{$merge:{}}),i[n].$merge={error:t,isLoading:!1},this.autodefineResults=w(this.autodefineResults,i),[n]},_harmonizeRanks:function(e){var t,n,i,r,s,a,u,l,c,d;null==e&&(e={}),s={},i=0;for(n in e){for(a=e[n],r=a.rank,void 0===r&&(r=o+1);s[r];)r++;s[r]=n,r>i&&(i=r)}for(r=0,d=this.order,u=0,c=d.length;u<c;u++)if(n=d[u],!(n in e)){for(;s[r];)r++;s[r]=n}for(i=Math.max(r,i),r=0,t=l=0;0<=i?l<=i:l>=i;t=0<=i?++l:--l)t in s&&(n=s[t],this.terms[n].rank=r,r++);this._reorder()},_generateTermImageMap:function(e,t){var n,i,r,s,o,a,u,l,c,d,p;if(C(e)!==C(t))throw new Error("termImages and images must have the same length");s={};for(r in t)i=t[r].id,s[i]=r;u={};for(a in e){if(d=e[a],o=d.termId,n=d.definitionImageId,r=s[n],!r)throw new Error("termImage must have corresponding image");u[o]=[a,r]}c={},p=this.terms;for(l in p)i=p[l].id,c[l]=u[i]||[null,null];return this.termImageMap=w(this.termImageMap,{$merge:c})},_setTermImageMapForLuid:function(e,t){var n;return n=E(e,t),this.termImageMap=w(this.termImageMap,{$merge:n})},_printRanks:function(){var e,t,n,i,r,s,o,a;for(r=function(){var e,t,i,r;for(i=this.order,r=[],e=0,t=i.length;e<t;e++)n=i[e],r.push(this.terms[n].rank);return r}.call(this),e=0,a=[],t=s=0,o=r.length;s<o;t=++s){if(i=r[t],i!==t){console.error("Gap at index="+t+" for ranks="+r);break}a.push(void 0)}return a},_reorder:function(){var e,t;return t=function(){var t;t=[];for(e in this.terms)t.push(e);return t}.call(this),t.sort(function(e){return function(t,n){return e.terms[t].rank-e.terms[n].rank}}(this)),this.order=t,this._printRanks()},_lookupByIndex:function(e){return e>=this.order.length||e<0?null:this.terms[this.order[e]]},_ensureContains:function(e){if(!this._contains(e))throw new Error("LUID "+e+" not found")},_contains:function(e){return P.call(this.order,e)>=0&&e in this.terms},_hasPhantomRow:function(){
return null!==this.phantomRow},_isPhantomRow:function(e){return e===this.phantomRow},_isActiveRow:function(e){return e===this.activeRow},_getNumTerms:function(){var e;return e=this.order.length,this._hasPhantomRow()&&(e-=1),e},_getIndex:function(e){return this.order.indexOf(e)},_getLastIndex:function(){return this._getNumTerms()-1},_getSiblingRow:function(e,t){var n,i;return i=this._getIndex(e)+t,n=this._getLastIndex(),i<=n?this.order[i]:n>0&&t>0?this.order[n-1]:null},_ensurePhantomRow:function(){var e,t;if(!(this.order.length>=u.limits.MAX_TERMS))return this._hasPhantomRow()?void 0:(e=this.order.length,t=m.add(e),this._bulkCreate({luids:[t],indices:[e]}),this.phantomRow=t,t)},_createMinRows:function(){var e,t,n,i,r,s,o,a,l;if(s=this.order.length,a=0===this.order.length?u.limits.MIN_TERMS_BLANK_SET:u.limits.MIN_TERMS,r=a-s,r>0)return o=s,e=s+r,n=function(){l=[];for(var t=o;o<=e?t<e:t>e;o<=e?t++:t--)l.push(t);return l}.apply(this),i=function(){var e,i,r;for(r=[],e=0,i=n.length;e<i;e++)t=n[e],r.push(m.add(t));return r}(),this._bulkCreate({luids:i,indices:n})},_initWordsToLuids:function(){var e,t,n,i,r;n={},r=this.terms;for(e in r)t=r[e],null!=t.word&&""!==t.word&&(i=S(t.word),n[i]&&n[i].$set?n[i].$set.push(e):n[i]={$set:[e]});return this.wordsToLuids=w(this.wordsToLuids,n)},_attachLuidsToWordsAndGetChangingLuids:function(e){var t,n,i,r,s,o,a;r={},t=[];for(n in e)s=e[n].word,s&&(a=S(s),P.call(this.ignoredDuplicateWords,a)<0)&&(o=S(s),_.call(this.wordsToLuids,o)?(i=this.wordsToLuids[o],P.call(i,n)<0&&(r[o]&&r[o].$push?r[o].$push.push(n):r[o]={$push:[n]}),t=t.concat(i)):r[o]&&r[o].$set?r[o].$set.push(n):r[o]={$set:[n]});return C(r)>0&&(this.wordsToLuids=w(this.wordsToLuids,r)),t},_detachLuidFromWordAndGetChangingLuids:function(e){var t,n,i,r,s;return r=this.terms[e].word,s=S(r),n=this.wordsToLuids[s],!_.call(this.wordsToLuids,s)||P.call(n,e)<0?[]:(t=n.indexOf(e),i=E(s,{$splice:[[t,1]]}),this.wordsToLuids=w(this.wordsToLuids,i),1===C(this.wordsToLuids[s])?this.wordsToLuids[s]:void 0)},_detectProfanity:function(e,t,n){var s,o,a,u,l;a={};for(o in e)l=e[o],u=l.word,s=l.definition,a[o]={word:{data:{level:u&&(y(u,t)||t!==r&&y(u,r))?i:0}},definition:{data:{level:s&&(y(s,n)||s!==r&&y(s,r))?i:0}}};return a}},b(f,l),f.init(),e.exports=f}).call(t,n(2))},360:function(e,t,n){"use strict";function i(e){return e.replace(/\*([^*\n\r]+)\*/g,function(e,t){return"<b>"+t+"</b>"})}t.__esModule=!0,t.default=i,e.exports=t.default},361:function(e,t,n){"use strict";(function(n){function i(e){return n.document.activeElement===e}t.__esModule=!0,t.default=i,e.exports=t.default}).call(t,n(2))},362:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return t.indexOf(e)>=0}function s(e,t){var n=r(e,u.default.chineseLanguages)||r(t,u.default.chineseLanguages);return n&&!r(e,u.default.symbolicLanguages)}function o(e,t,n){return e&&s(t,n)?c.default.convert(e):e}t.__esModule=!0,t.default=o;var a=n(49),u=i(a),l=n(118),c=i(l);e.exports=t.default},364:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(1),s=i(r),o=n(4),a=i(o),u=n(3),l=i(u),c=n(61),d=i(c),p=n(74),h=i(p),f=n(111),m=i(f),g=n(208),_=i(g),v=n(205),S=i(v),y=function(e){function t(){return(0,s.default)(this,t),(0,a.default)(this,e.apply(this,arguments))}return(0,l.default)(t,e),t.prototype.isPublished=function(){return this.publishedTimestamp>0},t.prototype.displayTitle=function(){return(0,m.default)(this.title)},t.prototype.displayDescription=function(){return(0,h.default)((0,m.default)(this.description))},t.prototype.displayRichDescription=function(){return(0,_.default)(this.displayDescription())},t.prototype.getModePath=function(e){return"/"+this.id+"/"+e},t.fromJson=function(e){return(0,S.default)(t,e)},t}(d.default);t.default=y,e.exports=t.default},37:function(e,t,n){!function(t){function n(e,t){for(var n=e.length;n--;)if(e[n]===t)return n;return-1}function i(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function r(e){for(C in w)w[C]=e[I[C]]}function s(e){var t,i,s,o,a,l;if(t=e.keyCode,n(A,t)==-1&&A.push(t),93!=t&&224!=t||(t=91),t in w){w[t]=!0;for(s in R)R[s]==t&&(u[s]=!0)}else if(r(e),u.filter.call(this,e)&&t in T)for(l=f(),o=0;o<T[t].length;o++)if(i=T[t][o],i.scope==l||"all"==i.scope){a=i.mods.length>0;for(s in w)(!w[s]&&n(i.mods,+s)>-1||w[s]&&n(i.mods,+s)==-1)&&(a=!1);(0!=i.mods.length||w[16]||w[18]||w[17]||w[91])&&!a||i.method(e,i)===!1&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}function o(e){var t,i=e.keyCode,r=n(A,i);if(r>=0&&A.splice(r,1),93!=i&&224!=i||(i=91),i in w){w[i]=!1;for(t in R)R[t]==i&&(u[t]=!1)}}function a(){for(C in w)w[C]=!1;for(C in R)u[C]=!1}function u(e,t,n){var i,r;i=v(e),void 0===n&&(n=t,t="all");for(var s=0;s<i.length;s++)r=[],e=i[s].split("+"),e.length>1&&(r=S(e),e=[e[e.length-1]]),e=e[0],e=L(e),e in T||(T[e]=[]),T[e].push({shortcut:i[s],scope:t,method:n,key:i[s],mods:r})}function l(e,t){var n,r,s,o,a,u=[];for(n=v(e),o=0;o<n.length;o++){if(r=n[o].split("+"),r.length>1&&(u=S(r)),e=r[r.length-1],e=L(e),void 0===t&&(t=f()),!T[e])return;for(s=0;s<T[e].length;s++)a=T[e][s],a.scope===t&&i(a.mods,u)&&(T[e][s]={})}}function c(e){return"string"==typeof e&&(e=L(e)),n(A,e)!=-1}function d(){return A.slice(0)}function p(e){var t=e.target||e.srcElement,n=t.tagName,i=t.className,r="INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n,s=i&&i.indexOf("js-keymaster-allow")>=0;return r||s}function h(e){P=e?[e]:[]}function f(){return P.length?P[P.length-1]:"all"}function m(e){P.push(e)}function g(e){newScope=[];for(var t=0;t<P.length&&P[t]!==e;t++)newScope.push(P[t]);P=newScope}function _(e){var t,n,i;for(t in T)for(n=T[t],i=0;i<n.length;)n[i].scope===e?n.splice(i,1):i++}function v(e){var t;return e=e.replace(/\s/g,""),t=e.split(","),""==t[t.length-1]&&(t[t.length-2]+=","),t}function S(e){for(var t=e.slice(0,e.length-1),n=0;n<t.length;n++)t[n]=R[t[n]];return t}function y(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,function(){n(window.event)})}function E(){var e=t.key;return t.key=D,e}var C,T={},w={16:!1,18:!1,17:!1,91:!1},P=[],R={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,command:91},b={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},L=function(e){return b[e]||e.toUpperCase().charCodeAt(0)},A=[];for(C=1;C<20;C++)b["f"+C]=111+C;var I={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};for(C in R)u[C]=!1;y(document,"keydown",function(e){s(e)}),y(document,"keyup",o),y(window,"focus",a);var D=t.key;t.key=u,t.key.setScope=h,t.key.getScope=f,t.key.pushScope=m,t.key.popScope=g,t.key.deleteScope=_,t.key.filter=p,t.key.isPressed=c,t.key.getPressedKeyCodes=d,t.key.noConflict=E,t.key.unbind=l,e.exports=u}(this)},38:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return"undefined"!=typeof t[n]?t[n]:e[n]}t.__esModule=!0;var s=n(8),o=i(s),a=n(13),u=i(a),l=n(1),c=i(l),d=n(4),p=i(d),h=n(3),f=i(h),m=n(0),g=i(m),_=n(142),v=i(_),S=n(134),y=i(S),E=5e3,C=function(e){function t(){return(0,c.default)(this,t),(0,p.default)(this,e.apply(this,arguments))}return(0,f.default)(t,e),t.prototype.render=function(){var e=this.props,t=e.disableTransition,n=(0,u.default)(e,["disableTransition"]);t&&(n.transitionAppear=n.transitionEnter=n.transitionLeave=!1);var i=function(e){return g.default.createElement(y.default,{appear:r(n,e.props,"transitionAppear"),appearTimeout:r(n,e.props,"transitionAppearTimeout"),enter:r(n,e.props,"transitionEnter"),enterTimeout:r(n,e.props,"transitionEnterTimeout"),leave:r(n,e.props,"transitionLeave"),leaveTimeout:r(n,e.props,"transitionLeaveTimeout"),name:r(n,e.props,"transitionName")},e)};return g.default.createElement(v.default,(0,o.default)({},n,{childFactory:i}))},t}(m.PureComponent);C.propTypes={children:m.PropTypes.node,className:m.PropTypes.string,component:m.PropTypes.node,disableTransition:m.PropTypes.bool,transitionAppear:m.PropTypes.bool,transitionAppearTimeout:m.PropTypes.number,transitionEnter:m.PropTypes.bool,transitionEnterTimeout:m.PropTypes.number,transitionLeave:m.PropTypes.bool,transitionLeaveTimeout:m.PropTypes.number,transitionName:m.PropTypes.string.isRequired},C.defaultProps={disableTransition:!1,transitionAppear:!1,transitionAppearTimeout:E,transitionEnter:!0,transitionEnterTimeout:E,transitionLeave:!0,transitionLeaveTimeout:E},t.default=C,e.exports=t.default},380:function(e,t,n){var i,r,s={}.hasOwnProperty,o=function(e,t){function n(){this.constructor=e}for(var i in t)s.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};r=n(23),e.exports=i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return o(t,e),t.URL_BASE="classes",t.MODEL_NAME="class",t}(r)},381:function(e,t,n){var i,r,s={}.hasOwnProperty,o=function(e,t){function n(){this.constructor=e}for(var i in t)s.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};r=n(23),e.exports=i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return o(t,e),t.URL_BASE="class-sets",t.MODEL_NAME="classSet",t.MERGE_CONFLICTING_MODELS=!0,t._resolveModelWithConflictingProperties=function(e,n){var i,r,s,o;i=e.getChanges(),t.__super__.constructor._resolveModelWithConflictingProperties.call(this,e,n),o=[];for(r in i)s=i[r],o.push(e.set(r,s));return o},t}(r)},382:function(e,t,n){var i,r,s={}.hasOwnProperty,o=function(e,t){function n(){this.constructor=e}for(var i in t)s.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};r=n(23),e.exports=i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return o(t,e),t.URL_BASE="folder-sets",t.MODEL_NAME="folderSet",t.MERGE_CONFLICTING_MODELS=!0,t._resolveModelWithConflictingProperties=function(e,n){var i,r,s,o;i=e.getChanges(),t.__super__.constructor._resolveModelWithConflictingProperties.call(this,e,n),o=[];for(r in i)s=i[r],o.push(e.set(r,s));return o},t}(r)},40:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.split(v),n=[],i=0;t[i]&&n.push(t[i]),i+=1;for(var r=_.exec(e);r;)n.push(u.default.createElement("b",{key:"md-"+i},r[1])),t[i]&&n.push(t[i]),i++,r=_.exec(e);return n}t.__esModule=!0,t.DEFINITION_SIDE=t.TERM_SIDE=t.WORD_SIDE=void 0;var s=n(8),o=i(s),a=n(0),u=i(a),l=n(10),c=i(l),d=n(5),p=i(d),h=n(83),f=i(h),m=n(120),g=i(m),_=/\*([^*\n\r]+)\*/g,v=/\*[^*\n\r]+\*/g,S=/(\r\n|\n\r|\r|\n)/,y=t.WORD_SIDE="word",E=(t.TERM_SIDE=y,t.DEFINITION_SIDE="definition"),C=u.default.createClass({displayName:"TermText",propTypes:{className:u.default.PropTypes.string,lang:u.default.PropTypes.string.isRequired,maxLength:u.default.PropTypes.number,side:u.default.PropTypes.oneOf([y,E]).isRequired,term:u.default.PropTypes.object.isRequired,textfit:u.default.PropTypes.oneOfType([u.default.PropTypes.bool,u.default.PropTypes.shape({forceSingleModeWidth:u.default.PropTypes.bool,max:u.default.PropTypes.number,min:u.default.PropTypes.number,mode:u.default.PropTypes.string,onReady:u.default.PropTypes.func,perfectFit:u.default.PropTypes.bool,style:u.default.PropTypes.object,throttle:u.default.PropTypes.number})])},mixins:[c.default],getJsxFromStr:function(e){var t=this,n=e;this.props.maxLength&&(n=(0,f.default)(n,this.props.maxLength));var i=0,s=n.split(S).map(function(e){return e.match(S)?u.default.createElement("br",{key:"key-"+i++}):"math"!==t.props.lang&&"chem"!==t.props.lang?r(e):e});return s},renderText:function(){if(this.props.side===y)return this.getJsxFromStr(this.props.term.word||"...");var e=this.props.term.definition;return e||this.props.term._imageUrl||(e="..."),this.getJsxFromStr(e)},render:function(){var e=(0,p.default)("TermText","notranslate",this.props.className,"lang-"+this.props.lang,{qWord:this.props.side===y,qDef:this.props.side===E});if(this.props.textfit){var t="boolean"==typeof this.props.textfit?{}:this.props.textfit;return u.default.createElement(g.default,(0,o.default)({className:e},t),this.renderText())}return u.default.createElement("span",{className:e},this.renderText())}});t.default=C},417:function(e,t,n){"use strict";function i(e){return Array.isArray(e)?e.concat():e&&"object"==typeof e?a(new e.constructor,e):e}function r(e,t,n){Array.isArray(e)?void 0:o("1",n,e);var i=t[n];Array.isArray(i)?void 0:o("2",n,i)}function s(e,t){if("object"!=typeof t?o("3",m.join(", "),p):void 0,u.call(t,p))return 1!==Object.keys(t).length?o("4",p):void 0,t[p];var n=i(e);if(u.call(t,h)){var _=t[h];_&&"object"==typeof _?void 0:o("5",h,_),n&&"object"==typeof n?void 0:o("6",h,n),a(n,t[h])}u.call(t,l)&&(r(e,t,l),t[l].forEach(function(e){n.push(e)})),u.call(t,c)&&(r(e,t,c),t[c].forEach(function(e){n.unshift(e)})),u.call(t,d)&&(Array.isArray(e)?void 0:o("7",d,e),Array.isArray(t[d])?void 0:o("8",d,t[d]),t[d].forEach(function(e){Array.isArray(e)?void 0:o("8",d,t[d]),n.splice.apply(n,e)})),u.call(t,f)&&("function"!=typeof t[f]?o("9",f,t[f]):void 0,n=t[f](n));for(var v in t)g.hasOwnProperty(v)&&g[v]||(n[v]=s(e[v],t[v]));return n}var o=n(287),a=n(44),u=(n(288),{}.hasOwnProperty),l="$push",c="$unshift",d="$splice",p="$set",h="$merge",f="$apply",m=[l,c,d,p,h,f],g={};m.forEach(function(e){g[e]=!0}),e.exports=s},424:function(e,t,n){!function(t,n){e.exports=n()}(this,function(){"use strict";function e(e,t){var n,i=document.createElement(e||"div");for(n in t)i[n]=t[n];return i}function t(e){for(var t=1,n=arguments.length;t<n;t++)e.appendChild(arguments[t]);return e}function n(e,t,n,i){var r=["opacity",t,~~(100*e),n,i].join("-"),s=.01+n/i*100,o=Math.max(1-(1-e)/t*(100-s),e),a=l.substring(0,l.indexOf("Animation")).toLowerCase(),u=a&&"-"+a+"-"||"";return d[r]||(p.insertRule("@"+u+"keyframes "+r+"{0%{opacity:"+o+"}"+s+"%{opacity:"+e+"}"+(s+.01)+"%{opacity:1}"+(s+t)%100+"%{opacity:"+e+"}100%{opacity:"+o+"}}",p.cssRules.length),d[r]=1),r}function i(e,t){var n,i,r=e.style;for(t=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<c.length;i++)if(n=c[i]+t,void 0!==r[n])return n;if(void 0!==r[t])return t}function r(e,t){for(var n in t)e.style[i(e,n)||n]=t[n];return e}function s(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)void 0===e[i]&&(e[i]=n[i])}return e}function o(e,t){return"string"==typeof e?e:e[t%e.length]}function a(e){this.opts=s(e||{},a.defaults,h)}function u(){function n(t,n){return e("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}p.addRule(".spin-vml","behavior:url(#default#VML)"),a.prototype.lines=function(e,i){function s(){return r(n("group",{coordsize:c+" "+c,coordorigin:-l+" "+-l}),{width:c,height:c})}function a(e,a,u){t(p,t(r(s(),{rotation:360/i.lines*e+"deg",left:~~a}),t(r(n("roundrect",{arcsize:i.corners}),{width:l,height:i.width,left:i.radius,top:-i.width>>1,filter:u}),n("fill",{color:o(i.color,e),opacity:i.opacity}),n("stroke",{opacity:0}))))}var u,l=i.length+i.width,c=2*l,d=2*-(i.width+i.length)+"px",p=r(s(),{position:"absolute",top:d,left:d});if(i.shadow)for(u=1;u<=i.lines;u++)a(u,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(u=1;u<=i.lines;u++)a(u);return t(e,p)},a.prototype.opacity=function(e,t,n,i){var r=e.firstChild;i=i.shadow&&i.lines||0,r&&t+i<r.childNodes.length&&(r=r.childNodes[t+i],r=r&&r.firstChild,r=r&&r.firstChild,r&&(r.opacity=n))}}var l,c=["webkit","Moz","ms","O"],d={},p=function(){var n=e("style",{type:"text/css"});return t(document.getElementsByTagName("head")[0],n),n.sheet||n.styleSheet}(),h={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",position:"absolute"};a.defaults={},s(a.prototype,{spin:function(t){this.stop();var n=this,i=n.opts,s=n.el=r(e(0,{className:i.className}),{position:i.position,width:0,zIndex:i.zIndex});i.radius+i.length+i.width;if(r(s,{left:i.left,top:i.top}),t&&t.insertBefore(s,t.firstChild||null),s.setAttribute("role","progressbar"),n.lines(s,n.opts),!l){var o,a=0,u=(i.lines-1)*(1-i.direction)/2,c=i.fps,d=c/i.speed,p=(1-i.opacity)/(d*i.trail/100),h=d/i.lines;!function e(){a++;for(var t=0;t<i.lines;t++)o=Math.max(1-(a+(i.lines-t)*h)%d*p,i.opacity),n.opacity(s,t*i.direction+u,o,i);n.timeout=n.el&&setTimeout(e,~~(1e3/c))}()}return n},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(i,s){function a(t,n){return r(e(),{position:"absolute",width:s.length+s.width+"px",height:s.width+"px",background:t,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/s.lines*c+s.rotate)+"deg) translate("+s.radius+"px,0)",borderRadius:(s.corners*s.width>>1)+"px"})}for(var u,c=0,d=(s.lines-1)*(1-s.direction)/2;c<s.lines;c++)u=r(e(),{position:"absolute",top:1+~(s.width/2)+"px",transform:s.hwaccel?"translate3d(0,0,0)":"",opacity:s.opacity,animation:l&&n(s.opacity,s.trail,d+c*s.direction,s.lines)+" "+1/s.speed+"s linear infinite"}),s.shadow&&t(u,r(a("#000","0 0 4px #000"),{top:"2px"})),t(i,t(u,a(o(s.color,c),"0 0 1px rgba(0,0,0,.1)")));return i},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}});var f=r(e("group"),{behavior:"url(#default#VML)"});return!i(f,"transform")&&f.adj?u():l=i(f,"animation"),a})},427:function(e,t,n){var i,r,s,o={}.hasOwnProperty,a=function(e,t){function n(){this.constructor=e}for(var i in t)o.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};s=n(48),r=n(381),i={},a(i,s),i.init(r),e.exports=i},428:function(e,t,n){var i,r,s,o={}.hasOwnProperty,a=function(e,t){function n(){this.constructor=e}for(var i in t)o.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};s=n(48),r=n(382),i={},a(i,s),i.init(r),e.exports=i},429:function(e,t,n){var i,r,s,o,a,u,l={}.hasOwnProperty,c=function(e,t){function n(){this.constructor=e}for(var i in t)l.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};s=n(27),o=n(48),a=n(524),r=n(833),u=n(114),i={},c(i,o),c(i,{uploader:null,init:function(e){return this.MODEL=e,o.init.call(this,this.MODEL),this.uploader=new a({url:i.MODEL._getBaseUrl()}),this.uploader.on("before",function(e){return function(){return e.emit("sync:begin")}}(this)),this.uploader.on("complete",function(e){return function(){return e.emit("sync:end")}}(this))},save:function(e,t,n){var i,o,a;return null==n&&(n={}),i=s.defer(),o=this.uploader.add(t),this.uploader.on("item:failure",function(t){return function(n,r){var s;if(o===r)return s=t.getModel(e),i.reject([n,e,s])}}(this)),this.uploader.on("item:complete",function(t){return function(n,s,a){var l;if(o===a)return l=t.getModel(e),n||(n=r._checkServerResponse(s)),n?void i.reject([n,e,l]):(r._updateModelsWithServerResponse([l],s),l.isValid()?i.resolve([e,l]):(n=new u("Validation errors while saving image: id="+l.get("id")),i.reject([n,e,l])))}}(this)),a=n.onProgress,a&&this.uploader.on("item:progress",function(t,n){if(o===n)return a([e,t])}),i.promise},search:function(e,t,n){return null==t&&(t=null),null==n&&(n=null),this.MODEL.search(e,t,n).then(this.bulkAdd.bind(this))}}),i.init(r),e.exports=i},469:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(1),s=i(r),o=n(4),a=i(o),u=n(3),l=i(u),c=n(0),d=i(c),p=n(5),h=i(p),f=function(e){function t(){return(0,s.default)(this,t),(0,a.default)(this,e.apply(this,arguments))}return(0,l.default)(t,e),t.prototype.render=function(){var e=(0,h.default)({GroupedRadio:!0,"is-disabled":this.props.isDisabled}),t=this.props.groupValue===this.props.value,n=t?this.props.children:null,i=this.props.sublabel?d.default.createElement("span",{className:"GroupedRadio-sublabel"},this.props.sublabel):null,r=this.props.name+this.props.value;return d.default.createElement("div",{className:e},d.default.createElement("div",{className:"GroupedRadio-radio"},d.default.createElement("input",{checked:t,disabled:this.props.isDisabled,id:r,name:this.props.name,onChange:this.props.onChange,ref:"radio",type:"radio",value:this.props.value})),d.default.createElement("div",{className:"GroupedRadio-contents"},d.default.createElement("label",{className:"GroupedRadio-radioLabel field",htmlFor:r},d.default.createElement("span",{className:"GroupedRadio-label"},this.props.label),i),n))},t.prototype.focus=function(){this.refs.radio.focus()},t.prototype.blur=function(){this.refs.radio.blur()},t}(c.PureComponent);f.propTypes={children:c.PropTypes.node,groupValue:c.PropTypes.string,isDisabled:c.PropTypes.bool,label:c.PropTypes.node.isRequired,name:c.PropTypes.string.isRequired,onChange:c.PropTypes.func,sublabel:c.PropTypes.node,value:c.PropTypes.string.isRequired},t.default=f,e.exports=t.default},47:function(e,t,n){"use strict";(function(e){function i(e){return e&&e.__esModule?e:{default:e}}function r(t){setTimeout(function(){e.location=t},0)}function s(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.document.createElement("form"),r=e.document.createElement("input");r.type="submit",i.appendChild(r),i.style.display="none",i.method="post",i.action=t,(0,a.default)(n).forEach(function(e){var t=document.createElement("input");t.name=e,t.value=n[e],i.appendChild(t)}),e.document.body.appendChild(i),r.click()}t.__esModule=!0;var o=n(11),a=i(o);t.default=r,t.redirectViaPOST=s}).call(t,n(2))},471:function(e,t,n){"use strict";(function(i,r){function s(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=n(1),a=s(o),u=n(4),l=s(u),c=n(3),d=s(c),p=n(0),h=s(p),f=n(169),m=s(f),g=n(34),_=s(g),v=n(7),S=s(v),y=function(e){function t(){return(0,a.default)(this,t),(0,l.default)(this,e.apply(this,arguments))}return(0,d.default)(t,e),t.prototype.renderBackLink=function(){return h.default.createElement("div",null,h.default.createElement("span",{className:"Divider"},h.default.createElement("span",{className:"Divider-label Divider-label--lowercase SignupPromptModal-dividerLabel"},h.default.createElement(S.default,{_precomputed:i("en-US","or",{})}))),h.default.createElement("div",{className:"SignupPromptModal-paragraph"},h.default.createElement("a",{href:"/"},h.default.createElement(S.default,{_precomputed:i("en-US","Back to homepage.",{})}))))},t.prototype.render=function(){var e="/login",t="/sign-up",n="?redir="+encodeURIComponent(this.props.redir);return e+=n,t+=n,this.props.signupOrigin&&(t+="&signupOrigin="+encodeURIComponent(this.props.signupOrigin)),h.default.createElement("div",{className:"SignupPromptModal"},h.default.createElement(m.default,{name:"SignupPromptModal",includeCloseButton:this.props.includeCloseButton,isOpen:this.props.isOpen,onClose:this.props.onClose},h.default.createElement("div",{className:"SignupPromptModal-content"},h.default.createElement("h1",{className:"SignupPromptModal-headline"},this.props.headline),h.default.createElement("div",{className:"SignupPromptModal-buttons"},h.default.createElement("div",{className:"SignupPromptModal-buttonWrapper"},h.default.createElement("a",{className:"google button Button--large",href:this.props.googleLoginUrl},h.default.createElement(_.default,{icon:"google"}),h.default.createElement("span",{className:"label"},h.default.createElement(S.default,{_precomputed:i("en-US","Sign up with Google",{})})))),h.default.createElement("div",{className:"SignupPromptModal-buttonWrapper"},h.default.createElement("a",{className:"facebook button Button--large",href:this.props.facebookLoginUrl},h.default.createElement(_.default,{icon:"facebook"}),h.default.createElement("span",{className:"label"},h.default.createElement(S.default,{_precomputed:i("en-US","Sign up with Facebook",{})})))),h.default.createElement("div",{className:"SignupPromptModal-buttonWrapper"},h.default.createElement("a",{className:"Button Button--large Button--gray",href:t},h.default.createElement("span",{className:"label"},h.default.createElement(S.default,{_precomputed:i("en-US","Sign up with email",{})}))))),h.default.createElement("div",{className:"SignupPromptModal-paragraph"},h.default.createElement(S.default,{_precomputed:i("en-US","Already have a Quizlet account?",{})})," ",h.default.createElement("a",{className:"SignupPromptModal-logIn",href:e},h.default.createElement(S.default,{_precomputed:i("en-US","Log in",{})})),"."),this.props.includeBackLink?this.renderBackLink():null)))},t}(p.PureComponent);y.propTypes={facebookLoginUrl:p.PropTypes.string.isRequired,googleLoginUrl:p.PropTypes.string.isRequired,headline:p.PropTypes.string.isRequired,includeBackLink:p.PropTypes.bool,includeCloseButton:p.PropTypes.bool,isOpen:p.PropTypes.bool,onClose:p.PropTypes.func,redir:p.PropTypes.string,signupOrigin:p.PropTypes.string},y.defaultProps={includeBackLink:!1,redir:r.window.location.href},t.default=y,e.exports=t.default}).call(t,n(6),n(2))},479:function(e,t,n){"use strict";(function(i){function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var s=n(15),o=r(s),a=(0,o.default)("SetPermissionConstants",{actions:{TOGGLE_CLASS:null,TOGGLE_CLASS_PERMISSIONS:null,CHANGE_PERMISSION:null},permissions:{EVERYONE:null,CLASSES:null,PASSWORD:null,JUST_ME:null},sides:{VIEWING:null,EDITING:null}});a.errors={PASSWORD_EMPTY_ERROR:{identifier:"password_empty_error",message:i("en-US","You must enter a password")},CLASSES_EMPTY_ERROR:{identifier:"classes_empty_error",message:i("en-US","You must select at least 1 class")}},t.default=a,e.exports=t.default}).call(t,n(6))},48:function(e,t,n){(function(t){var i,r,s,o,a,u,l,c,d,p,h,f,m,g,_,v,S={}.hasOwnProperty,y=function(e,t){function n(){this.constructor=e}for(var i in t)S.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};g=n(25),m=n(136),_=n(26),v=n(85),u=n(162),p=n(114),d=n(77),a=n(140),l=n(27),i=n(41).EventEmitter,h=function(e){return e===d.DELETE||e===d.BULK_DELETE},f=function(e){return e===d.UPDATE||e===d.BULK_UPDATE},r=500,o=1e4,s=(new Date).getTime(),c={BATCH_SIZE:200,MODEL:null,SYNC_DELAY_MS:1e4,shouldSyncDelay:!1,_isProcessing:!1,_hasSyncingError:!1,models:null,queues:null,pendingOps:null,_luidIndex:0,_seqCounter:0,_attemptCount:0,_waitTimeout:0,_waitInterval:0,init:function(e){return this.MODEL=e,this.models={},this.queues={},this.pendingOps={}},setShouldSyncDelay:function(e){this.shouldSyncDelay=null==e||e},isSyncing:function(){return this._isProcessing},getLuid:function(){return""+this.MODEL.MODEL_NAME+"-"+this._luidIndex++},getOpSeq:function(){return"op-seq-"+this._seqCounter++},contains:function(e){return e in this.models&&e in this.queues},getModel:function(e){return this._ensureContains(e),this.models[e]},add:function(e){var t;return t=this.getLuid(),this.models[t]=this.MODEL.fromJson(e),this._resetQueue(t),t},bulkAdd:function(e){var t,n,i,r;if(!(e instanceof Array))throw new Error("bulkAdd takes an array");for(n={},i=0,r=e.length;i<r;i++)t=e[i],n[this.add(t)]=t;return n},save:function(e,t,n){return null==n&&(n=!1),this._ensureContains(e),this._promiseSync(d.UPDATE,g(e,t),n)},addAndSave:function(e,t){var n;return null==t&&(t=!1),n=this.add(),this.save(n,e,t)},bulkAddAndSave:function(e,t){var n;if(null==t&&(t=!1),!(e instanceof Array))throw new Error("bulkAddAndSave takes an array");return n=this.bulkAdd(e),this.bulkSave(n,t)},bulkSave:function(e,t){var n;null==t&&(t=!1);for(n in e)this._ensureContains(n);return this._promiseSync(d.BULK_UPDATE,e,t)},del:function(e){return this._ensureContains(e),this._promiseSync(d.DELETE,g(e),!0)},bulkDel:function(e){var t,n,i,r;for(n={},i=0,r=e.length;i<r;i++)t=e[i],this._ensureContains(t),n[t]={};return this._promiseSync(d.BULK_DELETE,n,!0)},reset:function(){return this._luidIndex=0,this._seqCounter=0,this._attemptCount=0,this._waitTimeout=0,this._waitInterval=0,this.init(this.MODEL)},_promiseSync:function(e,t,n){var i,r,s,o;return null==n&&(n=!1),o=l.defer(),i=o.promise,s=o.resolve,r=o.reject,this._enqueue(e,t,s,r),this._sync(n),i},beginSyncing:function(){var e;if(e=this._isProcessing,this._isProcessing=!0,!e)return this.emit("sync:begin")},endSyncing:function(){var e;if(e=this._isProcessing,this._isProcessing=!1,e)return this.emit("sync:end")},errorSyncing:function(){return this._hasSyncingError=!0,this._attemptCount+=1,this.emit("sync:error")},recoverSyncing:function(){var e;if(e=this._hasSyncingError,this._hasSyncingError=!1,this._attemptCount=0,e)return this.emit("sync:recover")},_ensureContains:function(e){if(!this.contains(e))throw new Error("LUID "+e+" not found in "+this.MODEL.MODEL_NAME+"Syncer")},_localDelete:function(e){return this._ensureContains(e),delete this.models[e],delete this.queues[e]},_isQueuedForDelete:function(e,t){return null==t&&(t=this.queues[e]),this._ensureContains(e),t.length&&h(m(t).type)},_resetQueue:function(e){return this.queues[e]=[]},_enqueue:function(e,t,n,i){var r,s,o,u;o=this.getOpSeq(),this.pendingOps[o]=new a(e,_(t),n,i),u=[];for(r in t){if(s=t[r],this._isQueuedForDelete(r))throw new Error("Cannot queue new changes. LUID "+r+" is queued for deletion");u.push(this.queues[r].push({seq:o,type:e,props:s}))}return u},_flushQueues:function(){var e,t,n,i,r;t={},e=0,r=this.queues;for(n in r)if(i=r[n],i.length&&(t[n]=i,this._resetQueue(n),e+=1,e>=this.BATCH_SIZE))break;return t},_reinsertQueues:function(e){var t,n,i;i=[];for(t in e)n=e[t],i.push(this.queues[t]=n.concat(this.queues[t]));return i},_splitQueues:function(e){var t,n,i,r,s,o,a,u,l,c,d,p,h;u=[],a=[],c=[];for(t in e)if(r=e[t],o=function(){var e,t,n;for(n=[],e=0,t=r.length;e<t;e++)s=r[e].seq,n.push(s);return n}(),this._isQueuedForDelete(t,r))a.push([t,this.models[t],o]);else{for(n=this.models[t],d=0,p=r.length;d<p;d++){if(h=r[d],l=h.type,i=h.props,!f(l))throw new Error("Unsupported type="+l);n.setAll(i)}n.isClientValid()?u.push([t,n,o]):c.push([t,n,o])}return[u,a,c]},_addArgToCallback:function(e,t,n,i){if(null==i&&(i=null),!(e in this.pendingOps))throw new Error("Seq "+e+" not found in stored callbacks");return this.pendingOps[e].fulfill(t,n,i)},_prepareCallbacks:function(e,t){var n,i,r,s,o,a,u,l,c,d,h,f,m,g,_,v,S;if(e instanceof Error)for(n=e,l=0,f=t.length;l<f;l++)for(v=t[l],r=v[0],s=v[1],u=v[2],c=0,m=u.length;c<m;c++)a=u[c],this._addArgToCallback(a,r,s,n);else{if(e.length!==t.length)throw new Error("Models and LUIDs lengths do not match");for(i=d=0,g=e.length;d<g;i=++d)for(s=e[i],S=t[i],r=S[0],o=S[1],u=S[2],n=s.isValid()?null:new p,h=0,_=u.length;h<_;h++)a=u[h],this._addArgToCallback(a,r,s,n)}},_invokeAndClearCallbacks:function(){var e,t,n;n=this.pendingOps;for(t in n)e=n[t],e.isReadyToInvoke()&&e.invokeCallback();return this._clearInvokedCallbacks()},_clearInvokedCallbacks:function(){var e,t,n,i;n=this.pendingOps,i=[];for(t in n)e=n[t],e.wasInvoked()&&i.push(delete this.pendingOps[t]);return i},_sync:function(e){if(null==e&&(e=!1),!this.isSyncing()){if(this.shouldSyncDelay&&!e){if(this.delayTimer)return;return this.delayTimer=timeoutSet(this.SYNC_DELAY_MS,function(e){return function(){if(!e.isSyncing())return e.beginSyncing(),e._syncQueueLoop(),e.delayTimer=!1}}(this))}return this.delayTimer&&(timeoutClear(this.delayTimer),this.delayTimer=null),this.beginSyncing(),this._syncQueueLoop()}},_syncQueueLoop:function(){var e,t,n,i,s;return t=this._flushQueues(),0===_(t)?void this.endSyncing():(s=this._splitQueues(t),n=s[0],e=s[1],i=s[2],this._syncModels(n).then(function(t){return function(){return t._syncModels(e,!0)}}(this)).then(function(e){return function(){return e._prepareCallbacks(new p,i)}}(this)).then(function(e){return function(){return e._invokeAndClearCallbacks()}}(this)).catch(function(e){return function(){return e._reinsertQueues(t)}}(this)).finally(function(e){return function(){var t,n,i;return intervalClear(e._waitInterval),timeoutClear(e._waitTimeout),
e._hasSyncingError?(t=Math.min(o,r*Math.pow(2,e._attemptCount)),n=t/2+Math.floor(Math.random()*t/2),i=(new Date).getTime()+n,e._waitInterval=intervalSet(1e3,function(){var t;if(t=Math.round((i-(new Date).getTime())/1e3),t>=0)return e.emit("sync:wait",t)}),e._waitTimeout=timeoutSet(n,function(){return e._syncQueueLoop()})):e._syncQueueLoop()}}(this)))},_syncModels:function(e,t){return null==t&&(t=!1),new l.Promise(function(n){return function(i,r){var s,o,a,l;return a=function(){var t,n,i,r;for(r=[],t=0,n=e.length;t<n;t++)i=e[t],s=i[0],o=i[1],r.push(o);return r}(),0===a.length?i():(l=n._generateRequestIdFromQueue(e),n._logRequestStartTime(),(t?n.MODEL.bulkDelete(a,l):n.MODEL.bulkSave(a,l)).then(function(t){var i,r;return i=t[0],r=t[1],n._prepareCallbacks(r,e)}).then(function(){return n.recoverSyncing()}).then(function(){return i()}).catch(function(t){return t instanceof u?(n._enableLoggingRequestTiming(),n.errorSyncing(),r(t)):(n._prepareCallbacks(t,e),i())}).finally(function(){return n._logRequestEndTime()}))}}(this))},_generateRequestIdFromQueue:function(e){var t,n,i,r,o,a,u,l,c,d,p;for(r=s+":"+this.MODEL.MODEL_NAME+":",t=[],u=0,c=e.length;u<c;u++)for(p=e[u],n=p[0],i=p[1],a=p[2],l=0,d=a.length;l<d;l++)o=a[l],t.push(o);return t=v(t),r+=t.join("|")},_enableLoggingRequestTiming:function(){return this._shouldLog=!0},_logRequestStartTime:function(){return this._requestStartTime=(new Date).getTime()},_logRequestEndTime:function(){if(this._requestEndTime=(new Date).getTime(),this._shouldLog)return t.logPageAction("create_set_request_timing",{lengthMs:this._requestEndTime-this._requestStartTime,syncer:this.MODEL.MODEL_NAME})}},y(c,i.prototype),e.exports=c}).call(t,n(2))},480:function(e,t,n){"use strict";(function(i){function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var s=n(1),o=r(s),a=function(){function e(t){var n=this;(0,o.default)(this,e),this.id=0,this.isRecording=!1,this.isTestingMicrophone=!1,this.mutedAlreadySent=!1,this.callbacks={},this.node=null,this.worker=null,this.callbacks={record:t.onChunk,stop:t.onStop,cancel:t.onCancel,ready:t.onReady,micMuted:t.onMicMuted,testingResult:function(e){return n._processTest(e)}},this.node=t.context.createScriptProcessor(t.bufferLen||4096,1,1),this.node.addEventListener("audioprocess",this._processAudio.bind(this),!1),this.worker=new Worker(t.workerPath),this.worker.onmessage=function(e){var t=e.data,i=t.id,r=t.command,s=t.data;n.callbacks[r]&&i===n.id&&n.callbacks[r](s)},this.isTestingMicrophone=!0;var i=t.context.sampleRate;this.worker.postMessage({command:"init",config:{sampleRate:i}})}return e.prototype._processTest=function(e){e?(this.isTestingMicrophone=!1,this.callbacks.ready()):this.mutedAlreadySent||(this.callbacks.micMuted(),this.mutedAlreadySent=!0)},e.prototype._processAudio=function(e){this.isRecording?this.worker.postMessage({id:this.id,command:"record",buffer:e.inputBuffer.getChannelData(0)}):this.isTestingMicrophone&&this.worker.postMessage({id:this.id,command:"testing",buffer:e.inputBuffer.getChannelData(0)})},e.prototype.record=function(){this.id++,this.isRecording=!0,i.console.time("Start recording -> Stop recording")},e.prototype.stop=function(){this.isRecording=!1,i.console.timeEnd("Start recording -> Stop recording"),this.worker.postMessage({id:this.id,command:"stop"})},e.prototype.cancel=function(){this.isRecording=!1,this.worker.postMessage({id:this.id,command:"cancel"})},e.prototype.connect=function(e){this.node.connect(e)},e}();t.default=a,e.exports=t.default}).call(t,n(2))},481:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(9),s=i(r),o=n(22),a=i(o),u=n(1),l=i(u),c=function(){function e(t,n){(0,l.default)(this,e),this.socket=t,this.json({sampleRate:n,command:"newfile"})}return e.prototype.json=function(e){this.socket.send((0,a.default)(e))},e.prototype.write=function(e){this.socket.send(e)},e.prototype.close=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.json((0,s.default)(e,{command:"endfile"}))},e.prototype.cancel=function(){this.json({command:"cancel"})},e}();t.default=c,e.exports=t.default},482:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(11),s=i(r),o=n(9),a=i(o),u=n(1),l=i(u),c=n(323),d=i(c),p=n(324),h=i(p),f=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,l.default)(this,e),this.settings=(0,a.default)({plugins:[h.default,d.default],onIsUsable:function(){},onNotUsable:function(){}},n),this.pluginProps=(0,a.default)({},n),this.methodBuffer=[],this.plugin={init:function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.methodBuffer.push(["init",n])},stop:function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.methodBuffer.push(["stop",n])},cancel:function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.methodBuffer.push(["cancel",n])},record:function(){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.methodBuffer.push(["record",[r].concat(n)])},hasPermission:function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.methodBuffer.push(["hasPermission",n])},needsPermission:function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.methodBuffer.push(["needsPermission",n])},getVolume:function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.methodBuffer.push(["getVolume",n])}},(0,s.default)(this.plugin).forEach(function(e){t[e]=function(){for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return t.plugin[e].apply(t.plugin,i)}}),this.initUsablePlugin()}return e.prototype.initUsablePlugin=function(){var e=this,t=this.settings.plugins.shift();return t?(this.pluginProps.onIsUsable=function(t,n){if(t)for(e.plugin=n,e.settings.onIsUsable&&e.settings.onIsUsable(t);e.methodBuffer.length;){var i=e.methodBuffer.shift(),r=i[0],s=i[1];e.plugin[r].apply(e.plugin,s)}else e.initUsablePlugin()},void t.create(this.pluginProps)):this.settings.onNotUsable&&this.settings.onNotUsable()},e}();t.default=f,e.exports=t.default},49:function(e,t){e.exports={allLanguages:{af:"Afrikaans",ak:"Akan",akk:"Akkadian",sq:"Albanian",ase:"American Sign Language",am:"Amharic",ang:"Anglo-Saxon",ar:"Arabic",hy:"Armenian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bh:"Bihari",bs:"Bosnian",bg:"Bulgarian",br:"Breton",my:"Burmese",ca:"Catalan",ceb:"Cebuano",ch:"Chamorro",chem:"Chemistry",chr:"Cherokee","zh-CN":"Chinese (Simplified)","zh-pi":"Chinese (Pinyin)","zh-TW":"Chinese (Traditional)",co:"Corsican",cho:"Choctaw",cop:"Coptic",hr:"Croatian",cs:"Czech",da:"Danish",den:"Dene",dv:"Dhivehi",luo:"Dholuo",nl:"Dutch",en:"English",eo:"Esperanto",et:"Estonian",fo:"Faroese",fi:"Finnish",dyo:"Jola-Fonyi",fr:"French",ff:"Fula",gd:"Gaelic",gl:"Galician",ka:"Georgian",de:"German",got:"Gothic",el:"Greek",gn:"Guarani",gu:"Gujarati",hai:"Haida",ht:"Haitian Creole",ha:"Hausa",haw:"Hawaiian",iw:"Hebrew",hi:"Hindi",hmv:"Hmong",hu:"Hungarian",is:"Icelandic",ig:"Igbo",hil:"Ilonggo",id:"Indonesian",ipa:"International Phonetic Alphabet (IPA)",iu:"Inuktitut",ga:"Irish",it:"Italian",ja:"Japanese","ja-ro":"Japanese (Romaji)","ja-ka":"Japanese (Kana)",jv:"Javanese",kg:"KiKongo",kin:"Kinyarwanda",kio:"Kiowa",kn:"Kannada",kk:"Kazakh",km:"Khmer",mjd:"Konkow",ko:"Korean",ksw:"Sgaw Karen",ku:"Kurdish",ky:"Kyrgyz",lkt:"Lakota",lo:"Lao",la:"Latin",lv:"Latvian",unm:"Lenape",ln:"Lingala",lt:"Lithuanian",lua:"Luba-Kasai",lb:"Luxembourgish",mk:"Macedonian",ms:"Malay",mg:"Malagasy",ml:"Malayalam",mt:"Maltese",mnk:"Mandinka",mi:"Maori",rar:"Maori (Cook Islands)",mr:"Marathi",mh:"Marshallese",math:"Math / Symbols",moh:"Mohawk",mn:"Mongolian",nah:"Nahuatl",nv:"Navajo",ne:"Nepali",no:"Norwegian",oc:"Occitan",or:"Oriya",om:"Oromo",oj:"Ojibwe",pi:"Pāli",ps:"Pashto",fa:"Persian",photo:"Photos",fil:"Filipino",pl:"Polish",pt:"Portuguese",pa:"Punjabi",qu:"Quechua",ro:"Romanian",rm:"Romansh",ru:"Russian",sm:"Samoan",sa:"Sanskrit",see:"Seneca",sr:"Serbian",shn:"Shan",sd:"Sindhi",si:"Sinhalese",sk:"Slovak",sl:"Slovenian",so:"Somali",es:"Spanish",su:"Sundanese",sw:"Swahili",sv:"Swedish",syc:"Syriac",tl:"Tagalog",tg:"Tajik",ta:"Tamil",tt:"Tatar",te:"Telugu",tet:"Tetum",th:"Thai",bo:"Tibetan",ti:"Tigrinya",to:"Tonga",ood:"Tohono O'odham",trc:"Triki",tr:"Turkish",tyv:"Tuvan",uk:"Ukrainian",ur:"Urdu",uz:"Uzbek",ug:"Uighur",vi:"Vietnamese",cy:"Welsh",fy:"Western Frisian",win:"Winnebago",wo:"Wolof",xh:"Xhosa",yi:"Yiddish",yo:"Yoruba",zu:"Zulu","??":"Other / Unknown"},customLanguages:["zh-pi","ja-ka","ja-ro","ase","chem","math","photo","??"],invisibleLanguages:["photo","ja-ka"],frequentLanguages:["en","es","fr","it","de","ru","ja","ja-ro","zh-CN","zh-TW","zh-pi","ko","math","chem","la"],ttsLanguages:["pt","fr","it","de","nl","sv","fi","pl","el","tr","ru","ar","ro","en","es","ja","ko","zh-CN","zh-TW","zh-pi"],rightToLeftLanguages:["ar","dv","fa","iw","ku","ps","sd","ug","ur","yi"],caseSensitiveLanguages:["de","chem","math"],symbolicLanguages:["chem","math","photo"],chineseLanguages:["zh-CN","zh-TW","zh-pi"],hardLanguages:["zh-CN","zh-TW","ja","ko"]}},504:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(193),s=i(r),o={getViewportHeight:function(){return s.default.getHeight()},getViewportWidth:function(){return s.default.getWidth()}};t.default=o,e.exports=t.default},509:function(e,t,n){"use strict";function i(e,t){return(e%t+t)%t}t.__esModule=!0,t.default=i,e.exports=t.default},512:function(e,t,n){"use strict";function i(e){return e.replace(r,"")}t.__esModule=!0,t.default=i;var r=/[\.,;!#\$\/:\'\(\)\[\]_\\\"¡]/g;e.exports=t.default},522:function(e,t,n){var i,r;i=n(272),e.exports=r={hasImageOrPlacholder:function(){return this.hasImagePlaceholder()||this.hasImage()},hasImagePlaceholder:function(){return this.hasPlainImagePlaceholder()||this.hasRichImagePlaceholder()},hasPlainImagePlaceholder:function(){var e;return(null!=(e=this.props.placeholderImage)?e.type:void 0)===i.placeholders.PLAIN},hasRichImagePlaceholder:function(){var e;return(null!=(e=this.props.placeholderImage)?e.type:void 0)===i.placeholders.RICH},isUploadProcessing:function(){var e;return null!=(e=this.props.placeholderImage)?e.isProcessing:void 0},isImageUploading:function(){var e;return null!=(e=this.props.placeholderImage)?e.isUploading:void 0},hasImage:function(){var e;return null!=(e=this.props.image)&&"function"==typeof e.getSecurePath?e.getSecurePath():void 0},hasOrIsUploadingImage:function(){return this.hasImagePlaceholder()||this.isUploadProcessing()||this.isImageUploading()||this.hasImage()}}},524:function(e,t,n){(function(t){var i,r,s,o,a,u={}.hasOwnProperty,l=function(e,t){function n(){this.constructor=e}for(var i in t)u.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};a=n(52),r=n(162),i=n(41).EventEmitter,o=n(51),e.exports=s=function(e){function n(e){a(this.options,e),this.files=[],this.requests=[]}return l(n,e),n.prototype.options={url:"",headers:{}},n.prototype.requests=null,n.prototype.files=null,n.prototype.completed=0,n.prototype.progress=0,n.prototype.hasFailures=!1,n.prototype.add=function(e,t){var n,i;if(null==t&&(t=[{}]),!this._isSupported(e))throw new Error("Unsupported upload file type");return this.completed===this.requests.length&&this.emit("before"),n=this.requests.length,i=this._request({luid:n,url:this.options.url,fileOrForm:e,data:t,headers:this.options.headers}),this.files.push(e),this.requests.push(i),n},n.prototype.remove=function(e){var t,n,i,r,s;for(s=this.files,t=i=0,r=s.length;i<r;t=++i)n=s[t],n===e&&this.requests[t].abort()},n.prototype.abort=function(){var e,t,n,i;for(i=this.requests,t=0,n=i.length;t<n;t++)e=i[t],e.abort()},n.prototype._request=function(e){var t;return this._isFormElement(e.fileOrForm)?t=this._reqFormElement(e):this._isFileBlob(e.fileOrForm)&&(t=this._reqFileBlob(e)),t},n.prototype._isFormElement=function(e){return"FORM"===(null!=e?e.tagName:void 0)},n.prototype._isFileBlob=function(e){var t;return"[object Blob]"===(t=Object.prototype.toString.call(e))||"[object File]"===t},n.prototype._isSupported=function(e){return this._isFormElement(e)||this._isFileBlob(e)},n.prototype._reqFormElement=function(e){var n,i,s,o,a;return n=e.fileOrForm,o="upload-iframe-"+e.luid,s=this._createIframe(o),t.document.documentElement.appendChild(s),t.window.frames[o].name=o,a=function(t){return function(n){var i,r;i=null;try{r=JSON.parse(n),n={body:r},t._onItemSuccess(n,e.luid)}catch(n){i=n,t._onItemFailure(i,e.luid)}return t._onItemComplete(i,n,e.luid),s.parentNode.removeChild(s)}}(this),i=function(t){return function(){var n,o;s.removeEventListener?s.removeEventListener("load",i,!1):s.detachEvent&&s.detachEvent("onload",i);try{return n=s.contentDocument?s.contentDocument.body:s.contentWindow?s.contentWindow.document.body:s.document.body,a(n.innerText||n.textContent)}catch(n){if(o=n,"SecurityError"!==o.name)throw o;return t._onItemFailure(new r,e.luid)}}}(this),s.addEventListener?s.addEventListener("load",i,!0):s.attachEvent&&s.attachEvent("onload",i),this._setFormAttributes(n,o,e.url),Quizlet.appendCstokenToForm(n),n.submit()},n.prototype._createIframe=function(e){var t;return t=document.createElement("iframe"),t.setAttribute("id",e),t.setAttribute("name",e),t.setAttribute("width","0"),t.setAttribute("height","0"),t.setAttribute("border","0"),t.setAttribute("style","width:0;height:0;border:none;"),t},n.prototype._setFormAttributes=function(e,t,n){return e.setAttribute("target",t),e.setAttribute("action",n+"?contentType="+encodeURIComponent("text/html")),e.setAttribute("method","post"),e.setAttribute("enctype","multipart/form-data"),e.setAttribute("encoding","multipart/form-data")},n.prototype._reqFileBlob=function(e){var t,n,i,r,s;t=e.fileOrForm,i=o.post(e.url).credentials().accept("application/json").field("data",JSON.stringify(e.data)).attach("image[]",t,t.name),s=e.headers;for(n in s)r=s[n],i.set(n,r);return i.on("progress",function(t){return function(n){if(n.lengthComputable)return t._onItemProgress(n.percent,e.luid)}}(this)),i.end(function(t){return function(n,i){return n?t._onItemFailure(n,e.luid):t._onItemSuccess(i,e.luid),t._onItemComplete(n,i,e.luid)}}(this)),i},n.prototype._onItemSuccess=function(e,t){return this.emit("item:success",e,t)},n.prototype._onItemFailure=function(e,t){return this.hasFailures=!0,this.emit("item:failure",e,t)},n.prototype._onItemProgress=function(e,t){return this.emit("item:progress",e,t),100!==e&&(this.progress+=e),this.emit("progress",this.progress/this.requests.length)},n.prototype._onItemComplete=function(e,t,n){if(this.emit("item:complete",e,t,n),this.completed+=1,this.completed===this.requests.length)return this.hasFailures?this.emit("failure",this.requests):this.emit("success",this.requests),this.emit("complete",this.requests)},n}(i)}).call(t,n(2))},525:function(e,t,n){(function(t){var n;e.exports=n=function(){function e(e){this.isMac=null!=e&&e}return e.prototype.getKeyDisplayText=function(e){switch(e.toLowerCase()){case"command":case"ctrl":case"control":return this.isMac?t("en-US","Cmd"):t("en-US","Ctrl");case"option":case"alt":return this.isMac?t("en-US","Opt"):t("en-US","Alt");case"shift":return t("en-US","Shift");case"tab":return t("en-US","Tab");default:return e.toUpperCase()}},e.prototype.getKeys=function(e){var t,n,i,r,s;for(e=e.replace(/\s/g,""),e=e.split(",")[0],r=e.split("+"),s=[],n=0,i=r.length;n<i;n++)t=r[n],s.push(this.getKeyDisplayText(t));return s},e}()}).call(t,n(6))},526:function(e,t){var n,i,r=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};n=function(e,t){var n,i;return n=null!=e&&null!=(i=e.type)?i.toLowerCase():void 0,r.call(t,n)>=0},e.exports=i=function(e,t,i,r,s){var o,a,u,l,c,d,p;if("object"==typeof i&&null!=i&&(d=i,i=d.onSuccess,r=d.onFailure,s=d.onComplete),!(null!=e?e.length:void 0))return"function"==typeof s?s(0):void 0;for(l=[],o=[],u=c=0,p=e.length;0<=p?c<p:c>p;u=0<=p?++c:--c)a=e.item(u),n(a,t)?("function"==typeof i&&i(a),l.push(a)):("function"==typeof r&&r(a),o.push(a));return"function"==typeof s?s(e.length,l,o):void 0}},588:function(e,t,n){var i,r,s,o,a,u,l,c,d,p,h,f,m={}.hasOwnProperty,g=function(e,t){function n(){this.constructor=e}for(var i in t)m.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};s=n(24),r=n(185),o=n(227),i=n(272),a=n(616),c=n(805),l=n(264),f=n(93),d=n(115),h=n(26),p=n(25),u={termCustomAudios:{},termTermCustomAudioMap:{},termCustomAudioCustomAudioMap:{},setup:function(e,t,n,i){var r,s;null==t&&(t={}),null==n&&(n={}),null==i&&(i={});for(r in e)s=e[r],this.termCustomAudios[r]=new c(s);return this._generateTermCustomAudioTermsMap(t),this._generateTermCustomAudioCustomAudioMap(n,i),this.bindActions(a.actions.FLIP_COLUMNS,this._flipColumns),this.bindActions(a.actions.CREATE_SUCCESS,this._createSuccess),this.bindActions(a.actions.UPDATE_SUCCESS,this._updateSuccess),this.bindActions(a.actions.DELETE_SUCCESS,this._deleteSuccess)},getAll:function(){return this.termCustomAudios},getTermMap:function(){return this.termTermCustomAudioMap},getCustomAudioMap:function(){return this.termCustomAudioCustomAudioMap},_flipColumns:function(){var e,t,n,i,r,s,o,a;for(r={},i={},a=Object.keys(this.termCustomAudios),s=0,o=a.length;s<o;s++)t=a[s],n=this.termCustomAudios[t],e=this.termCustomAudioCustomAudioMap[t],n&&(r[t]={$merge:{wordCustomAudioId:n.definitionCustomAudioId,definitionCustomAudioId:n.wordCustomAudioId}}),e&&(i[t]={$merge:{word:e.definition,definition:e.word}});return this.termCustomAudios=f(this.termCustomAudios,r),this.termCustomAudioCustomAudioMap=f(this.termCustomAudioCustomAudioMap,i)},_createSuccess:function(e){var t,n,i,r,s;return n=e.luid,s=e.termLuid,t=e.customAudioLuid,r=e.side,i=e.model,this.termCustomAudios[n]=new c(i.properties),this._associateTerm(s,[n]),this._associateCustomAudio(t,[n],r),[n]},_updateSuccess:function(e){var t,n,i,r,s;r=e.models,s={};for(t in r)m.call(r,t)&&(n=r[t],i={},null==n.get("wordCustomAudioId")&&(i.word=null),null==n.get("definitionCustomAudioId")&&(i.definition=null),h(i)&&(s[t]={$merge:i}));return this.termCustomAudioCustomAudioMap=f(this.termCustomAudioCustomAudioMap,s),Object.keys(r)},_deleteSuccess:function(e){var t,n;return t=e.luid,n=e.termLuid,this.termCustomAudios=d(this.termCustomAudios,[t]),this.termCustomAudioCustomAudioMap=d(this.termCustomAudioCustomAudioMap,[t]),this.termTermCustomAudioMap=d(this.termTermCustomAudioMap,[n]),[t]},_generateTermCustomAudioTermsMap:function(e){var t,n,i,r,s,o;o=[];for(r in e)s=e[r],i=function(){var e,i;e=this.termCustomAudios,i=[];for(n in e)t=e[n],t.termId===s.id&&i.push(n);return i}.call(this),o.push(this._associateTerm(r,i));return o},_generateTermCustomAudioCustomAudioMap:function(e,t){var n,i,r,s,o,u,l,c;for(u in e)l=e[u],o=function(){var e,t;e=this.termCustomAudios,t=[];for(s in e)r=e[s],r.wordCustomAudioId===l.id&&t.push(s);return t}.call(this),this._associateCustomAudio(u,o,a.sides.WORD);c=[];for(n in t)i=t[n],o=function(){var e,t;e=this.termCustomAudios,t=[];for(s in e)r=e[s],r.definitionCustomAudioId===i.id&&t.push(s);return t}.call(this),c.push(this._associateCustomAudio(n,o,a.sides.DEFINITION));return c},_associateTerm:function(e,t){var n,i,r,s;for(n={},r=0,s=t.length;r<s;r++)i=t[r],this._ensureContains(i),n[e]=i;return this.termTermCustomAudioMap=f(this.termTermCustomAudioMap,{$merge:n})},_associateCustomAudio:function(e,t,n){var i,r,s,o,a;for(r={},o=0,a=t.length;o<a;o++)s=t[o],this._ensureContains(s),s in this.termCustomAudioCustomAudioMap?r[s]={$merge:p(n,e)}:(i={word:null,definition:null},i[n]=e,r[s]={$set:i});return this.termCustomAudioCustomAudioMap=f(this.termCustomAudioCustomAudioMap,r)},_ensureContains:function(e){if(!this._contains(e))throw new Error("LUID "+e+" not found")},_contains:function(e){return e in this.termCustomAudios}},g(u,s),u.init(),e.exports=u},590:function(e,t){/*!
Chosen, a Select Box Enhancer for jQuery and Prototype
by Patrick Filler for Harvest, http://getharvest.com

Version 1.1.0
Full source at https://github.com/harvesthq/chosen
Copyright (c) 2011 Harvest http://getharvest.com

MIT License, https://github.com/harvesthq/chosen/blob/master/LICENSE.md
This file is generated by `grunt build`, do not edit it by hand.
*/
e.exports=function(e){(function(){var t,n,i,r,s,o={}.hasOwnProperty,a=function(e,t){function n(){this.constructor=e}for(var i in t)o.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};r=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,n,i,r,s,o;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:this.escapeExpression(e.label),children:0,disabled:e.disabled}),s=e.childNodes,o=[],i=0,r=s.length;i<r;i++)n=s[i],o.push(this.add_option(n,t,e.disabled));return o},e.prototype.add_option=function(e,t,n){if("OPTION"===e.nodeName.toUpperCase())return""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,selected:e.selected,disabled:n===!0?n:e.disabled,group_array_index:t,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},e.prototype.escapeExpression=function(e){var t,n;return null==e||e===!1?"":/[\&\<\>\"\'\`]/.test(e)?(t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n=/&(?!\w+;)|[\<\>\"\'\`]/g,e.replace(n,function(e){return t[e]||"&amp;"})):e},e}(),r.select_to_array=function(e){var t,n,i,s,o;for(n=new r,o=e.childNodes,i=0,s=o.length;i<s;i++)t=o[i],n.add_node(t);return n.parsed},n=function(){function e(t,n){this.form_field=t,this.options=null!=n?n:{},e.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers())}return e.prototype.set_default_values=function(){var e=this;return this.click_test_action=function(t){return e.test_active_click(t)},this.activate_action=function(t){return e.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.disable_autofocus=this.options.disable_autofocus||!1,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options},e.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||e.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||e.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||e.default_no_result_text},e.prototype.mouse_enter=function(){return this.mouse_on_container=!0},e.prototype.mouse_leave=function(){return this.mouse_on_container=!1},e.prototype.input_focus=function(e){var t=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return t.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},e.prototype.input_blur=function(e){var t=this;if(!this.mouse_on_container)return this.active_field=!1,setTimeout(function(){return t.blur_test()},100)},e.prototype.results_option_build=function(e){var t,n,i,r,s;for(t="",s=this.results_data,i=0,r=s.length;i<r;i++)n=s[i],t+=n.group?this.result_add_group(n):this.result_add_option(n),(null!=e?e.first:void 0)&&(n.selected&&this.is_multiple?this.choice_build(n):n.selected&&!this.is_multiple&&this.single_set_selected_text(n.text));return t},e.prototype.result_add_option=function(e){var t,n;return e.search_match&&this.include_option_in_results(e)?(t=[],e.disabled||e.selected&&this.is_multiple||t.push("active-result"),!e.disabled||e.selected&&this.is_multiple||t.push("disabled-result"),e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),n=document.createElement("li"),n.className=t.join(" "),n.style.cssText=e.style,n.setAttribute("data-option-array-index",e.array_index),n.innerHTML=e.search_text,this.outerHTML(n)):""},e.prototype.result_add_group=function(e){var t;return(e.search_match||e.group_match)&&e.active_options>0?(t=document.createElement("li"),t.className="group-result",t.innerHTML=e.search_text,this.outerHTML(t)):""},e.prototype.results_update_field=function(){if(this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing)return this.winnow_results()},e.prototype.reset_single_select_options=function(){var e,t,n,i,r;for(i=this.results_data,r=[],t=0,n=i.length;t<n;t++)e=i[t],e.selected?r.push(e.selected=!1):r.push(void 0);return r},e.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},e.prototype.results_search=function(e){return this.results_showing?this.winnow_results():this.results_show()},e.prototype.winnow_results=function(){var e,t,n,i,r,s,o,a,u,l,c,d,p;for(this.no_results_clear(),r=0,o=this.get_search_text(),e=o.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),i=this.search_contains?"":"^",n=new RegExp(i+e,"i"),l=new RegExp(e,"i"),p=this.results_data,c=0,d=p.length;c<d;c++)t=p[c],t.search_match=!1,s=null,this.include_option_in_results(t)&&(t.group&&(t.group_match=!1,t.active_options=0),null!=t.group_array_index&&this.results_data[t.group_array_index]&&(s=this.results_data[t.group_array_index],0===s.active_options&&s.search_match&&(r+=1),s.active_options+=1),t.group&&!this.group_search||(t.search_text=t.group?t.label:t.html,t.search_match=this.search_string_match(t.search_text,n),t.search_match&&!t.group&&(r+=1),t.search_match?(o.length&&(a=t.search_text.search(l),u=t.search_text.substr(0,a+o.length)+"</em>"+t.search_text.substr(a+o.length),t.search_text=u.substr(0,a)+"<em>"+u.substr(a)),null!=s&&(s.group_match=!0)):null!=t.group_array_index&&this.results_data[t.group_array_index].search_match&&(t.search_match=!0)));return this.result_clear_highlight(),r<1&&o.length?(this.update_results_content(""),this.no_results(o)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},e.prototype.search_string_match=function(e,t){var n,i,r,s;if(t.test(e))return!0;if(this.enable_split_word_search&&(e.indexOf(" ")>=0||0===e.indexOf("["))&&(i=e.replace(/\[|\]/g,"").split(" "),i.length))for(r=0,s=i.length;r<s;r++)if(n=i[r],t.test(n))return!0},e.prototype.choices_count=function(){var e,t,n,i;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,i=this.form_field.options,t=0,n=i.length;t<n;t++)e=i[t],e.selected&&(this.selected_option_count+=1);return this.selected_option_count},e.prototype.choices_click=function(e){if(e.preventDefault(),!this.results_showing&&!this.is_disabled)return this.results_show()},e.prototype.keyup_checker=function(e){var t,n;switch(t=null!=(n=e.which)?n:e.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(e.preventDefault(),this.results_showing)return this.result_select(e);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},e.prototype.clipboard_event_checker=function(e){var t=this;return setTimeout(function(){return t.results_search()},50)},e.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},e.prototype.include_option_in_results=function(e){return!(this.is_multiple&&!this.display_selected_options&&e.selected)&&(!(!this.display_disabled_options&&e.disabled)&&!e.empty)},e.prototype.search_results_touchstart=function(e){return this.touch_started=!0,this.search_results_mouseover(e)},e.prototype.search_results_touchmove=function(e){return this.touch_started=!1,this.search_results_mouseout(e)},e.prototype.search_results_touchend=function(e){if(this.touch_started)return this.search_results_mouseup(e)},e.prototype.outerHTML=function(e){var t;return e.outerHTML?e.outerHTML:(t=document.createElement("div"),t.appendChild(e),t.innerHTML)},e.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:!/iP(od|hone)/i.test(window.navigator.userAgent)&&(!/Android/i.test(window.navigator.userAgent)||!/Mobile/i.test(window.navigator.userAgent))},e.default_multiple_text="Select Some Options",e.default_single_text="Select an Option",e.default_no_result_text="No results match",e}(),t=e,t.fn.extend({chosen:function(e){return n.browser_is_supported()?this.each(function(n){var r,s;r=t(this),s=r.data("chosen"),"destroy"===e&&s?s.destroy():s||r.data("chosen",new i(this,e))}):this}}),i=function(e){function n(){return s=n.__super__.constructor.apply(this,arguments)}return a(n,e),n.prototype.setup=function(){return this.form_field_jq=t(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},n.prototype.set_up_html=function(){var e,n;return e=["chosen-container"],e.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chosen-rtl"),n={class:e.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(n.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=t("<div />",n),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("chosen:ready",{chosen:this})},n.prototype.register_observers=function(){var e=this;return this.container.bind("mousedown.chosen",function(t){e.container_mousedown(t)}),this.container.bind("mouseup.chosen",function(t){e.container_mouseup(t)}),this.container.bind("mouseenter.chosen",function(t){e.mouse_enter(t)}),this.container.bind("mouseleave.chosen",function(t){e.mouse_leave(t)}),this.search_results.bind("mouseup.chosen",function(t){e.search_results_mouseup(t)}),this.search_results.bind("mouseover.chosen",function(t){e.search_results_mouseover(t)}),this.search_results.bind("mouseout.chosen",function(t){e.search_results_mouseout(t)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(t){e.search_results_mousewheel(t)}),this.search_results.bind("touchstart.chosen",function(t){e.search_results_touchstart(t)}),this.search_results.bind("touchmove.chosen",function(t){e.search_results_touchmove(t)}),this.search_results.bind("touchend.chosen",function(t){e.search_results_touchend(t)}),this.form_field_jq.bind("chosen:updated.chosen",function(t){e.results_update_field(t)}),this.form_field_jq.bind("chosen:activate.chosen",function(t){e.activate_field(t)}),this.form_field_jq.bind("chosen:open.chosen",function(t){e.container_mousedown(t)}),this.form_field_jq.bind("chosen:close.chosen",function(t){e.input_blur(t)}),this.search_field.bind("blur.chosen",function(t){e.input_blur(t)}),this.search_field.bind("keyup.chosen",function(t){e.keyup_checker(t)}),this.search_field.bind("keydown.chosen",function(t){e.keydown_checker(t)}),this.search_field.bind("focus.chosen",function(t){e.input_focus(t)}),this.search_field.bind("cut.chosen",function(t){e.clipboard_event_checker(t)}),this.search_field.bind("paste.chosen",function(t){e.clipboard_event_checker(t)}),this.is_multiple?this.search_choices.bind("click.chosen",function(t){e.choices_click(t)}):this.container.bind("click.chosen",function(e){e.preventDefault()})},n.prototype.destroy=function(){return t(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},n.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},n.prototype.container_mousedown=function(e){if(!this.is_disabled&&(e&&"mousedown"===e.type&&!this.results_showing&&e.preventDefault(),null==e||!t(e.target).hasClass("search-choice-close")))return this.active_field?this.is_multiple||!e||t(e.target)[0]!==this.selected_item[0]&&!t(e.target).parents("a.chosen-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),t(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field()},n.prototype.container_mouseup=function(e){if("ABBR"===e.target.nodeName&&!this.is_disabled)return this.results_reset(e)},n.prototype.search_results_mousewheel=function(e){var t;if(e.originalEvent&&(t=-e.originalEvent.wheelDelta||e.originalEvent.detail),null!=t)return e.preventDefault(),"DOMMouseScroll"===e.type&&(t*=40),this.search_results.scrollTop(t+this.search_results.scrollTop())},n.prototype.blur_test=function(e){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},n.prototype.close_field=function(){return t(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},n.prototype.activate_field=function(){this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.disable_autofocus||this.search_field.focus()},n.prototype.test_active_click=function(e){var n;return n=t(e.target).closest(".chosen-container"),n.length&&this.container[0]===n[0]?this.active_field=!0:this.close_field()},n.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=r.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},n.prototype.result_do_highlight=function(e){var t,n,i,r,s;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),i=parseInt(this.search_results.css("maxHeight"),10),s=this.search_results.scrollTop(),r=i+s,n=this.result_highlight.position().top+this.search_results.scrollTop(),t=n+this.result_highlight.outerHeight(),t>=r)return this.search_results.scrollTop(t-i>0?t-i:0);if(n<s)return this.search_results.scrollTop(n)}},n.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},n.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.disable_autofocus||this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},n.prototype.update_results_content=function(e){return this.search_results.html(e)},n.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},n.prototype.set_tab_index=function(e){var t;if(this.form_field.tabIndex)return t=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=t},n.prototype.set_label_behavior=function(){var e=this;if(this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=t("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0)return this.form_field_label.bind("click.chosen",function(t){return e.is_multiple?e.container_mousedown(t):e.activate_field()})},n.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},n.prototype.search_results_mouseup=function(e){var n;if(n=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),n.length)return this.result_highlight=n,this.result_select(e),this.search_field.focus()},n.prototype.search_results_mouseover=function(e){var n;if(n=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first())return this.result_do_highlight(n)},n.prototype.search_results_mouseout=function(e){if(t(e.target).hasClass("active-result"))return this.result_clear_highlight()},n.prototype.choice_build=function(e){var n,i,r=this;return n=t("<li />",{class:"search-choice"}).html("<span>"+e.html+"</span>"),e.disabled?n.addClass("search-choice-disabled"):(i=t("<a />",{class:"search-choice-close","data-option-array-index":e.array_index}),i.bind("click.chosen",function(e){return r.choice_destroy_link_click(e)}),n.append(i)),this.search_container.before(n)},n.prototype.choice_destroy_link_click=function(e){if(e.preventDefault(),e.stopPropagation(),!this.is_disabled)return this.choice_destroy(t(e.target))},n.prototype.choice_destroy=function(e){if(this.result_deselect(e[0].getAttribute("data-option-array-index")))return this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()},n.prototype.results_reset=function(){if(this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field)return this.results_hide()},n.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},n.prototype.result_select=function(e){var t,n;if(this.result_highlight)return t=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?t.removeClass("active-result"):this.reset_single_select_options(),n=this.results_data[t[0].getAttribute("data-option-array-index")],n.selected=!0,this.form_field.options[n.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(n):this.single_set_selected_text(n.text),(e.metaKey||e.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[n.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())},n.prototype.single_set_selected_text=function(e){return null==e&&(e=this.default_text),e===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").text(e)},n.prototype.result_deselect=function(e){var t;return t=this.results_data[e],!this.form_field.options[t.options_index].disabled&&(t.selected=!1,this.form_field.options[t.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[t.options_index].value}),this.search_field_scale(),!0)},n.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},n.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":t("<div/>").text(t.trim(this.search_field.val())).html()},n.prototype.winnow_results_set_highlight=function(){var e,t;if(t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),e=t.length?t.first():this.search_results.find(".active-result").first(),null!=e)return this.result_do_highlight(e)},n.prototype.no_results=function(e){var n;return n=t('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),n.find("span").first().html(e),this.search_results.append(n),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},n.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},n.prototype.keydown_arrow=function(){var e;return this.results_showing&&this.result_highlight?(e=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(e):void 0:this.results_show()},n.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result"),e.length?this.result_do_highlight(e.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},n.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last(),e.length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},n.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},n.prototype.keydown_checker=function(e){var t,n;switch(t=null!=(n=e.which)?n:e.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:e.preventDefault(),this.keydown_arrow()}},n.prototype.search_field_scale=function(){var e,n,i,r,s,o,a,u,l;if(this.is_multiple){for(i=0,a=0,s="position:absolute; left: -1000px; top: -1000px; display:none;",o=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],u=0,l=o.length;u<l;u++)r=o[u],s+=r+":"+this.search_field.css(r)+";";return e=t("<div />",{style:s}),e.text(this.search_field.val()),t("body").append(e),a=e.width()+25,e.remove(),n=this.container.outerWidth(),a>n-10&&(a=n-10),this.search_field.css({width:a+"px"})}},n}(n)}).call(this)}},601:function(e,t,n){var i,r,s,o={}.hasOwnProperty,a=function(e,t){function n(){this.constructor=e}for(var i in t)o.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};s=n(48),r=n(380),i={},a(i,s),i.init(r),e.exports=i},61:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(9),s=i(r),o=n(1),a=i(o),u=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,a.default)(this,e),(0,s.default)(this,t)};t.default=u,e.exports=t.default},613:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(179),s=i(r),o=n(332),a=i(o),u=n(26),l=i(u),c={updateLang:function(e,t,n,i){s.default.updateLang(e,t,n);var r="word"===t?n:i,o="word"===t?i:n;return a.default.transformAllTermsText(e,r,o)},bulkUpdateAndPublish:function(e,t,n){return s.default.publish(),0===(0,l.default)(n)?s.default.publishSync(e,t):a.default._saveUpdatesWithoutChain(e,n,!0).then(a.default.bulkUpdateSuccess).then(function(){return s.default.publishSync(e,t)}).catch(a.default.bulkUpdateFailure)}};t.default=c,e.exports=t.default},614:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(15),s=i(r),o=(0,s.default)("ErrorAlertConstants",{actions:{DISMISS:null,CREATE:null},ignoredValidationErrors:{set:{requires_title:null,requires_word_lang:null,requires_def_lang:null,min_terms:null}},permissions:{UNDER_13:null,NOT_CREATOR:null}});t.default=o,e.exports=t.default},615:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(15),s=i(r);t.default=(0,s.default)("PopoverConstants",{position:{ABOVE:null,BELOW:null}}),e.exports=t.default},616:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(15),s=i(r),o=(0,s.default)("TermCustomAudioConstants",{actions:{FLIP_COLUMNS:null,UPDATE:null,UPDATE_SUCCESS:null,UPDATE_FAILURE:null,CREATE_SUCCESS:null,CREATE_FAILURE:null,DELETE_SUCCESS:null,DELETE_FAILURE:null}});o.sides={WORD:"word",DEFINITION:"definition"},t.default=o,e.exports=t.default},64:function(e,t,n){"use strict";(function(i){function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var s=n(78),o=r(s),a={delayTimer:null,scrollTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"in-out-sine";clearTimeout(this.delayTimer);var a=function(){return new o.default({pos:n.getScrollTop()}).ease(s).to({pos:e}).duration(r).update(function(e){var t=e.pos;return i.window.scrollTo(0,t)}).start()};t>=0?this.delayTimer=setTimeout(a,t):a()},scrollBy:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"in-out-sine";this.scrollTo(this.getScrollTop()+e,t,n,i)},scrollToTop:function(){this.scrollTo(0)},scrollToBottom:function(){this.scrollTo(i.document.documentElement.scrollHeight)},getScrollTop:function(){var e=i.document.documentElement;return(i.window.pageYOffset||e.scrollTop||0)-(e.clientTop||0)},getScrollLeft:function(){var e=document.documentElement;return(i.window.pageXOffset||e.scrollLeft||0)-(e.clientLeft||0)},continuousScroll:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,i=n*t;this.scrollBy(i,0,n,"linear"),this.delayTimer=setTimeout(function(){return e.continuousScroll(t)},n)},stopScroll:function(){clearTimeout(this.delayTimer)}};t.default=a,e.exports=t.default}).call(t,n(2))},65:function(e,t,n){e.exports={default:n(103),__esModule:!0}},659:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(9),s=i(r),o=n(24),a=i(o),u=n(727),l=i(u),c=n(802),d=i(c),p=n(93),h=i(p),f=n(25),m=i(f),g={customAudios:{},setup:function(e){for(var t in e){var n=e[t];this.customAudios[t]=new d.default(n)}this.bindActions(l.default.actions.CREATE,this._create)},getAll:function(){return this.customAudios},_create:function(e){var t=e.luid,n=e.model,i=(0,m.default)(t,new d.default(n.properties));return this.customAudios=(0,h.default)(this.customAudios,{$merge:i}),[t]}};g=(0,s.default)(g,a.default),g.init(),t.default=g,e.exports=t.default},672:function(e,t,n){var i,r,s,o,a,u,l={}.hasOwnProperty,c=function(e,t){function n(){this.constructor=e}for(var i in t)l.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};o=n(24),i=n(726),s=n(800),u=n(93),a=n(115),r={classSets:{},classSetClassMap:{},classSetSetMap:{},setup:function(e,t,n){var r,o;null==t&&(t={}),null==n&&(n={});for(r in e)o=e[r],this.classSets[r]=new s(o);return this._generateClassSetClassMap(t),this._generateClassSetSetMap(n),this.bindActions(i.actions.BULK_DELETE,this._bulkDelete),this.bindActions(i.actions.BULK_UPDATE,this._updateClassSets)},getAll:function(){return this.classSets},getClassMap:function(){return this.classSetClassMap},getSetMap:function(){return this.classSetSetMap},getUnsyncedClassSets:function(e){var t,n,i,r;n={},r=this.classSets;for(t in r)i=r[t],i.setId||(n[t]={classId:i.classId,setId:e});return n},_bulkDelete:function(e){var t;return t=e.luids,this.classSets=a(this.classSets,t),this.classSetSetMap=a(this.classSetSetMap,t),this.classSetClassMap=a(this.classSetClassMap,t)},_generateClassSetClassMap:function(e){var t,n,i,r,s,o;o=[];for(t in e)n=e[t],s=function(){var e,t;e=this.classSets,t=[];for(r in e)i=e[r],i.classId===n.id&&t.push(r);return t}.call(this),o.push(this._associateClass(t,s));return o},_generateClassSetSetMap:function(e){var t,n,i,r,s,o;o=[];for(s in e)r=e[s],i=function(){var e,i;e=this.classSets,i=[];for(n in e)t=e[n],t.setId===r.id&&i.push(n);return i}.call(this),o.push(this._associateSet(s,i));return o;
},_associateSet:function(e,t){var n,i,r,s;for(i={},r=0,s=t.length;r<s;r++)n=t[r],this._ensureContains(n),i[n]=e;return this.classSetSetMap=u(this.classSetSetMap,{$merge:i})},_associateClass:function(e,t){var n,i,r,s;for(i={},r=0,s=t.length;r<s;r++)n=t[r],this._ensureContains(n),i[n]=e;return this.classSetClassMap=u(this.classSetClassMap,{$merge:i})},_ensureContains:function(e){if(!this._contains(e))throw new Error("LUID "+e+" not found")},_contains:function(e){return e in this.classSets},_updateClassSets:function(e){var t,n,i,r;r=e.models,n={};for(t in r)i=r[t],n[t]=i.getProperties();return this.classSets=u(this.classSets,{$merge:n})}},c(r,o),r.init(),e.exports=r},673:function(e,t,n){var i,r,s,o={}.hasOwnProperty,a=function(e,t){function n(){this.constructor=e}for(var i in t)o.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};s=n(24),r=n(801),i={classes:{},setup:function(e){var t,n,i;i=[];for(t in e)n=e[t],i.push(this.classes[t]=new r(n));return i},getAll:function(){return this.classes}},a(i,s),i.init(),e.exports=i},674:function(e,t,n){var i,r,s,o,a,u,l={}.hasOwnProperty,c=function(e,t){function n(){this.constructor=e}for(var i in t)l.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};o=n(24),i=n(1150),s=n(803),u=n(93),a=n(115),r={folderSets:{},setup:function(e){var t,n;for(t in e)n=e[t],this.folderSets[t]=new s(n);return this.bindActions(i.actions.BULK_UPDATE,this._updateFolderSets)},getAll:function(){return this.folderSets},getUnsyncedFolderSets:function(e){var t,n,i,r;n={},r=this.folderSets;for(t in r)i=r[t],i.setId||(n[t]={classId:i.classId,setId:e});return n},_updateFolderSets:function(e){var t,n,i,r;r=e.models,n={};for(t in r)i=r[t],n[t]=i.getProperties();return this.folderSets=u(this.folderSets,{$merge:n})}},c(r,o),r.init(),e.exports=r},675:function(e,t,n){var i,r,s,o,a,u={}.hasOwnProperty,l=function(e,t){function n(){this.constructor=e}for(var i in t)u.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};o=n(24),r=n(225),i=n(727),a=n(616),s={error:null,errorCode:null,implementation:null,initialized:!1,permissions:r.permissions.NEEDED,status:r.states.STOPPED,volume:0,zoomReset:!1,blockingUpsellDismissed:!1,setup:function(){return this.bindActions(i.actions.INIT,this._initialize),this.bindActions(i.actions.PERMISSION_UPDATE,this._updatePermissions),this.bindActions(i.actions.IMPLEMENTATION_UPDATE,this._updateRecorderImplementation),this.bindActions(i.actions.RECORD,this._startRecording),this.bindActions(i.actions.STOP_SUCCESS,this._stopRecording),this.bindActions(a.actions.CREATE_SUCCESS,this._saveRecording),this.bindActions(i.actions.CANCEL_SUCCESS,this._cancelRecording),this.bindActions(i.actions.UPLOAD_FINISH,this._uploadFinished),this.bindActions(i.actions.ERROR,this._recordingError),this.bindActions(i.actions.GET_VOLUME,this._setVolume),this.bindActions(i.actions.ZOOM_RESET,this._resetZoom),this.bindActions(i.actions.DISMISS_UPSELL,this._dismissUpsell)},getError:function(){return this.error},getErrorCode:function(){return this.errorCode},getImplementation:function(){return this.implementation},isInitialized:function(){return this.initialized},getPermissions:function(){return this.permissions},getStatus:function(){return this.status},getVolume:function(){return this.volume},getZoomReset:function(){return this.zoomReset},hasBlockingUpsellBeenDismissed:function(){return this.blockingUpsellDismissed},_initialize:function(){return this.initialized=!0},_updatePermissions:function(e){var t;if(t=e.status,this.permissions=t,t===r.permissions.GRANTED)return this.status=r.states.STOPPED,this.error=null,this.errorCode=null},_updateRecorderImplementation:function(e){var t;return t=e.implementation,this.implementation=t},_startRecording:function(){return this.status=r.states.RECORDING},_stopRecording:function(){return this.status=r.states.UPLOADING},_uploadFinished:function(){return this.status=r.states.SAVING},_saveRecording:function(){return this.status=r.states.STOPPED},_cancelRecording:function(){return this.status=r.states.STOPPED},_recordingError:function(e){var t,n;return t=e.code,n=e.data,this.status=r.states.ERROR,this.error=n,this.errorCode=t},_setVolume:function(e){this.volume=e.volume},_resetZoom:function(){return this.zoomReset=!0},_dismissUpsell:function(){return this.blockingUpsellDismissed=!0}},l(s,o),s.init(),e.exports=s},676:function(e,t,n){var i,r,s,o,a,u,l,c,d=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},p={}.hasOwnProperty,h=function(e,t){function n(){this.constructor=e}for(var i in t)p.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};a=n(24),r=n(185),s=n(479),i=n(726),c=n(93),l=n(25),u=n(115),o={permissions:{},selectedClassLuids:[],selectedEditableByClassLuids:[],persistedClassSets:{},setup:function(e,t,n,r,o){var a,u,l,p,h,f,m;this._canEditPermissions=o,this.persistedClassSets=n,this.permissions={viewableBy:this._getViewPermission(e,n),editableBy:this._getEditPermission(e,n)},a=function(){var e;e=[];for(l in t)h=t[l],e.push(l);return e}(),p=[],u=[];for(m in n)f=n[m],l=r[m],d.call(a,l)>=0&&(p.push(l),f.canEdit&&u.push(l));return this.selectedClassLuids=c(this.selectedClassLuids,{$push:p}),this.selectedEditableByClassLuids=c(this.selectedEditableByClassLuids,{$push:u}),this.bindActions(s.actions.TOGGLE_CLASS,this._toggleClass),this.bindActions(s.actions.TOGGLE_CLASS_PERMISSIONS,this._toggleClassPermissions),this.bindActions(s.actions.CHANGE_PERMISSION,this._changePermission),this.bindActions(i.actions.BULK_DELETE_SUCCESS,this._removeFromPersistedClassSets),this.bindActions(i.actions.BULK_UPDATE_SUCCESS,this._updatePersistedClassSets)},getPermissions:function(){return this.permissions},getSelectedClassLuids:function(){return this.selectedClassLuids},getSelectedEditableByClassLuids:function(){return this.selectedEditableByClassLuids},getPersistedClassSets:function(){return this.persistedClassSets},canEditPermissions:function(){return this._canEditPermissions},_changePermission:function(e){var t,n,i;return i=e.side,t=e.newPermission,n=l(this._getPermissionKeyForSide(i),t),this.permissions=c(this.permissions,{$merge:n}),this._ensureEditingMatchesViewing()},_toggleClass:function(e){var t,n,i;return n=e.luid,t=this.selectedClassLuids.indexOf(n),i=this.selectedEditableByClassLuids.indexOf(n),t===-1?this.selectedClassLuids=c(this.selectedClassLuids,{$push:[n]}):(this.selectedClassLuids=c(this.selectedClassLuids,{$splice:[[t,1]]}),this.selectedEditableByClassLuids=c(this.selectedEditableByClassLuids,{$splice:[[i,1]]}))},_toggleClassPermissions:function(e){var t,n;return n=e.luid,t=this.selectedEditableByClassLuids.indexOf(n),t===-1?(this.selectedEditableByClassLuids=c(this.selectedEditableByClassLuids,{$push:[n]}),this.selectedClassLuids=c(this.selectedClassLuids,{$push:[n]})):this.selectedEditableByClassLuids=c(this.selectedEditableByClassLuids,{$splice:[[t,1]]})},_removeFromPersistedClassSets:function(e){var t,n;return n=e.models,t=Object.keys(n),this.persistedClassSets=u(this.persistedClassSets,t)},_updatePersistedClassSets:function(e){var t,n,i,r;r=e.models,n={};for(t in r)i=r[t],n[t]=i.getProperties();return this.persistedClassSets=c(this.persistedClassSets,{$merge:n})},_ensureEditingMatchesViewing:function(){if(this.permissions.viewableBy===s.permissions.JUST_ME||this.permissions.viewableBy===s.permissions.PASSWORD&&this.permissions.editableBy===s.permissions.CLASSES)return this.permissions=c(this.permissions,{$merge:{editableBy:s.permissions.JUST_ME}})},_getPermissionKeyForSide:function(e){switch(e){case s.sides.VIEWING:return"viewableBy";case s.sides.EDITING:return"editableBy"}},_getViewPermission:function(e,t){var n,i,o;i=!1;for(o in t)n=t[o],i=!0;return e.accessType===r.accessTypes.PUBLIC?s.permissions.EVERYONE:e.passwordUse?s.permissions.PASSWORD:i?s.permissions.CLASSES:s.permissions.JUST_ME},_getEditPermission:function(e,t){var n,i,r;i=!1;for(r in t)n=t[r],n.canEdit&&(i=!0);return e.passwordEdit?s.permissions.PASSWORD:i?s.permissions.CLASSES:s.permissions.JUST_ME}},h(o,a),o.init(),e.exports=o},689:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(8),s=i(r),o=n(0),a=i(o),u=n(10),l=i(u),c=a.default.createClass({displayName:"AccentButton",propTypes:{accent:a.default.PropTypes.string.isRequired,className:a.default.PropTypes.string,onAccentClick:a.default.PropTypes.func.isRequired,onBlur:a.default.PropTypes.func,onFocus:a.default.PropTypes.func,onKeyDown:a.default.PropTypes.func},mixins:[l.default],getClasses:function(){var e="AccentButton";return this.props.className&&(e+=" "+this.props.className),e},render:function(){var e={};return this.props.onBlur&&(e.onBlur=this.props.onBlur.bind(null,this.props.accent)),this.props.onFocus&&(e.onFocus=this.props.onFocus.bind(null,this.props.accent)),this.props.onKeyDown&&(e.onKeyDown=this.props.onKeyDown.bind(null,this.props.accent)),a.default.createElement("button",(0,s.default)({className:this.getClasses(),onClick:this.props.onAccentClick.bind(null,this.props.accent)},e),this.props.accent)}});t.default=c,e.exports=t.default},690:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(1),s=i(r),o=n(4),a=i(o),u=n(3),l=i(u),c=n(0),d=i(c),p=n(5),h=i(p),f=n(286),m=i(f),g=n(85),_=i(g),v=n(689),S=i(v),y=function(e){function t(n){(0,s.default)(this,t);var i=(0,a.default)(this,e.call(this,n));return i.state={isUppercase:i.props.startUppercase},i}return(0,l.default)(t,e),t.prototype.handleToggleUppercase=function(){this.setState({isUppercase:!this.state.isUppercase})},t.prototype.renderAccentButton=function(e,t,n,i){return d.default.createElement(S.default,{accent:e,className:t,key:n,onAccentClick:i})},t.prototype.renderAccentButtons=function(){var e=this,t=[],n=!1,i=0;if((0,_.default)(this.props.languageCodes).forEach(function(r){var s=m.default[r]?m.default[r]:[],o="lang-"+r,a="AccentsBar-accent "+o;s.forEach(function(r){var s=r.toUpperCase();r!==s?(n=!0,t.push(e.renderAccentButton(r,a+" AccentsBar-whenLower",i,e.props.onAccent)),t.push(e.renderAccentButton(s,a+" AccentsBar-whenUpper",i+1,e.props.onAccent)),i+=2):(t.push(e.renderAccentButton(r,a,i,e.props.onAccent)),i+=1)})}),n){var r="Show "+(this.state.isUppercase?"lower":"upper")+"case characters";t.push(d.default.createElement("a",{className:"AccentsBar-accent AccentsBar-toggleCase",onClick:this.handleToggleUppercase.bind(this),title:r,key:"toggle-uppercase"},d.default.createElement("span",{className:"AccentsBar-whenLower"},d.default.createElement("small",{className:"AccentsBar-toggleCaseArrow"},"↑"),d.default.createElement("em",{className:"AccentsBar-toggleCaseChar"},"A")),d.default.createElement("span",{className:"AccentsBar-whenUpper"},d.default.createElement("small",{className:"AccentsBar-toggleCaseArrow"},"↓"),d.default.createElement("em",{className:"AccentsBar-toggleCaseChar"},"a"))))}return t},t.prototype.render=function(){var e=this.renderAccentButtons(),t=(0,h.default)({AccentsBar:!0,"is-uppercase":this.state.isUppercase,"is-empty":!e.length,"AccentsBar--variantDark":"dark"===this.props.variant});return d.default.createElement("div",{className:t},d.default.createElement("div",{className:"AccentsBar-accentsList"},e))},t}(c.PureComponent);y.propTypes={languageCodes:c.PropTypes.arrayOf(c.PropTypes.string).isRequired,onAccent:c.PropTypes.func.isRequired,startUppercase:c.PropTypes.bool,variant:c.PropTypes.string},y.defaultProps={startUppercase:!1,variant:"default"},t.default=y,e.exports=t.default},702:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(8),s=i(r),o=n(1),a=i(o),u=n(4),l=i(u),c=n(3),d=i(c),p=n(0),h=i(p),f=n(34),m=i(f),g=function(e){function t(){return(0,a.default)(this,t),(0,l.default)(this,e.apply(this,arguments))}return(0,d.default)(t,e),t.prototype.render=function(){var e="SearchBox-input";return this.props.className&&(e+=" "+this.props.className),h.default.createElement("label",{className:"SearchBox"},h.default.createElement(m.default,{icon:"search"}),h.default.createElement("input",(0,s.default)({},this.props,{className:e,ref:"searchInput"})))},t.prototype.focus=function(){this.refs.searchInput.focus()},t}(p.PureComponent);g.propTypes={className:p.PropTypes.string},g.defaultProps={type:"search"},t.default=g,e.exports=t.default},72:function(e,t,n){var i=n(84),r=n(28)("iterator"),s=n(116);e.exports=n(30).getIteratorMethod=function(e){if(void 0!=e)return e[r]||e["@@iterator"]||s[i(e)]}},723:function(e,t,n){"use strict";(function(i){function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var s=n(20),o=r(s),a=n(1151),u=r(a),l={dismissImageUpsellModal:function(){return o.default.viewAction(u.default.actions.DISMISS_IMAGE_UPSELL_MODAL)},openImageUpsellModal:function(){return i.logPageAction("open_create_set_image_upsell_modal"),o.default.viewAction(u.default.actions.OPEN_IMAGE_UPSELL_MODAL)}};t.default=l,e.exports=t.default}).call(t,n(2))},724:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(0),s=i(r),o=n(10),a=i(o),u=n(34),l=i(u),c=s.default.createClass({displayName:"TermContextHeader",propTypes:{children:s.default.PropTypes.element,onClose:s.default.PropTypes.func.isRequired,title:s.default.PropTypes.string.isRequired},mixins:[a.default],onClickClose:function(e){return e.preventDefault(),this.props.onClose()},renderContent:function(){return this.props.children?s.default.createElement("div",{className:"TermContextHeader-content"},s.default.Children.only(this.props.children)):null},render:function(){return s.default.createElement("div",{className:"TermContextHeader"},s.default.createElement("strong",{className:"TermContextHeader-title"},this.props.title),this.renderContent(),s.default.createElement("a",{className:"TermContextHeader-closeButton",href:"#",onClick:this.onClickClose},s.default.createElement(l.default,{icon:"x",className:"TermContextHeader-closeIcon"})))}});t.default=c,e.exports=t.default},725:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(0),s=i(r),o=n(10),a=i(o),u=n(34),l=i(u),c=n(615),d=i(c),p=s.default.createClass({displayName:"TermSidePopover",propTypes:{children:s.default.PropTypes.node,position:s.default.PropTypes.string},mixins:[a.default],getDefaultProps:function(){return{position:d.default.position.BELOW}},renderBridge:function(){switch(this.props.position){case d.default.position.BELOW:return s.default.createElement("span",{className:"TermSidePopover-bridge TermSidePopover-bridgeUp bridge"},s.default.createElement(l.default,{icon:"wedge-up"}));case d.default.position.ABOVE:return s.default.createElement("span",{className:"TermSidePopover-bridge TermSidePopover-bridgeDown bridge"},s.default.createElement(l.default,{icon:"wedge-down"}));default:return null}},render:function(){var e=this.renderBridge();return s.default.createElement("div",{className:"TermSidePopover"},e,s.default.createElement("div",{className:"TermSidePopover-inner"},this.props.children))}});t.default=p,e.exports=t.default},726:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(15),s=i(r);t.default=(0,s.default)("ClassSetConstants",{actions:{BULK_UPDATE:null,BULK_UPDATE_SUCCESS:null,BULK_UPDATE_FAILURE:null,BULK_DELETE:null,BULK_DELETE_SUCCESS:null,BULK_DELETE_FAILURE:null}}),e.exports=t.default},727:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(15),s=i(r),o=(0,s.default)("CustomAudioConstants",{actions:{CANCEL:null,CANCEL_SUCCESS:null,CREATE:null,CREATE_FAILURE:null,CREATE_SUCCESS:null,DISMISS_UPSELL:null,ERROR:null,GET_VOLUME:null,IMPLEMENTATION_UPDATE:null,INIT:null,NEEDS_PERMISSION:null,PERMISSION_UPDATE:null,RECORD:null,SAVE:null,STOP:null,STOP_SUCCESS:null,UPLOAD_FINISH:null,ZOOM_RESET:null}});t.default=o,e.exports=t.default},728:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(15),s=i(r);t.default=(0,s.default)("TermImageConstants",{actions:{CREATE_SUCCESS:null,CREATE_FAILURE:null,DELETE_SUCCESS:null,DELETE_FAILURE:null}}),e.exports=t.default},729:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(185),s=i(r),o={isFirst:function(){return 0===this.props.index},isLast:function(){return this.props.index===this.props.totalCount-1},getDisplayRank:function(){return this.props.index+1},canDelete:function(){return this.props.totalCount>s.default.limits.MIN_TERMS},canInsert:function(){return this.props.totalCount<s.default.limits.MAX_TERMS}};t.default=o,e.exports=t.default},73:function(e,t,n){"use strict";function i(e,t,n){return Math.max(t,Math.min(e,n))}t.__esModule=!0,t.default=i,e.exports=t.default},730:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(){e.apply(this,arguments)}return t.prototype=(0,u.default)(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),o.default?(0,o.default)(t,e):t.__proto__=e,t}t.__esModule=!0;var s=n(301),o=i(s),a=n(282),u=i(a),l=n(1),c=i(l),d=n(4),p=i(d),h=n(3),f=i(h),m=function(e){function t(){(0,c.default)(this,t);var n=(0,p.default)(this,e.call(this));return n.name="InvalidImageError",n.message="Please try again.",n}return(0,f.default)(t,e),t}(r(Error));t.default=m,e.exports=t.default},731:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){function t(){e.apply(this,arguments)}return t.prototype=(0,u.default)(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),o.default?(0,o.default)(t,e):t.__proto__=e,t}t.__esModule=!0;var s=n(301),o=i(s),a=n(282),u=i(a),l=n(1),c=i(l),d=n(4),p=i(d),h=n(3),f=i(h),m=function(e){function t(n){(0,c.default)(this,t);var i=(0,p.default)(this,e.call(this));return i.name="InvalidTermError",i.message=n||"Please try again.",i}return(0,f.default)(t,e),t}(r(Error));t.default=m,e.exports=t.default},77:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(15),s=i(r),o=(0,s.default)("SyncerConstants",{UPDATE:null,DELETE:null,BULK_UPDATE:null,BULK_DELETE:null});t.default=o,e.exports=t.default},776:function(e,t,n){"use strict";t.__esModule=!0;var i={_isUnmounting:!1,componentWillUnmount:function(){this._isUnmounting=!0},isUnmounting:function(){return this._isUnmounting}};t.default=i,e.exports=t.default},78:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(1),s=i(r),o=n(4),a=i(o),u=n(3),l=i(u),c=n(41),d=n(59),p=i(d),h=n(92),f=i(h),m=n(52),g=i(m),_=function(e){function t(n){(0,s.default)(this,t);var i=(0,a.default)(this,e.call(this));if(!(i instanceof t)){var r;return r=new t(n),(0,a.default)(i,r)}return i._from=n,i.ease("linear"),i.duration(500),i}return(0,l.default)(t,e),t.prototype.reset=function(){return this._cur=(0,g.default)({},this._from),this._done=!1,this._start=Date.now(),this},t.prototype.to=function(e){return this.reset(),this._to=e,this},t.prototype.duration=function(e){return this._duration=e,this},t.prototype.ease=function(e){var t="function"==typeof e?e:f.default[e];if(!t)throw new TypeError("Invalid easing function");return this._ease=t,this},t.prototype.start=function(){return this._animate()},t.prototype._animate=function(){this._done||(this.raf=(0,p.default)(this._animate.bind(this)),this.step())},t.prototype.stop=function(){return this._done?this:(p.default.cancel(this.raf),this._done=!0,this.emit("stop"),this.emit("end"),this)},t.prototype.step=function(){if(this._done)return this;var e=Date.now(),t=e-this._start,n=this._duration;if(t>=n)return this._from=this._to,this._update(this._to),this._done=!0,this.emit("end"),this;var i=t/n,r=this._ease(i);for(var s in this._from)this._cur[s]=this._from[s]+(this._to[s]-this._from[s])*r;return this._update(this._cur),this},t.prototype.update=function(e){return 0===arguments.length?this.step():(this._update=e,this)},t}(c.EventEmitter);t.default=_,e.exports=t.default},786:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t="undefined"==typeof e?"undefined":(0,o.default)(e);return"string"===t?"$:"+e:"number"===t?"n"+e:e}t.__esModule=!0;var s=n(68),o=i(s);t.default=r,e.exports=t.default},787:function(e,t,n){"use strict";(function(n){function i(e,t){return e&&e!==n.document?t(e)?e:i(e.parentNode,t):null}t.__esModule=!0,t.default=i,e.exports=t.default}).call(t,n(2))},794:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;if(o.default.symbolicLanguages.indexOf(e)>=0)return a;switch(e){case"??":return a;case"ja-ro":case"ja-ka":return"ja";default:return e}}t.__esModule=!0,t.default=r;var s=n(49),o=i(s),a="en";e.exports=t.default},795:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return t.indexOf(e)>=0}function s(e){return r(e,a.default.symbolicLanguages)&&(e="en"),r(e,["ja-ro","ja-ka"])&&(e="ja"),r(e,a.default.ttsLanguages)?r(e,["zh-CN","zh-TW"])?"zh":e:null}t.__esModule=!0,t.default=s;var o=n(49),a=i(o);e.exports=t.default},799:function(e,t,n){"use strict";function i(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=e.toString();n.length<t;)n="0"+n;return n}t.__esModule=!0,t.default=i,e.exports=t.default},800:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(1),s=i(r),o=n(4),a=i(o),u=n(3),l=i(u),c=n(61),d=i(c),p=function(e){function t(){return(0,s.default)(this,t),(0,a.default)(this,e.apply(this,arguments))}return(0,l.default)(t,e),t}(d.default);t.default=p,e.exports=t.default},801:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(1),s=i(r),o=n(4),a=i(o),u=n(3),l=i(u),c=n(61),d=i(c),p=n(205),h=i(p),f=function(e){function t(){return(0,s.default)(this,t),(0,a.default)(this,e.apply(this,arguments))}return(0,l.default)(t,e),t.fromJson=function(e){return(0,h.default)(t,e)},t}(d.default);t.default=f,e.exports=t.default},802:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(1),s=i(r),o=n(4),a=i(o),u=n(3),l=i(u),c=n(61),d=i(c),p=function(e){function t(){return(0,s.default)(this,t),(0,a.default)(this,e.apply(this,arguments))}return(0,l.default)(t,e),t}(d.default);t.default=p,e.exports=t.default},803:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(1),s=i(r),o=n(4),a=i(o),u=n(3),l=i(u),c=n(61),d=i(c),p=function(e){function t(){return(0,s.default)(this,t),(0,a.default)(this,e.apply(this,arguments))}return(0,l.default)(t,e),t}(d.default);t.default=p,e.exports=t.default},804:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(1),s=i(r),o=n(4),a=i(o),u=n(3),l=i(u),c=n(61),d=i(c),p=function(e){function t(){return(0,s.default)(this,t),(0,a.default)(this,e.apply(this,arguments))}return(0,l.default)(t,e),t.prototype.getPath=function(){return this._legacyUrl},t.prototype.getSquarePath=function(){return this._legacyUrlSquare},t.prototype.getSecurePath=function(){return this._secureLegacyUrl},t.prototype.getSmallSecurePath=function(){return this._secureLegacyUrlSmall},t.prototype.getSquareSecurePath=function(){return this._secureLegacyUrlSquare},t}(d.default);t.default=p,e.exports=t.default},805:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(1),s=i(r),o=n(4),a=i(o),u=n(3),l=i(u),c=n(61),d=i(c),p=function(e){function t(){return(0,s.default)(this,t),(0,a.default)(this,e.apply(this,arguments))}return(0,l.default)(t,e),t}(d.default);t.default=p,e.exports=t.default},806:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(1),s=i(r),o=n(4),a=i(o),u=n(3),l=i(u),c=n(61),d=i(c),p=n(111),h=i(p),f=n(360),m=i(f),g=n(208),_=i(g),v=n(205),S=i(v),y=function(e){function t(){return(0,s.default)(this,t),(0,a.default)(this,e.apply(this,arguments))}return(0,l.default)(t,e),t.prototype.displayRichWord=function(e){var t=this.word||"...";t=(0,h.default)(t),"math"!==e&&"chem"!==e&&(t=(0,m.default)(t)),t=(0,_.default)(t);var n=e?" lang-"+e:"";return'<span class="TermText qWord'+n+'">'+t+"</span>"},t.prototype.displayRichDefinition=function(e){var t=this._imageUrl,n=this.definition;n||t||(n="..."),n=(0,h.default)(n),"math"!==e&&"chem"!==e&&(n=(0,m.default)(n)),n=(0,_.default)(n);var i=e?" lang-"+e:"",r='<span class="TermText qDef'+i+'">'+n+"</span>";if(!t)return r;var s=this.definition?"<br />"+r:"";return'<span class="qPhoto"><img src="'+t+'" />'+s+"</span>"},t.fromJson=function(e){return(0,S.default)(t,e)},t}(d.default);t.default=y,e.exports=t.default},808:function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(1),s=i(r),o=n(4),a=i(o),u=n(3),l=i(u),c=n(61),d=i(c),p=n(205),h=i(p),f=function(e){function t(){return(0,s.default)(this,t),(0,a.default)(this,e.apply(this,arguments))}return(0,l.default)(t,e),t.prototype.isUpgraded=function(){return this.type>0},t.prototype.isSelfIdentifiedTeacher=function(){return 1===this.selfIdentifiedTeacherStatus},t.fromJson=function(e){return(0,h.default)(t,e)},t}(d.default);t.default=f,e.exports=t.default},81:function(e,t,n){"use strict";function i(){var e=a("animationend"),t=a("transitionend");e&&u.push(e),t&&u.push(t)}function r(e,t,n){e.addEventListener(t,n,!1)}function s(e,t,n){e.removeEventListener(t,n,!1)}var o=n(94),a=n(195),u=[];o.canUseDOM&&i();var l={addEndEventListener:function(e,t){return 0===u.length?void window.setTimeout(t,0):void u.forEach(function(n){r(e,n,t)})},removeEndEventListener:function(e,t){0!==u.length&&u.forEach(function(n){s(e,n,t)})}};e.exports=l},824:function(e,t,n){(function(t){var i,r,s,o,a,u,l,c,d,p,h,f;l=n(27),i=n(20),s=n(272),o=n(429),h=n(321),c=n(179),d=n(332),p=n(1148),f=n(348),a=n(730),u=n(731),e.exports=r={imageSyncer:o,termImageSyncer:h,bulkCreate:function(e){var t,n,o,a,u,l;for(t=[],o=0,u=e.length;o<u;o++)n=e[o],n.imageLuid=this.imageSyncer.add(),t.push({imageLuid:n.imageLuid,termLuid:n.termLuid});for(i.viewAction(s.actions.BULK_CREATE,t),a=0,l=e.length;a<l;a++)n=e[a],r.upload(n.file,n.imageLuid,n.setLuid,n.termLuid,n.termImageLuid);return e.map(function(e){return e.imageLuid})},upload:function(e,n,i,s,o){var h,m,g,_,v;return null==o&&(o=null),h=this.imageSyncer.save(n,e,{onProgress:r.createProgress}).then(r.createSuccess).catch(r.createFailure),_=c.maybeCreateSet(i).then(function(e){return d.maybeCreateTerm(s,e)}),v=null,g=null,m=null,l.all([h,_]).then(function(e){var n,i,r,s;return s=e[0],i=s[0],r=s[1],n=e[1],new l.Promise(function(e,s){var o;return o=!1,r&&r.isValid()?(g=r.get("id"),m=r.get("code"),g&&m||(o=!0)):o=!0,o?(t.logPageAction("new_create_set_bad_uploaded_image",{message:JSON.stringify(r)}),s([new a,i,r])):(v=n,e([[i,r],n]))})}).then(function(e){return function(){if(!f.hasTermLuid(s))throw new u("Term LUID "+s+" not found")}}(this)).then(function(e){return function(){if(o)return e.termImageSyncer.del(o)}}(this)).then(function(e){return function(){return e.termImageSyncer.addAndSave({termId:v,definitionImageId:g,definitionImageCode:m})}}(this)).then(function(e){var t,i;return t=e[0],i=e[1],p.createSuccess({luid:t,termLuid:s,imageLuid:n})}).catch(function(e){var t,i,r;if(!(e instanceof u||(t=e[0],i=e[1],r=e[2],t instanceof a)))return p.createFailure({error:t,luid:i,termLuid:s,imageLuid:n})}),r.createPlaceholder(n,e)},createSuccess:function(e){var t,n,o;return t=e[0],n=e[1],i.serverAction(s.actions.CREATE_SUCCESS,{luid:t,model:n}),o=new Image,o.onload=function(){return r.createPreload(t)},o.src=n.get("_secureLegacyUrlSquare"),[t,n]},createFailure:function(e){var t,n,r;return t=e[0],n=e[1],r=e[2],i.serverAction(s.actions.CREATE_FAILURE,{error:t,luid:n,model:r}),[n,r,t]},createProgress:function(e){var t,n;return t=e[0],n=e[1],i.serverAction(s.actions.CREATE_PROGRESS,{luid:t,progress:n})},createPreload:function(e){return i.viewAction(s.actions.PRELOAD,{luid:e})},createPlaceholder:function(e,n){var o,a;return t.isTouchDevice()||"[object File]"!==(a=Object.prototype.toString.call(n))&&"[object Blob]"!==a?i.viewAction(s.actions.CREATE_PLACEHOLDER,{luid:e}):(o=new FileReader,o.onload=function(t){return r.createRichPlaceholder(e,t.target.result)},o.readAsDataURL(n))},createRichPlaceholder:function(e,t){return i.viewAction(s.actions.CREATE_RICH_PLACEHOLDER,{luid:e,placeholderUrl:t})},dropFailure:function(e){return i.viewAction(s.actions.DROP_FAILURE,{error:e})},bulkUploadFailure:function(e){return i.viewAction(s.actions.BULK_UPLOAD_FAILURE,{error:e})},move:function(e,t,n,r){return null==r&&(r=null),i.viewAction(s.actions.MOVE,{luid:e})},replace:function(e,t,n,r){var o,u,l,h;return null==r&&(r=null),i.viewAction(s.actions.REPLACE,{luid:e,termLuid:n}),h=null,l=this.imageSyncer.getModel(e),u=l.get("id"),o=l.get("code"),u&&o?c.maybeCreateSet(t).then(function(e){return d.maybeCreateTerm(n,e)}).then(function(e){return h=e}).then(function(e){return function(){if(r)return e.termImageSyncer.del(r)}}(this)).then(function(e){return function(){return e.termImageSyncer.addAndSave({termId:h,definitionImageId:u,definitionImageCode:o})}}(this)).then(function(t){var i,r;return i=t[0],r=t[1],p.createSuccess({luid:i,imageLuid:e,termLuid:n})}).catch(function(t){var i,r,s;return i=t[0],r=t[1],s=t[2],p.createFailure({error:i,luid:r,imageLuid:e,termLuid:n,model:s})}):void p.createFailure({error:new a,luid:null,imageLuid:e,termLuid:n,model:l})},search:function(e,t,n,r){var o;return null==n&&(n=null),i.viewAction(s.actions.SEARCH,{query:t,luid:e,langs:n}),o={perPage:Math.round(1.3*r)},n&&(o.languages=n),this.imageSyncer.search(t,o).then(function(e){var t,n,r;r={};for(t in e)n=e[t],r[t]=n.properties;return i.serverAction(s.actions.STORE,r),e}).then(function(t){var n;return i.serverAction(s.actions.SEARCH_SUCCESS,{luid:e,imageLuids:function(){var e;e=[];for(n in t)e.push(n);return e}()})}).catch(function(t){return i.serverAction(s.actions.SEARCH_FAILURE,{luid:e,error:t})})}}}).call(t,n(2))},826:function(e,t,n){var i,r,s={}.hasOwnProperty,o=function(e,t){function n(){this.constructor=e}for(var i in t)s.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};r=n(304),e.exports=i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return o(t,e),t.URL_BASE="autodefine",t.API_VERSION="3.1",t}(r)},827:function(e,t,n){var i,r,s={}.hasOwnProperty,o=function(e,t){function n(){this.constructor=e}for(var i in t)s.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};i=n(304),e.exports=r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return o(t,e),t.URL_BASE="detect-language",t.ALLOW_MULTIPLE_REQUESTS=!1,t.API_VERSION="3.1",t}(i)},828:function(e,t,n){var i,r,s={}.hasOwnProperty,o=function(e,t){function n(){this.constructor=e}for(var i in t)s.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};i=n(304),e.exports=r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return o(t,e),t.URL_BASE="detect-profanity",t.API_VERSION="3.1",t}(i)},829:function(e,t,n){var i,r,s={}.hasOwnProperty,o=function(e,t){function n(){this.constructor=e}for(var i in t)s.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};r=n(23),e.exports=i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return o(t,e),t.URL_BASE="custom-audios",t.MODEL_NAME="customAudio",t}(r)},83:function(e,t,n){"use strict";function i(e,t){
return e?e.length<=t?e:e.substr(0,t-1)+"…":""}t.__esModule=!0,t.default=i,e.exports=t.default},833:function(e,t,n){var i,r,s={}.hasOwnProperty,o=function(e,t){function n(){this.constructor=e}for(var i in t)s.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};r=n(23),e.exports=i=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return o(t,e),t.URL_BASE="images",t.MODEL_NAME="image",t.CAN_BE_SEARCHED=!0,t.MERGE_CONFLICTING_MODELS=!0,t}(r)},835:function(e,t,n){var i,r,s={}.hasOwnProperty,o=function(e,t){function n(){this.constructor=e}for(var i in t)s.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};i=n(23),e.exports=r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return o(t,e),t.URL_BASE="term-custom-audios",t.MODEL_NAME="termCustomAudio",t}(i)},836:function(e,t,n){var i,r,s={}.hasOwnProperty,o=function(e,t){function n(){this.constructor=e}for(var i in t)s.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};i=n(23),e.exports=r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return o(t,e),t.URL_BASE="term-images",t.MODEL_NAME="termImage",t}(i)},84:function(e,t,n){var i=n(174),r=n(28)("toStringTag"),s="Arguments"==i(function(){return arguments}()),o=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=o(t=Object(e),r))?n:s?i(t):"Object"==(a=i(t))&&"function"==typeof t.callee?"Arguments":a}},85:function(e,t){var n;e.exports=n=function(e){var t,n,i,r,s;for(t={},s=[],i=0,r=e.length;i<r;i++)n=e[i],n in t||(t[n]=!0,s.push(n));return s}},90:function(e,t,n){"use strict";function i(e){return e?Array.isArray(e)?e:[e]:[]}t.__esModule=!0,t.default=i,e.exports=t.default},92:function(e,t){t.linear=function(e){return e},t.inQuad=function(e){return e*e},t.outQuad=function(e){return e*(2-e)},t.inOutQuad=function(e){return e*=2,e<1?.5*e*e:-.5*(--e*(e-2)-1)},t.inCube=function(e){return e*e*e},t.outCube=function(e){return--e*e*e+1},t.inOutCube=function(e){return e*=2,e<1?.5*e*e*e:.5*((e-=2)*e*e+2)},t.inQuart=function(e){return e*e*e*e},t.outQuart=function(e){return 1- --e*e*e*e},t.inOutQuart=function(e){return e*=2,e<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},t.inQuint=function(e){return e*e*e*e*e},t.outQuint=function(e){return--e*e*e*e*e+1},t.inOutQuint=function(e){return e*=2,e<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},t.inSine=function(e){return 1-Math.cos(e*Math.PI/2)},t.outSine=function(e){return Math.sin(e*Math.PI/2)},t.inOutSine=function(e){return.5*(1-Math.cos(Math.PI*e))},t.inExpo=function(e){return 0==e?0:Math.pow(1024,e-1)},t.outExpo=function(e){return 1==e?e:1-Math.pow(2,-10*e)},t.inOutExpo=function(e){return 0==e?0:1==e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)},t.inCirc=function(e){return 1-Math.sqrt(1-e*e)},t.outCirc=function(e){return Math.sqrt(1- --e*e)},t.inOutCirc=function(e){return e*=2,e<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},t.inBack=function(e){var t=1.70158;return e*e*((t+1)*e-t)},t.outBack=function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},t.inOutBack=function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)},t.inBounce=function(e){return 1-t.outBounce(1-e)},t.outBounce=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},t.inOutBounce=function(e){return e<.5?.5*t.inBounce(2*e):.5*t.outBounce(2*e-1)+.5},t["in-quad"]=t.inQuad,t["out-quad"]=t.outQuad,t["in-out-quad"]=t.inOutQuad,t["in-cube"]=t.inCube,t["out-cube"]=t.outCube,t["in-out-cube"]=t.inOutCube,t["in-quart"]=t.inQuart,t["out-quart"]=t.outQuart,t["in-out-quart"]=t.inOutQuart,t["in-quint"]=t.inQuint,t["out-quint"]=t.outQuint,t["in-out-quint"]=t.inOutQuint,t["in-sine"]=t.inSine,t["out-sine"]=t.outSine,t["in-out-sine"]=t.inOutSine,t["in-expo"]=t.inExpo,t["out-expo"]=t.outExpo,t["in-out-expo"]=t.inOutExpo,t["in-circ"]=t.inCirc,t["out-circ"]=t.outCirc,t["in-out-circ"]=t.inOutCirc,t["in-back"]=t.inBack,t["out-back"]=t.outBack,t["in-out-back"]=t.inOutBack,t["in-bounce"]=t.inBounce,t["out-bounce"]=t.outBounce,t["in-out-bounce"]=t.inOutBounce},93:function(e,t,n){e.exports=n(417)},94:function(e,t,n){"use strict";var i=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:i,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen,isInWorker:!i};e.exports=r},96:function(e,t,n){"use strict";function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e[0],i=e[1],o={},a=e[2],u=a.split(".").splice(1).join("."),l=r(n,i,o,"en-US","en-US",u);return s(l.esLocale,l.localizedMessage,t)}t.__esModule=!0,t.default=i;var r=n(203),s=n(6);e.exports=t.default}},[2148])})})})});
//# sourceMappingURL=create_set_old.94fe36f92282e25e1144.js.map